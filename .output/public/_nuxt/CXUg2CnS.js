var ne=Object.defineProperty;var re=(e,t,n)=>t in e?ne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var W=(e,t,n)=>re(e,typeof t!="symbol"?t+"":t,n);import{S as defineStore,r as ref,i as computed,F as reactive,G as watch,d as defineComponent,u as useRouter,T as useRoute,o as onMounted,H as onUnmounted,x as createElementBlock,y as createBaseVNode,A as createVNode,E as unref,U as isRef,Q as renderSlot,V as __nuxt_component_0,v as openBlock}from"./D_pZHRcs.js";import{d as bech32,n as networkEndpoints,e as build,f as elliptic$1,h as dist$2,j as dist$3,W as Wallet,k as deepClone,C as ContractsPlane,c as getClients,l as getDenomLinksStore,g as getNetworkEndpoint,m as getNetworkStore,s as setDenomLinksStore,o as delay,u as useNetworkStore,p as NEXUS_BOTS_ROUTER_MAP_TAB,T as TAB_MAP_NEXUS_BOTS_ROUTER}from"./CBmwknQc.js";import{b as buffer,_ as _global$1,p as process,n as requireCryptoBrowserify,m as bnExports,B as BN}from"./BGnIl5FR.js";import{p as planeFromJSON,i as planeToJSON,S as StrategyType,q as queryActionToJSON}from"./zUkphfeI.js";import{r as requireAssert}from"./DfOv1mK1.js";import{P as PublicKey,a as PhantomWalletAdapter,r as require$$1,b as PublicKey$1,S as SYSVAR_RENT_PUBKEY,c as SystemProgram,d as SYSVAR_CLOCK_PUBKEY}from"./DlfdNm-l.js";import{b as bigNumberWeiToBase}from"./CjfcT0Ha.js";import{c as commonjsGlobal$1,g as getDefaultExportFromCjs}from"./CqWak0B_.js";import"./8AwEVado.js";import"./Bowrfbh4.js";import"./CHC-fme-.js";import"./TzHqLCea.js";const getSvmAddress=e=>new PublicKey(e),getEthereumAddress=e=>e.startsWith("0x")||!e.startsWith("lux")?e:`0x${buffer.Buffer.from(bech32.fromWords(bech32.decode(e).words)).toString("hex")}`;var EthereumChainId=(e=>(e[e.Mainnet=1]="Mainnet",e[e.Ropsten=3]="Ropsten",e[e.Rinkeby=4]="Rinkeby",e[e.Goerli=5]="Goerli",e[e.Kovan=42]="Kovan",e[e.Injective=888]="Injective",e[e.Ganache=1337]="Ganache",e[e.HardHat=31337]="HardHat",e))(EthereumChainId||{}),ChainId=(e=>(e.Mainnet="flux-1",e.Testnet="flux-1",e.Devnet="flux-1",e))(ChainId||{});class KeplrWallet{constructor(t){W(this,"chainId");this.chainId=t.chainId}async suggestChain(){if(!window||!window.keplr)throw new Error("Please install the Keplr wallet extension");await window.keplr.experimentalSuggestChain({rpc:networkEndpoints.testnet.tm,rest:networkEndpoints.testnet.lcd,chainId:ChainId.Testnet,chainName:"Flux",stakeCurrency:{coinDenom:"lux",coinMinimalDenom:"lux",coinDecimals:18},bech32Config:{bech32PrefixAccAddr:"lux",bech32PrefixAccPub:"luxpub",bech32PrefixValAddr:"luxvaloper",bech32PrefixValPub:"luxvaloperpub",bech32PrefixConsAddr:"luxvalcons",bech32PrefixConsPub:"luxvalconspub"},bip44:{coinType:60},currencies:[{coinDenom:"lux",coinMinimalDenom:"lux",coinDecimals:18}],feeCurrencies:[{coinDenom:"lux",coinMinimalDenom:"lux",coinDecimals:18,gasPriceStep:{low:1e10,average:1e10,high:1e10}}]})}async getAddresses(){try{return await this.suggestChain(),(await this.getAccounts()).map(n=>n.address)}catch(t){throw t}}async confirm(t){return Promise.resolve(`0x${buffer.Buffer.from(`Confirmation for ${t} at time: ${Date.now()}`).toString("hex")}`)}async getPubKey(){const t=await this.getKey();return buffer.Buffer.from(t.pubKey).toString("base64")}async getKey(){const t=await this.getKeplrWallet();try{return t.getKey(this.chainId)}catch(n){throw n}}async getKeplrWallet(){const{chainId:t}=this,n=await this.getKeplr();try{return await n.enable(t),n}catch(r){throw r}}async getKeplr(){if(!window||!window.keplr)throw new Error("Please install the Keplr wallet extension");return window.keplr}async getAccounts(){const{chainId:t}=this,n=await this.getKeplr();try{return n.getOfflineSigner(t).getAccounts()}catch(r){throw r}}async signTransactionCosmos(t,n){return await(await this.getKeplr()).getOfflineSigner(this.chainId).signDirect(n,t)}async signEIP712CosmosTx({eip712:t,signDoc:n}){const{chainId:r}=this,i=await this.getKeplrWallet(),s=await this.getKey();try{return i.experimentalSignEIP712CosmosTx_v0(r,s.bech32Address,t,n)}catch(o){throw console.log(o),o}}async sendTx(t,n){const r=await this.getKeplrWallet();try{return r.sendTx(this.chainId,t,n)}catch(i){throw console.log(i),i}}async signEthereum(t,n){const r=await this.getKeplrWallet();try{return r.signEthereum(this.chainId,t,n,build.EthSignType.MESSAGE)}catch(i){throw console.log(i),i}}async signArbitrary(t,n){const r=await this.getKeplrWallet();try{const i=await r.signArbitrary(this.chainId,t,n);return console.log(i),i.signature}catch(i){throw console.log(i),i}}}const errors={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function assert$2(e,t){if(!e)throw new Error(t)}function isUint8Array$2(e,t,n){if(assert$2(t instanceof Uint8Array,`Expected ${e} to be an Uint8Array`),n!==void 0)if(Array.isArray(n)){const r=n.join(", "),i=`Expected ${e} to be an Uint8Array with length [${r}]`;assert$2(n.includes(t.length),i)}else{const r=`Expected ${e} to be an Uint8Array with length ${n}`;assert$2(t.length===n,r)}}function isCompressed(e){assert$2(toTypeString(e)==="Boolean","Expected compressed to be a Boolean")}function getAssertedOutput(e=n=>new Uint8Array(n),t){return typeof e=="function"&&(e=e(t)),isUint8Array$2("output",e,t),e}function toTypeString(e){return Object.prototype.toString.call(e).slice(8,-1)}var lib=e=>({contextRandomize(t){switch(assert$2(t===null||t instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),t!==null&&isUint8Array$2("seed",t,32),e.contextRandomize(t)){case 1:throw new Error(errors.CONTEXT_RANDOMIZE_UNKNOW)}},privateKeyVerify(t){return isUint8Array$2("private key",t,32),e.privateKeyVerify(t)===0},privateKeyNegate(t){switch(isUint8Array$2("private key",t,32),e.privateKeyNegate(t)){case 0:return t;case 1:throw new Error(errors.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(t,n){switch(isUint8Array$2("private key",t,32),isUint8Array$2("tweak",n,32),e.privateKeyTweakAdd(t,n)){case 0:return t;case 1:throw new Error(errors.TWEAK_ADD)}},privateKeyTweakMul(t,n){switch(isUint8Array$2("private key",t,32),isUint8Array$2("tweak",n,32),e.privateKeyTweakMul(t,n)){case 0:return t;case 1:throw new Error(errors.TWEAK_MUL)}},publicKeyVerify(t){return isUint8Array$2("public key",t,[33,65]),e.publicKeyVerify(t)===0},publicKeyCreate(t,n=!0,r){switch(isUint8Array$2("private key",t,32),isCompressed(n),r=getAssertedOutput(r,n?33:65),e.publicKeyCreate(r,t)){case 0:return r;case 1:throw new Error(errors.SECKEY_INVALID);case 2:throw new Error(errors.PUBKEY_SERIALIZE)}},publicKeyConvert(t,n=!0,r){switch(isUint8Array$2("public key",t,[33,65]),isCompressed(n),r=getAssertedOutput(r,n?33:65),e.publicKeyConvert(r,t)){case 0:return r;case 1:throw new Error(errors.PUBKEY_PARSE);case 2:throw new Error(errors.PUBKEY_SERIALIZE)}},publicKeyNegate(t,n=!0,r){switch(isUint8Array$2("public key",t,[33,65]),isCompressed(n),r=getAssertedOutput(r,n?33:65),e.publicKeyNegate(r,t)){case 0:return r;case 1:throw new Error(errors.PUBKEY_PARSE);case 2:throw new Error(errors.IMPOSSIBLE_CASE);case 3:throw new Error(errors.PUBKEY_SERIALIZE)}},publicKeyCombine(t,n=!0,r){assert$2(Array.isArray(t),"Expected public keys to be an Array"),assert$2(t.length>0,"Expected public keys array will have more than zero items");for(const i of t)isUint8Array$2("public key",i,[33,65]);switch(isCompressed(n),r=getAssertedOutput(r,n?33:65),e.publicKeyCombine(r,t)){case 0:return r;case 1:throw new Error(errors.PUBKEY_PARSE);case 2:throw new Error(errors.PUBKEY_COMBINE);case 3:throw new Error(errors.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(t,n,r=!0,i){switch(isUint8Array$2("public key",t,[33,65]),isUint8Array$2("tweak",n,32),isCompressed(r),i=getAssertedOutput(i,r?33:65),e.publicKeyTweakAdd(i,t,n)){case 0:return i;case 1:throw new Error(errors.PUBKEY_PARSE);case 2:throw new Error(errors.TWEAK_ADD)}},publicKeyTweakMul(t,n,r=!0,i){switch(isUint8Array$2("public key",t,[33,65]),isUint8Array$2("tweak",n,32),isCompressed(r),i=getAssertedOutput(i,r?33:65),e.publicKeyTweakMul(i,t,n)){case 0:return i;case 1:throw new Error(errors.PUBKEY_PARSE);case 2:throw new Error(errors.TWEAK_MUL)}},signatureNormalize(t){switch(isUint8Array$2("signature",t,64),e.signatureNormalize(t)){case 0:return t;case 1:throw new Error(errors.SIG_PARSE)}},signatureExport(t,n){isUint8Array$2("signature",t,64),n=getAssertedOutput(n,72);const r={output:n,outputlen:72};switch(e.signatureExport(r,t)){case 0:return n.slice(0,r.outputlen);case 1:throw new Error(errors.SIG_PARSE);case 2:throw new Error(errors.IMPOSSIBLE_CASE)}},signatureImport(t,n){switch(isUint8Array$2("signature",t),n=getAssertedOutput(n,64),e.signatureImport(n,t)){case 0:return n;case 1:throw new Error(errors.SIG_PARSE);case 2:throw new Error(errors.IMPOSSIBLE_CASE)}},ecdsaSign(t,n,r={},i){isUint8Array$2("message",t,32),isUint8Array$2("private key",n,32),assert$2(toTypeString(r)==="Object","Expected options to be an Object"),r.data!==void 0&&isUint8Array$2("options.data",r.data),r.noncefn!==void 0&&assert$2(toTypeString(r.noncefn)==="Function","Expected options.noncefn to be a Function"),i=getAssertedOutput(i,64);const s={signature:i,recid:null};switch(e.ecdsaSign(s,t,n,r.data,r.noncefn)){case 0:return s;case 1:throw new Error(errors.SIGN);case 2:throw new Error(errors.IMPOSSIBLE_CASE)}},ecdsaVerify(t,n,r){switch(isUint8Array$2("signature",t,64),isUint8Array$2("message",n,32),isUint8Array$2("public key",r,[33,65]),e.ecdsaVerify(t,n,r)){case 0:return!0;case 3:return!1;case 1:throw new Error(errors.SIG_PARSE);case 2:throw new Error(errors.PUBKEY_PARSE)}},ecdsaRecover(t,n,r,i=!0,s){switch(isUint8Array$2("signature",t,64),assert$2(toTypeString(n)==="Number"&&n>=0&&n<=3,"Expected recovery id to be a Number within interval [0, 3]"),isUint8Array$2("message",r,32),isCompressed(i),s=getAssertedOutput(s,i?33:65),e.ecdsaRecover(s,t,n,r)){case 0:return s;case 1:throw new Error(errors.SIG_PARSE);case 2:throw new Error(errors.RECOVER);case 3:throw new Error(errors.IMPOSSIBLE_CASE)}},ecdh(t,n,r={},i){switch(isUint8Array$2("public key",t,[33,65]),isUint8Array$2("private key",n,32),assert$2(toTypeString(r)==="Object","Expected options to be an Object"),r.data!==void 0&&isUint8Array$2("options.data",r.data),r.hashfn!==void 0?(assert$2(toTypeString(r.hashfn)==="Function","Expected options.hashfn to be a Function"),r.xbuf!==void 0&&isUint8Array$2("options.xbuf",r.xbuf,32),r.ybuf!==void 0&&isUint8Array$2("options.ybuf",r.ybuf,32),isUint8Array$2("output",i)):i=getAssertedOutput(i,32),e.ecdh(i,t,n,r.data,r.hashfn,r.xbuf,r.ybuf)){case 0:return i;case 1:throw new Error(errors.PUBKEY_PARSE);case 2:throw new Error(errors.ECDH)}}}),elliptic=lib(elliptic$1);function uint8ArrayToHex(e){return buffer.Buffer.from(e).toString("hex")}function hexToUnit8Array(e){return new Uint8Array(buffer.Buffer.from(e,"hex"))}function compress(e){var t=buffer.Buffer.from(e,"hex");return t.length===64&&(e="04"+e),uint8ArrayToHex(elliptic.publicKeyConvert(hexToUnit8Array(e),!0))}class Metamask{constructor(t){W(this,"chainId");this.chainId=t.chainId}async getAddresses(){const t=await this.getEthereum();try{return await t.request({method:"eth_requestAccounts"})}catch(n){throw n}}async confirm(t){return Promise.resolve(`0x${buffer.Buffer.from(`Confirmation for ${t} at time: ${Date.now()}`).toString("hex")}`)}async getEthereum(){var t;if((t=window==null?void 0:window.ethereum)!=null&&t.isMetaMask)return window.ethereum;if(window.providers){let n=window.providers.find(r=>r==null?void 0:r.isMetaMask);if(n)return n}throw new Error("Please install the Metamask wallet extension")}async getEthereumChainId(){const t=await this.getEthereum();try{return t.request({method:"eth_chainId"})}catch(n){throw n}}async signEip712TypedData(t,n){const r=await this.getEthereum();try{return await r.request({method:"eth_signTypedData_v4",params:[n,t]})}catch(i){throw i}}async signPersonal(t,n){return await window.ethereum.request({method:"personal_sign",params:[n,t]})}async getPubkeyFromSignature(t,n){const r=dist$2.TypedDataUtils.eip712Hash(t,dist$2.SignTypedDataVersion.V4),i=dist$3.fromRpcSig(n),s=dist$3.ecrecover(r,i.v,i.r,i.s);return compress(buffer.Buffer.from(s).toString("hex"))}async getPubKey(){throw new Error("You can only fetch PubKey from Cosmos native wallets")}}const ERROR={WalletNotReadyError:"Please install Phantom wallet"};class Phantom{constructor(t){W(this,"chainId");this.chainId=t.chainId}async connect(){try{const t=new PhantomWalletAdapter;return await t.connect(),t}catch(t){throw ERROR[t.name]?new Error(ERROR[t.name]):new Error(t.name)}}async getAddresses(){var n;return[((n=(await this.connect()).publicKey)==null?void 0:n.toString())||""]}async getPubKey(){var n;return((n=(await this.connect()).publicKey)==null?void 0:n.toString())||""}async signPersonal(t){const n=await this.connect();if(n.signMessage)return await n.signMessage(t);throw new Error("signMessage is not supported by this provider")}}class WalletStrategy{constructor(t,n){W(this,"provider");W(this,"chainId");W(this,"wallet");this.chainId=n,this.wallet=t;try{switch(t){case Wallet.Keplr:this.provider=new KeplrWallet({chainId:n});break;case Wallet.Metamask:this.provider=new Metamask({chainId:n});break;case Wallet.Phantom:this.provider=new Phantom({chainId:n});break;default:break}}catch{}}async setWallet(t){switch(this.wallet=t,t){case Wallet.Keplr:this.provider=new KeplrWallet({chainId:this.chainId});break;case Wallet.Metamask:this.provider=new Metamask({chainId:this.chainId});break;case Wallet.Phantom:this.provider=new Phantom({chainId:this.chainId});break;default:this.provider=new KeplrWallet({chainId:this.chainId});break}}async getAddresses(){return this.provider.getAddresses()}async confirm(t){return this.provider.confirm(t)}async getPubKey(){if([Wallet.Keplr,Wallet.Phantom].includes(this.wallet))return this.provider.getPubKey();throw new Error("This wallet does not support getPubKey")}async getPubkeyFromSignature(t,n){if(this.wallet===Wallet.Metamask)return this.provider.getPubkeyFromSignature(t,n);throw new Error("This wallet does not support getPubkeyFromSignature")}async signEip712TypedData(t,n){if(this.wallet===Wallet.Metamask){let r=getEthereumAddress(n);return this.provider.signEip712TypedData(t,r)}throw new Error("This wallet does not support signEip712TypedData")}async signPersonal(t,n){if(this.wallet===Wallet.Metamask){let r=getEthereumAddress(t);return this.provider.signPersonal(r,n)}if(this.wallet===Wallet.Keplr)return this.provider.signEthereum(t,n);throw new Error("This wallet does not support signPersonal")}async signEIP712CosmosTx(t,n){if(this.wallet===Wallet.Keplr)return this.provider.signEIP712CosmosTx({eip712:t,signDoc:n});throw new Error("This wallet does not support signEIP712CosmosTx")}async signTransactionCosmos(t,n){if(this.wallet===Wallet.Keplr)return this.provider.signTransactionCosmos(t,n);throw new Error("This wallet does not support signTransactionCosmos")}async sendTx(t,n){if(this.wallet===Wallet.Keplr)return this.provider.sendTx(t,n);throw new Error("This wallet does not support sendTx")}}function bind(e,t){return function(){return e.apply(t,arguments)}}const{toString:toString$2}=Object.prototype,{getPrototypeOf}=Object,kindOf=(e=>t=>{const n=toString$2.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=e=>(e=e.toLowerCase(),t=>kindOf(t)===e),typeOfTest=e=>t=>typeof t===e,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(e){return e!==null&&!isUndefined(e)&&e.constructor!==null&&!isUndefined(e.constructor)&&isFunction(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&isArrayBuffer(e.buffer),t}const isString$1=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber$1=typeOfTest("number"),isObject$1=e=>e!==null&&typeof e=="object",isBoolean$1=e=>e===!0||e===!1,isPlainObject=e=>{if(kindOf(e)!=="object")return!1;const t=getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=e=>isObject$1(e)&&isFunction(e.pipe),isFormData=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||isFunction(e.append)&&((t=kindOf(e))==="formdata"||t==="object"&&isFunction(e.toString)&&e.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),isArray(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const s=n?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let a;for(r=0;r<o;r++)a=s[r],t.call(null,e[a],a,e)}}function findKey(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:_global$1,isContextDefined=e=>!isUndefined(e)&&e!==_global;function merge(){const{caseless:e}=isContextDefined(this)&&this||{},t={},n=(r,i)=>{const s=e&&findKey(t,i)||i;isPlainObject(t[s])&&isPlainObject(r)?t[s]=merge(t[s],r):isPlainObject(r)?t[s]=merge({},r):isArray(r)?t[s]=r.slice():t[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&forEach(arguments[r],n);return t}const extend=(e,t,n,{allOwnKeys:r}={})=>(forEach(t,(i,s)=>{n&&isFunction(i)?e[s]=bind(i,n):e[s]=i},{allOwnKeys:r}),e),stripBOM=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),inherits=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject=(e,t,n,r)=>{let i,s,o;const a={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)o=i[s],(!r||r(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=n!==!1&&getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},endsWith=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},toArray=e=>{if(!e)return null;if(isArray(e))return e;let t=e.length;if(!isNumber$1(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},isTypedArray=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=r.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},matchAll=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),hasOwnProperty=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};forEach(n,(i,s)=>{let o;(o=t(i,s,e))!==!1&&(r[s]=o||i)}),Object.defineProperties(e,r)},freezeMethods=e=>{reduceDescriptors(e,(t,n)=>{if(isFunction(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(isFunction(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},toObjectSet=(e,t)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return isArray(e)?r(e):r(String(e).split(t)),n},noop=()=>{},toFiniteNumber=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(e=16,t=ALPHABET.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function isSpecCompliantForm(e){return!!(e&&isFunction(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const toJSONObject=e=>{const t=new Array(10),n=(r,i)=>{if(isObject$1(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[i]=r;const s=isArray(r)?[]:{};return forEach(r,(o,a)=>{const u=n(o,i+1);!isUndefined(u)&&(s[a]=u)}),t[i]=void 0,s}}return r};return n(e,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=e=>e&&(isObject$1(e)||isFunction(e))&&isFunction(e.then)&&isFunction(e.catch),_setImmediate=((e,t)=>e?setImmediate:t?((n,r)=>(_global.addEventListener("message",({source:i,data:s})=>{i===_global&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),_global.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",isFunction(_global.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global):typeof process<"u"&&process.nextTick||_setImmediate,utils$2={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString:isString$1,isNumber:isNumber$1,isBoolean:isBoolean$1,isObject:isObject$1,isPlainObject,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop,toFiniteNumber,findKey,global:_global,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap};function AxiosError(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}utils$2.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$2.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{descriptors[e]={value:e}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(e,t,n,r,i,s)=>{const o=Object.create(prototype$1);return utils$2.toFlatObject(e,o,function(u){return u!==Error.prototype},a=>a!=="isAxiosError"),AxiosError.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const httpAdapter=null;function isVisitable(e){return utils$2.isPlainObject(e)||utils$2.isArray(e)}function removeBrackets(e){return utils$2.endsWith(e,"[]")?e.slice(0,-2):e}function renderKey(e,t,n){return e?e.concat(t).map(function(i,s){return i=removeBrackets(i),!n&&s?"["+i+"]":i}).join(n?".":""):t}function isFlatArray(e){return utils$2.isArray(e)&&!e.some(isVisitable)}const predicates=utils$2.toFlatObject(utils$2,{},null,function(t){return/^is[A-Z]/.test(t)});function toFormData(e,t,n){if(!utils$2.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=utils$2.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,p){return!utils$2.isUndefined(p[y])});const r=n.metaTokens,i=n.visitor||d,s=n.dots,o=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&utils$2.isSpecCompliantForm(t);if(!utils$2.isFunction(i))throw new TypeError("visitor must be a function");function c(_){if(_===null)return"";if(utils$2.isDate(_))return _.toISOString();if(!u&&utils$2.isBlob(_))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$2.isArrayBuffer(_)||utils$2.isTypedArray(_)?u&&typeof Blob=="function"?new Blob([_]):buffer.Buffer.from(_):_}function d(_,y,p){let w=_;if(_&&!p&&typeof _=="object"){if(utils$2.endsWith(y,"{}"))y=r?y:y.slice(0,-2),_=JSON.stringify(_);else if(utils$2.isArray(_)&&isFlatArray(_)||(utils$2.isFileList(_)||utils$2.endsWith(y,"[]"))&&(w=utils$2.toArray(_)))return y=removeBrackets(y),w.forEach(function(E,S){!(utils$2.isUndefined(E)||E===null)&&t.append(o===!0?renderKey([y],S,s):o===null?y:y+"[]",c(E))}),!1}return isVisitable(_)?!0:(t.append(renderKey(p,y,s),c(_)),!1)}const f=[],m=Object.assign(predicates,{defaultVisitor:d,convertValue:c,isVisitable});function h(_,y){if(!utils$2.isUndefined(_)){if(f.indexOf(_)!==-1)throw Error("Circular reference detected in "+y.join("."));f.push(_),utils$2.forEach(_,function(w,T){(!(utils$2.isUndefined(w)||w===null)&&i.call(t,w,utils$2.isString(T)?T.trim():T,y,m))===!0&&h(w,y?y.concat(T):[T])}),f.pop()}}if(!utils$2.isObject(e))throw new TypeError("data must be an object");return h(e),t}function encode$2(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function AxiosURLSearchParams(e,t){this._pairs=[],e&&toFormData(e,this,t)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(t,n){this._pairs.push([t,n])};prototype.toString=function(t){const n=t?function(r){return t.call(this,r,encode$2)}:encode$2;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function encode$1(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(e,t,n){if(!t)return e;const r=n&&n.encode||encode$1,i=n&&n.serialize;let s;if(i?s=i(t,n):s=utils$2.isURLSearchParams(t)?t.toString():new AxiosURLSearchParams(t,n).toString(r),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class InterceptorManager{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){utils$2.forEach(this.handlers,function(r){r!==null&&t(r)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$3=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$3},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils$1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,navigator:_navigator,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils$1,...platform$1};function toURLEncodedForm(e,t){return toFormData(e,new platform.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return platform.isNode&&utils$2.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function parsePropPath(e){return utils$2.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function arrayToObject(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}function formDataToJSON(e){function t(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),u=s>=n.length;return o=!o&&utils$2.isArray(i)?i.length:o,u?(utils$2.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!utils$2.isObject(i[o]))&&(i[o]=[]),t(n,r,i[o],s)&&utils$2.isArray(i[o])&&(i[o]=arrayToObject(i[o])),!a)}if(utils$2.isFormData(e)&&utils$2.isFunction(e.entries)){const n={};return utils$2.forEachEntry(e,(r,i)=>{t(parsePropPath(r),i,n,0)}),n}return null}function stringifySafely(e,t,n){if(utils$2.isString(e))try{return(t||JSON.parse)(e),utils$2.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(e)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=utils$2.isObject(t);if(s&&utils$2.isHTMLForm(t)&&(t=new FormData(t)),utils$2.isFormData(t))return i?JSON.stringify(formDataToJSON(t)):t;if(utils$2.isArrayBuffer(t)||utils$2.isBuffer(t)||utils$2.isStream(t)||utils$2.isFile(t)||utils$2.isBlob(t)||utils$2.isReadableStream(t))return t;if(utils$2.isArrayBufferView(t))return t.buffer;if(utils$2.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(t,this.formSerializer).toString();if((a=utils$2.isFileList(t))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return toFormData(a?{"files[]":t}:t,u&&new u,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),stringifySafely(t)):t}],transformResponse:[function(t){const n=this.transitional||defaults.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(utils$2.isResponse(t)||utils$2.isReadableStream(t))return t;if(t&&utils$2.isString(t)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?AxiosError.from(a,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$2.forEach(["delete","get","head","post","put","patch"],e=>{defaults.headers[e]={}});const ignoreDuplicateOf=utils$2.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||t[n]&&ignoreDuplicateOf[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},$internals=Symbol("internals");function normalizeHeader(e){return e&&String(e).trim().toLowerCase()}function normalizeValue(e){return e===!1||e==null?e:utils$2.isArray(e)?e.map(normalizeValue):String(e)}function parseTokens(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const isValidHeaderName=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function matchHeaderValue(e,t,n,r,i){if(utils$2.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!utils$2.isString(t)){if(utils$2.isString(r))return t.indexOf(r)!==-1;if(utils$2.isRegExp(r))return r.test(t)}}function formatHeader(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function buildAccessors(e,t){const n=utils$2.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,s,o){return this[r].call(this,t,i,s,o)},configurable:!0})})}class AxiosHeaders{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function s(a,u,c){const d=normalizeHeader(u);if(!d)throw new Error("header name must be a non-empty string");const f=utils$2.findKey(i,d);(!f||i[f]===void 0||c===!0||c===void 0&&i[f]!==!1)&&(i[f||u]=normalizeValue(a))}const o=(a,u)=>utils$2.forEach(a,(c,d)=>s(c,d,u));if(utils$2.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(utils$2.isString(t)&&(t=t.trim())&&!isValidHeaderName(t))o(parseHeaders(t),n);else if(utils$2.isHeaders(t))for(const[a,u]of t.entries())s(u,a,r);else t!=null&&s(n,t,r);return this}get(t,n){if(t=normalizeHeader(t),t){const r=utils$2.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return parseTokens(i);if(utils$2.isFunction(n))return n.call(this,i,r);if(utils$2.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=normalizeHeader(t),t){const r=utils$2.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||matchHeaderValue(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function s(o){if(o=normalizeHeader(o),o){const a=utils$2.findKey(r,o);a&&(!n||matchHeaderValue(r,r[a],a,n))&&(delete r[a],i=!0)}}return utils$2.isArray(t)?t.forEach(s):s(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!t||matchHeaderValue(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const n=this,r={};return utils$2.forEach(this,(i,s)=>{const o=utils$2.findKey(r,s);if(o){n[o]=normalizeValue(i),delete n[s];return}const a=t?formatHeader(s):String(s).trim();a!==s&&delete n[s],n[a]=normalizeValue(i),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return utils$2.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&utils$2.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[$internals]=this[$internals]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=normalizeHeader(o);r[a]||(buildAccessors(i,o),r[a]=!0)}return utils$2.isArray(t)?t.forEach(s):s(t),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$2.reduceDescriptors(AxiosHeaders.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});utils$2.freezeMethods(AxiosHeaders);function transformData(e,t){const n=this||defaults,r=t||n,i=AxiosHeaders.from(r.headers);let s=r.data;return utils$2.forEach(e,function(a){s=a.call(n,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function isCancel(e){return!!(e&&e.__CANCEL__)}function CanceledError(e,t,n){AxiosError.call(this,e??"canceled",AxiosError.ERR_CANCELED,t,n),this.name="CanceledError"}utils$2.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new AxiosError("Request failed with status code "+n.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function parseProtocol(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function speedometer(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,s=0,o;return t=t!==void 0?t:1e3,function(u){const c=Date.now(),d=r[s];o||(o=c),n[i]=u,r[i]=c;let f=s,m=0;for(;f!==i;)m+=n[f++],f=f%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),c-o<t)return;const h=d&&c-d;return h?Math.round(m*1e3/h):void 0}}function throttle(e,t){let n=0,r=1e3/t,i,s;const o=(c,d=Date.now())=>{n=d,i=null,s&&(clearTimeout(s),s=null),e.apply(null,c)};return[(...c)=>{const d=Date.now(),f=d-n;f>=r?o(c,d):(i=c,s||(s=setTimeout(()=>{s=null,o(i)},r-f)))},()=>i&&o(i)]}const progressEventReducer=(e,t,n=3)=>{let r=0;const i=speedometer(50,250);return throttle(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,u=o-r,c=i(u),d=o<=a;r=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:u,rate:c||void 0,estimated:c&&a&&d?(a-o)/c:void 0,event:s,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(f)},n)},progressEventDecorator=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},asyncDecorator=e=>(...t)=>utils$2.asap(()=>e(...t)),isURLSameOrigin=platform.hasStandardBrowserEnv?function(){const t=platform.navigator&&/(msie|trident)/i.test(platform.navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return t&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=utils$2.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),cookies=platform.hasStandardBrowserEnv?{write(e,t,n,r,i,s){const o=[e+"="+encodeURIComponent(t)];utils$2.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),utils$2.isString(r)&&o.push("path="+r),utils$2.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function combineURLs(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function buildFullPath(e,t){return e&&!isAbsoluteURL(t)?combineURLs(e,t):t}const headersToObject=e=>e instanceof AxiosHeaders?{...e}:e;function mergeConfig(e,t){t=t||{};const n={};function r(c,d,f){return utils$2.isPlainObject(c)&&utils$2.isPlainObject(d)?utils$2.merge.call({caseless:f},c,d):utils$2.isPlainObject(d)?utils$2.merge({},d):utils$2.isArray(d)?d.slice():d}function i(c,d,f){if(utils$2.isUndefined(d)){if(!utils$2.isUndefined(c))return r(void 0,c,f)}else return r(c,d,f)}function s(c,d){if(!utils$2.isUndefined(d))return r(void 0,d)}function o(c,d){if(utils$2.isUndefined(d)){if(!utils$2.isUndefined(c))return r(void 0,c)}else return r(void 0,d)}function a(c,d,f){if(f in t)return r(c,d);if(f in e)return r(void 0,c)}const u={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,d)=>i(headersToObject(c),headersToObject(d),!0)};return utils$2.forEach(Object.keys(Object.assign({},e,t)),function(d){const f=u[d]||i,m=f(e[d],t[d],d);utils$2.isUndefined(m)&&f!==a||(n[d]=m)}),n}const resolveConfig=e=>{const t=mergeConfig({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=t;t.headers=o=AxiosHeaders.from(o),t.url=buildURL(buildFullPath(t.baseURL,t.url),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let u;if(utils$2.isFormData(n)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((u=o.getContentType())!==!1){const[c,...d]=u?u.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...d].join("; "))}}if(platform.hasStandardBrowserEnv&&(r&&utils$2.isFunction(r)&&(r=r(t)),r||r!==!1&&isURLSameOrigin(t.url))){const c=i&&s&&cookies.read(s);c&&o.set(i,c)}return t},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(e){return new Promise(function(n,r){const i=resolveConfig(e);let s=i.data;const o=AxiosHeaders.from(i.headers).normalize();let{responseType:a,onUploadProgress:u,onDownloadProgress:c}=i,d,f,m,h,_;function y(){h&&h(),_&&_(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let p=new XMLHttpRequest;p.open(i.method.toUpperCase(),i.url,!0),p.timeout=i.timeout;function w(){if(!p)return;const E=AxiosHeaders.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),C={data:!a||a==="text"||a==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:E,config:e,request:p};settle(function(A){n(A),y()},function(A){r(A),y()},C),p=null}"onloadend"in p?p.onloadend=w:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(w)},p.onabort=function(){p&&(r(new AxiosError("Request aborted",AxiosError.ECONNABORTED,e,p)),p=null)},p.onerror=function(){r(new AxiosError("Network Error",AxiosError.ERR_NETWORK,e,p)),p=null},p.ontimeout=function(){let S=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const C=i.transitional||transitionalDefaults;i.timeoutErrorMessage&&(S=i.timeoutErrorMessage),r(new AxiosError(S,C.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,e,p)),p=null},s===void 0&&o.setContentType(null),"setRequestHeader"in p&&utils$2.forEach(o.toJSON(),function(S,C){p.setRequestHeader(C,S)}),utils$2.isUndefined(i.withCredentials)||(p.withCredentials=!!i.withCredentials),a&&a!=="json"&&(p.responseType=i.responseType),c&&([m,_]=progressEventReducer(c,!0),p.addEventListener("progress",m)),u&&p.upload&&([f,h]=progressEventReducer(u),p.upload.addEventListener("progress",f),p.upload.addEventListener("loadend",h)),(i.cancelToken||i.signal)&&(d=E=>{p&&(r(!E||E.type?new CanceledError(null,e,p):E),p.abort(),p=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const T=parseProtocol(i.url);if(T&&platform.protocols.indexOf(T)===-1){r(new AxiosError("Unsupported protocol "+T+":",AxiosError.ERR_BAD_REQUEST,e));return}p.send(s||null)})},composeSignals=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const s=function(c){if(!i){i=!0,a();const d=c instanceof Error?c:this.reason;r.abort(d instanceof AxiosError?d:new CanceledError(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,s(new AxiosError(`timeout ${t} of ms exceeded`,AxiosError.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),e=null)};e.forEach(c=>c.addEventListener("abort",s));const{signal:u}=r;return u.unsubscribe=()=>utils$2.asap(a),u}},streamChunk=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},readBytes=async function*(e,t){for await(const n of readStream(e))yield*streamChunk(n,t)},readStream=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},trackStream=(e,t,n,r)=>{const i=readBytes(e,t);let s=0,o,a=u=>{o||(o=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:c,value:d}=await i.next();if(c){a(),u.close();return}let f=d.byteLength;if(n){let m=s+=f;n(m)}u.enqueue(new Uint8Array(d))}catch(c){throw a(c),c}},cancel(u){return a(u),i.return()}},{highWaterMark:2})},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),test=(e,...t)=>{try{return!!e(...t)}catch{return!1}},supportsRequestStream=isReadableStreamSupported&&test(()=>{let e=!1;const t=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&test(()=>utils$2.isReadableStream(new Response("").body)),resolvers={stream:supportsResponseStream&&(e=>e.body)};isFetchSupported&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!resolvers[t]&&(resolvers[t]=utils$2.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new AxiosError(`Response type '${t}' is not supported`,AxiosError.ERR_NOT_SUPPORT,r)})})})(new Response);const getBodyLength=async e=>{if(e==null)return 0;if(utils$2.isBlob(e))return e.size;if(utils$2.isSpecCompliantForm(e))return(await new Request(platform.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(utils$2.isArrayBufferView(e)||utils$2.isArrayBuffer(e))return e.byteLength;if(utils$2.isURLSearchParams(e)&&(e=e+""),utils$2.isString(e))return(await encodeText(e)).byteLength},resolveBodyLength=async(e,t)=>{const n=utils$2.toFiniteNumber(e.getContentLength());return n??getBodyLength(t)},fetchAdapter=isFetchSupported&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:u,responseType:c,headers:d,withCredentials:f="same-origin",fetchOptions:m}=resolveConfig(e);c=c?(c+"").toLowerCase():"text";let h=composeSignals([i,s&&s.toAbortSignal()],o),_;const y=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let p;try{if(u&&supportsRequestStream&&n!=="get"&&n!=="head"&&(p=await resolveBodyLength(d,r))!==0){let C=new Request(t,{method:"POST",body:r,duplex:"half"}),N;if(utils$2.isFormData(r)&&(N=C.headers.get("content-type"))&&d.setContentType(N),C.body){const[A,x]=progressEventDecorator(p,progressEventReducer(asyncDecorator(u)));r=trackStream(C.body,DEFAULT_CHUNK_SIZE,A,x)}}utils$2.isString(f)||(f=f?"include":"omit");const w="credentials"in Request.prototype;_=new Request(t,{...m,signal:h,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:w?f:void 0});let T=await fetch(_);const E=supportsResponseStream&&(c==="stream"||c==="response");if(supportsResponseStream&&(a||E&&y)){const C={};["status","statusText","headers"].forEach(L=>{C[L]=T[L]});const N=utils$2.toFiniteNumber(T.headers.get("content-length")),[A,x]=a&&progressEventDecorator(N,progressEventReducer(asyncDecorator(a),!0))||[];T=new Response(trackStream(T.body,DEFAULT_CHUNK_SIZE,A,()=>{x&&x(),y&&y()}),C)}c=c||"text";let S=await resolvers[utils$2.findKey(resolvers,c)||"text"](T,e);return!E&&y&&y(),await new Promise((C,N)=>{settle(C,N,{data:S,headers:AxiosHeaders.from(T.headers),status:T.status,statusText:T.statusText,config:e,request:_})})}catch(w){throw y&&y(),w&&w.name==="TypeError"&&/fetch/i.test(w.message)?Object.assign(new AxiosError("Network Error",AxiosError.ERR_NETWORK,e,_),{cause:w.cause||w}):AxiosError.from(w,w&&w.code,e,_)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$2.forEach(knownAdapters,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const renderReason=e=>`- ${e}`,isResolvedHandle=e=>utils$2.isFunction(e)||e===null||e===!1,adapters={getAdapter:e=>{e=utils$2.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let s=0;s<t;s++){n=e[s];let o;if(r=n,!isResolvedHandle(n)&&(r=knownAdapters[(o=String(n)).toLowerCase()],r===void 0))throw new AxiosError(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,u])=>`adapter ${a} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=t?s.length>1?`since :
`+s.map(renderReason).join(`
`):" "+renderReason(s[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:knownAdapters};function throwIfCancellationRequested(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new CanceledError(null,e)}function dispatchRequest(e){return throwIfCancellationRequested(e),e.headers=AxiosHeaders.from(e.headers),e.data=transformData.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(e.adapter||defaults.adapter)(e).then(function(r){return throwIfCancellationRequested(e),r.data=transformData.call(e,e.transformResponse,r),r.headers=AxiosHeaders.from(r.headers),r},function(r){return isCancel(r)||(throwIfCancellationRequested(e),r&&r.response&&(r.response.data=transformData.call(e,e.transformResponse,r.response),r.response.headers=AxiosHeaders.from(r.response.headers))),Promise.reject(r)})}const VERSION="1.7.7",validators$1={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{validators$1[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const deprecatedWarnings={};validators$1.transitional=function(t,n,r){function i(s,o){return"[Axios v"+VERSION+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(t===!1)throw new AxiosError(i(o," has been removed"+(n?" in "+n:"")),AxiosError.ERR_DEPRECATED);return n&&!deprecatedWarnings[o]&&(deprecatedWarnings[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(s,o,a):!0}};function assertOptions(e,t,n){if(typeof e!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],o=t[s];if(o){const a=e[s],u=a===void 0||o(a,s,e);if(u!==!0)throw new AxiosError("option "+s+" must be "+u,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new AxiosError("Unknown option "+s,AxiosError.ERR_BAD_OPTION)}}const validator$1={assertOptions,validators:validators$1},validators=validator$1.validators;class Axios{constructor(t){this.defaults=t,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=mergeConfig(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&validator$1.assertOptions(r,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),i!=null&&(utils$2.isFunction(i)?n.paramsSerializer={serialize:i}:validator$1.assertOptions(i,{encode:validators.function,serialize:validators.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&utils$2.merge(s.common,s[n.method]);s&&utils$2.forEach(["delete","get","head","post","put","patch","common"],_=>{delete s[_]}),n.headers=AxiosHeaders.concat(o,s);const a=[];let u=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(u=u&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});let d,f=0,m;if(!u){const _=[dispatchRequest.bind(this),void 0];for(_.unshift.apply(_,a),_.push.apply(_,c),m=_.length,d=Promise.resolve(n);f<m;)d=d.then(_[f++],_[f++]);return d}m=a.length;let h=n;for(f=0;f<m;){const _=a[f++],y=a[f++];try{h=_(h)}catch(p){y.call(this,p);break}}try{d=dispatchRequest.call(this,h)}catch(_){return Promise.reject(_)}for(f=0,m=c.length;f<m;)d=d.then(c[f++],c[f++]);return d}getUri(t){t=mergeConfig(this.defaults,t);const n=buildFullPath(t.baseURL,t.url);return buildURL(n,t.params,t.paramsSerializer)}}utils$2.forEach(["delete","get","head","options"],function(t){Axios.prototype[t]=function(n,r){return this.request(mergeConfig(r||{},{method:t,url:n,data:(r||{}).data}))}});utils$2.forEach(["post","put","patch"],function(t){function n(r){return function(s,o,a){return this.request(mergeConfig(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Axios.prototype[t]=n(),Axios.prototype[t+"Form"]=n(!0)});class CancelToken{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},t(function(s,o,a){r.reason||(r.reason=new CanceledError(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new CancelToken(function(i){t=i}),cancel:t}}}function spread(e){return function(n){return e.apply(null,n)}}function isAxiosError(e){return utils$2.isObject(e)&&e.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([e,t])=>{HttpStatusCode[t]=e});function createInstance(e){const t=new Axios(e),n=bind(Axios.prototype.request,t);return utils$2.extend(n,Axios.prototype,t,{allOwnKeys:!0}),utils$2.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return createInstance(mergeConfig(e,i))},n}const axios=createInstance(defaults);axios.Axios=Axios;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function(t){return Promise.all(t)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders;axios.formToJSON=e=>formDataToJSON(utils$2.isHTMLForm(e)?new FormData(e):e);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode;axios.default=axios;var TabKeys=(e=>(e.NEXUS_BOTS="nexus-bots-page",e))(TabKeys||{});class TabsManager{static setTab(t,n){localStorage.setItem(t,n.toString())}static getTab(t){return parseInt(localStorage.getItem(t)||"0")}}const initStore$2=()=>deepClone({strategies:[],isFetching:!0,isFetched:!1}),useStrategyStore=defineStore("strategyStore",()=>{const e=ref(initStore$2());return{setStore:r=>{Object.keys(r).forEach(s=>{e.value={...e.value,[s]:r[s]}})},store:e,resetStore:()=>{e.value=initStore$2()}}});EthereumChainId.Mainnet;const CHAIN_ID=ChainId.Testnet,initState$1=()=>JSON.parse(JSON.stringify({isFetched:!1,isFetching:!1,address:"",svmAccountLink:null,balance:0,isConnected:!1,walletName:"",assets:[],isOpenModalWallets:!1,isOpenModalWarningKeplrWallet:!1,[ContractsPlane.EVM]:{isFetched:!1,assets:[]},[ContractsPlane.SVM]:{isFetched:!1,assets:[]},[ContractsPlane.WASM]:{isFetched:!1,assets:[]},[ContractsPlane.COSMOS]:{isFetched:!1,assets:[]}})),useWalletStore=defineStore("walletStore",()=>{const e=ref(initState$1());return{setStore:a=>{Object.keys(a).forEach(c=>{e.value={...e.value,[c]:a[c]}})},store:e,pushAssets:(a,u)=>{a.forEach(c=>{const d=e.value[u].assets.findIndex(f=>f.denom===c.denom);d===-1?e.value[u].assets.push(c):e.value[u].assets[d]=c})},removeAssets:a=>{e.value.assets=e.value.assets.filter(u=>!a.some(c=>c.denom===u.denom))},resetStore:a=>{e.value={...initState$1(),isConnected:a?e.value.isConnected:!1,address:a?e.value.address:"",walletName:a?e.value.walletName:""}},toggleModalWallets:()=>{e.value.isOpenModalWallets=!e.value.isOpenModalWallets},toggleModalWarningKeplrWallet:()=>{e.value.isOpenModalWarningKeplrWallet=!e.value.isOpenModalWarningKeplrWallet}}});requireCryptoBrowserify();var camelcase={exports:{}};const UPPERCASE=/[\p{Lu}]/u,LOWERCASE=/[\p{Ll}]/u,LEADING_CAPITAL=/^[\p{Lu}](?![\p{Lu}])/gu,IDENTIFIER=/([\p{Alpha}\p{N}_]|$)/u,SEPARATORS=/[_.\- ]+/,LEADING_SEPARATORS=new RegExp("^"+SEPARATORS.source),SEPARATORS_AND_IDENTIFIER=new RegExp(SEPARATORS.source+IDENTIFIER.source,"gu"),NUMBERS_AND_IDENTIFIER=new RegExp("\\d+"+IDENTIFIER.source,"gu"),preserveCamelCase=(e,t,n)=>{let r=!1,i=!1,s=!1;for(let o=0;o<e.length;o++){const a=e[o];r&&UPPERCASE.test(a)?(e=e.slice(0,o)+"-"+e.slice(o),r=!1,s=i,i=!0,o++):i&&s&&LOWERCASE.test(a)?(e=e.slice(0,o-1)+"-"+e.slice(o-1),s=i,i=!1,r=!0):(r=t(a)===a&&n(a)!==a,s=i,i=n(a)===a&&t(a)!==a)}return e},preserveConsecutiveUppercase=(e,t)=>(LEADING_CAPITAL.lastIndex=0,e.replace(LEADING_CAPITAL,n=>t(n))),postProcess=(e,t)=>(SEPARATORS_AND_IDENTIFIER.lastIndex=0,NUMBERS_AND_IDENTIFIER.lastIndex=0,e.replace(SEPARATORS_AND_IDENTIFIER,(n,r)=>t(r)).replace(NUMBERS_AND_IDENTIFIER,n=>t(n))),camelCase=(e,t)=>{if(!(typeof e=="string"||Array.isArray(e)))throw new TypeError("Expected the input to be `string | string[]`");if(t={pascalCase:!1,preserveConsecutiveUppercase:!1,...t},Array.isArray(e)?e=e.map(s=>s.trim()).filter(s=>s.length).join("-"):e=e.trim(),e.length===0)return"";const n=t.locale===!1?s=>s.toLowerCase():s=>s.toLocaleLowerCase(t.locale),r=t.locale===!1?s=>s.toUpperCase():s=>s.toLocaleUpperCase(t.locale);return e.length===1?t.pascalCase?r(e):n(e):(e!==n(e)&&(e=preserveCamelCase(e,n,r)),e=e.replace(LEADING_SEPARATORS,""),t.preserveConsecutiveUppercase?e=preserveConsecutiveUppercase(e,n):e=n(e),t.pascalCase&&(e=r(e.charAt(0))+e.slice(1)),postProcess(e,r))};camelcase.exports=camelCase;camelcase.exports.default=camelCase;var sha256$1={exports:{}};(function(module){(function(){var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;NODE_JS?root=commonjsGlobal$1:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&!0&&module.exports,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(e){return typeof e=="object"&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e,t){return function(n){return new Sha256(t,!0).update(n)[e]()}},createMethod=function(e){var t=createOutputMethod("hex",e);NODE_JS&&(t=nodeWrap(t,e)),t.create=function(){return new Sha256(e)},t.update=function(i){return t.create().update(i)};for(var n=0;n<OUTPUT_TYPES.length;++n){var r=OUTPUT_TYPES[n];t[r]=createOutputMethod(r,e)}return t},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(e){if(typeof e=="string")return crypto.createHash(algorithm).update(e,"utf8").digest("hex");if(e==null)throw new Error(ERROR);return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod},createHmacOutputMethod=function(e,t){return function(n,r){return new HmacSha256(n,t,!0).update(r)[e]()}},createHmacMethod=function(e){var t=createHmacOutputMethod("hex",e);t.create=function(i){return new HmacSha256(i,e)},t.update=function(i,s){return t.create(i).update(s)};for(var n=0;n<OUTPUT_TYPES.length;++n){var r=OUTPUT_TYPES[n];t[r]=createHmacOutputMethod(r,e)}return t};function Sha256(e,t){t?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}Sha256.prototype.update=function(e){if(!this.finalized){var t,n=typeof e;if(n!=="string"){if(n==="object"){if(e===null)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(e)))throw new Error(ERROR)}else throw new Error(ERROR);t=!0}for(var r,i=0,s,o=e.length,a=this.blocks;i<o;){if(this.hashed&&(this.hashed=!1,a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),t)for(s=this.start;i<o&&s<64;++i)a[s>>2]|=e[i]<<SHIFT[s++&3];else for(s=this.start;i<o&&s<64;++i)r=e.charCodeAt(i),r<128?a[s>>2]|=r<<SHIFT[s++&3]:r<2048?(a[s>>2]|=(192|r>>6)<<SHIFT[s++&3],a[s>>2]|=(128|r&63)<<SHIFT[s++&3]):r<55296||r>=57344?(a[s>>2]|=(224|r>>12)<<SHIFT[s++&3],a[s>>2]|=(128|r>>6&63)<<SHIFT[s++&3],a[s>>2]|=(128|r&63)<<SHIFT[s++&3]):(r=65536+((r&1023)<<10|e.charCodeAt(++i)&1023),a[s>>2]|=(240|r>>18)<<SHIFT[s++&3],a[s>>2]|=(128|r>>12&63)<<SHIFT[s++&3],a[s>>2]|=(128|r>>6&63)<<SHIFT[s++&3],a[s>>2]|=(128|r&63)<<SHIFT[s++&3]);this.lastByteIndex=s,this.bytes+=s-this.start,s>=64?(this.block=a[16],this.start=s-64,this.hash(),this.hashed=!0):this.start=s}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=EXTRA[t&3],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var e=this.h0,t=this.h1,n=this.h2,r=this.h3,i=this.h4,s=this.h5,o=this.h6,a=this.h7,u=this.blocks,c,d,f,m,h,_,y,p,w,T,E;for(c=16;c<64;++c)h=u[c-15],d=(h>>>7|h<<25)^(h>>>18|h<<14)^h>>>3,h=u[c-2],f=(h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10,u[c]=u[c-16]+d+u[c-7]+f<<0;for(E=t&n,c=0;c<64;c+=4)this.first?(this.is224?(p=300032,h=u[0]-1413257819,a=h-150054599<<0,r=h+24177077<<0):(p=704751109,h=u[0]-210244248,a=h-1521486534<<0,r=h+143694565<<0),this.first=!1):(d=(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),f=(i>>>6|i<<26)^(i>>>11|i<<21)^(i>>>25|i<<7),p=e&t,m=p^e&n^E,y=i&s^~i&o,h=a+f+y+K[c]+u[c],_=d+m,a=r+h<<0,r=h+_<<0),d=(r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10),f=(a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7),w=r&e,m=w^r&t^p,y=a&i^~a&s,h=o+f+y+K[c+1]+u[c+1],_=d+m,o=n+h<<0,n=h+_<<0,d=(n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10),f=(o>>>6|o<<26)^(o>>>11|o<<21)^(o>>>25|o<<7),T=n&r,m=T^n&e^w,y=o&a^~o&i,h=s+f+y+K[c+2]+u[c+2],_=d+m,s=t+h<<0,t=h+_<<0,d=(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10),f=(s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7),E=t&n,m=E^t&r^T,y=s&o^~s&a,h=i+f+y+K[c+3]+u[c+3],_=d+m,i=e+h<<0,e=h+_<<0;this.h0=this.h0+e<<0,this.h1=this.h1+t<<0,this.h2=this.h2+n<<0,this.h3=this.h3+r<<0,this.h4=this.h4+i<<0,this.h5=this.h5+s<<0,this.h6=this.h6+o<<0,this.h7=this.h7+a<<0},Sha256.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,i=this.h4,s=this.h5,o=this.h6,a=this.h7,u=HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[e&15]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[t&15]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[n&15]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[r&15]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[i&15]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[s&15]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[o&15];return this.is224||(u+=HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[a&15]),u},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,i=this.h4,s=this.h5,o=this.h6,a=this.h7,u=[e>>24&255,e>>16&255,e>>8&255,e&255,t>>24&255,t>>16&255,t>>8&255,t&255,n>>24&255,n>>16&255,n>>8&255,n&255,r>>24&255,r>>16&255,r>>8&255,r&255,i>>24&255,i>>16&255,i>>8&255,i&255,s>>24&255,s>>16&255,s>>8&255,s&255,o>>24&255,o>>16&255,o>>8&255,o&255];return this.is224||u.push(a>>24&255,a>>16&255,a>>8&255,a&255),u},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),this.is224||t.setUint32(28,this.h7),e};function HmacSha256(e,t,n){var r,i=typeof e;if(i==="string"){var s=[],o=e.length,a=0,u;for(r=0;r<o;++r)u=e.charCodeAt(r),u<128?s[a++]=u:u<2048?(s[a++]=192|u>>6,s[a++]=128|u&63):u<55296||u>=57344?(s[a++]=224|u>>12,s[a++]=128|u>>6&63,s[a++]=128|u&63):(u=65536+((u&1023)<<10|e.charCodeAt(++r)&1023),s[a++]=240|u>>18,s[a++]=128|u>>12&63,s[a++]=128|u>>6&63,s[a++]=128|u&63);e=s}else if(i==="object"){if(e===null)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(e)))throw new Error(ERROR)}else throw new Error(ERROR);e.length>64&&(e=new Sha256(t,!0).update(e).array());var c=[],d=[];for(r=0;r<64;++r){var f=e[r]||0;c[r]=92^f,d[r]=54^f}Sha256.call(this,t,n),this.update(d),this.oKeyPad=c,this.inner=!0,this.sharedMemory=n}HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(e),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224)})()})(sha256$1);var dist$1={},Layout$2={};let Layout$1=class{constructor(t,n){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=n}makeDestinationObject(){return{}}decode(t,n){throw new Error("Layout is abstract")}encode(t,n,r){throw new Error("Layout is abstract")}getSpan(t,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=t,n}fromArray(t){}};Layout$2.Layout=Layout$1;function nameWithProperty$1(e,t){return t.property?e+"["+t.property+"]":e}Layout$2.nameWithProperty=nameWithProperty$1;function bindConstructorLayout(e,t){if(typeof e!="function")throw new TypeError("Class must be constructor");if(e.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof Layout$1))throw new TypeError("layout must be a Layout");if(t.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=()=>new e,Object.defineProperty(e.prototype,"encode",{value:function(n,r){return t.encode(this,n,r)},writable:!0}),Object.defineProperty(e,"decode",{value:function(n,r){return t.decode(n,r)},writable:!0})}Layout$2.bindConstructorLayout=bindConstructorLayout;let ExternalLayout$1=class extends Layout$1{isCount(){throw new Error("ExternalLayout is abstract")}};class GreedyCount extends ExternalLayout$1{constructor(t,n){if(t===void 0&&(t=1),!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=t}isCount(){return!0}decode(t,n){n===void 0&&(n=0);const r=t.length-n;return Math.floor(r/this.elementSpan)}encode(t,n,r){return 0}}let OffsetLayout$1=class extends ExternalLayout$1{constructor(t,n,r){if(!(t instanceof Layout$1))throw new TypeError("layout must be a Layout");if(n===void 0)n=0;else if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(t.span,r||t.property),this.layout=t,this.offset=n}isCount(){return this.layout instanceof UInt$1||this.layout instanceof UIntBE$1}decode(t,n){return n===void 0&&(n=0),this.layout.decode(t,n+this.offset)}encode(t,n,r){return r===void 0&&(r=0),this.layout.encode(t,n,r+this.offset)}},UInt$1=class extends Layout$1{constructor(t,n){if(super(t,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,n){return n===void 0&&(n=0),t.readUIntLE(n,this.span)}encode(t,n,r){return r===void 0&&(r=0),n.writeUIntLE(t,r,this.span),this.span}},UIntBE$1=class extends Layout$1{constructor(t,n){if(super(t,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,n){return n===void 0&&(n=0),t.readUIntBE(n,this.span)}encode(t,n,r){return r===void 0&&(r=0),n.writeUIntBE(t,r,this.span),this.span}};class Int extends Layout$1{constructor(t,n){if(super(t,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,n){return n===void 0&&(n=0),t.readIntLE(n,this.span)}encode(t,n,r){return r===void 0&&(r=0),n.writeIntLE(t,r,this.span),this.span}}class IntBE extends Layout$1{constructor(t,n){if(super(t,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,n){return n===void 0&&(n=0),t.readIntBE(n,this.span)}encode(t,n,r){return r===void 0&&(r=0),n.writeIntBE(t,r,this.span),this.span}}const V2E32$1=Math.pow(2,32);function divmodInt64$1(e){const t=Math.floor(e/V2E32$1),n=e-t*V2E32$1;return{hi32:t,lo32:n}}function roundedInt64$1(e,t){return e*V2E32$1+t}let NearUInt64$1=class extends Layout$1{constructor(t){super(8,t)}decode(t,n){n===void 0&&(n=0);const r=t.readUInt32LE(n),i=t.readUInt32LE(n+4);return roundedInt64$1(i,r)}encode(t,n,r){r===void 0&&(r=0);const i=divmodInt64$1(t);return n.writeUInt32LE(i.lo32,r),n.writeUInt32LE(i.hi32,r+4),8}};class NearUInt64BE extends Layout$1{constructor(t){super(8,t)}decode(t,n){n===void 0&&(n=0);const r=t.readUInt32BE(n),i=t.readUInt32BE(n+4);return roundedInt64$1(r,i)}encode(t,n,r){r===void 0&&(r=0);const i=divmodInt64$1(t);return n.writeUInt32BE(i.hi32,r),n.writeUInt32BE(i.lo32,r+4),8}}let NearInt64$1=class extends Layout$1{constructor(t){super(8,t)}decode(t,n){n===void 0&&(n=0);const r=t.readUInt32LE(n),i=t.readInt32LE(n+4);return roundedInt64$1(i,r)}encode(t,n,r){r===void 0&&(r=0);const i=divmodInt64$1(t);return n.writeUInt32LE(i.lo32,r),n.writeInt32LE(i.hi32,r+4),8}};class NearInt64BE extends Layout$1{constructor(t){super(8,t)}decode(t,n){n===void 0&&(n=0);const r=t.readInt32BE(n),i=t.readUInt32BE(n+4);return roundedInt64$1(r,i)}encode(t,n,r){r===void 0&&(r=0);const i=divmodInt64$1(t);return n.writeInt32BE(i.hi32,r),n.writeUInt32BE(i.lo32,r+4),8}}class Float extends Layout$1{constructor(t){super(4,t)}decode(t,n){return n===void 0&&(n=0),t.readFloatLE(n)}encode(t,n,r){return r===void 0&&(r=0),n.writeFloatLE(t,r),4}}class FloatBE extends Layout$1{constructor(t){super(4,t)}decode(t,n){return n===void 0&&(n=0),t.readFloatBE(n)}encode(t,n,r){return r===void 0&&(r=0),n.writeFloatBE(t,r),4}}class Double extends Layout$1{constructor(t){super(8,t)}decode(t,n){return n===void 0&&(n=0),t.readDoubleLE(n)}encode(t,n,r){return r===void 0&&(r=0),n.writeDoubleLE(t,r),8}}class DoubleBE extends Layout$1{constructor(t){super(8,t)}decode(t,n){return n===void 0&&(n=0),t.readDoubleBE(n)}encode(t,n,r){return r===void 0&&(r=0),n.writeDoubleBE(t,r),8}}class Sequence extends Layout$1{constructor(t,n,r){if(!(t instanceof Layout$1))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof ExternalLayout$1&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(n instanceof ExternalLayout$1)&&0<t.span&&(i=n*t.span),super(i,r),this.elementLayout=t,this.count=n}getSpan(t,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0,i=this.count;if(i instanceof ExternalLayout$1&&(i=i.decode(t,n)),0<this.elementLayout.span)r=i*this.elementLayout.span;else{let s=0;for(;s<i;)r+=this.elementLayout.getSpan(t,n+r),++s}return r}decode(t,n){n===void 0&&(n=0);const r=[];let i=0,s=this.count;for(s instanceof ExternalLayout$1&&(s=s.decode(t,n));i<s;)r.push(this.elementLayout.decode(t,n)),n+=this.elementLayout.getSpan(t,n),i+=1;return r}encode(t,n,r){r===void 0&&(r=0);const i=this.elementLayout,s=t.reduce((o,a)=>o+i.encode(a,n,r+o),0);return this.count instanceof ExternalLayout$1&&this.count.encode(t.length,n,r),s}}let Structure$1=class extends Layout$1{constructor(t,n,r){if(!(Array.isArray(t)&&t.reduce((s,o)=>s&&o instanceof Layout$1,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const s of t)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=t.reduce((s,o)=>s+o.getSpan(),0)}catch{}super(i,n),this.fields=t,this.decodePrefixes=!!r}getSpan(t,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0;try{r=this.fields.reduce((i,s)=>{const o=s.getSpan(t,n);return n+=o,i+o},0)}catch{throw new RangeError("indeterminate span")}return r}decode(t,n){n===void 0&&(n=0);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(t,n)),n+=i.getSpan(t,n),this.decodePrefixes&&t.length===n)break;return r}encode(t,n,r){r===void 0&&(r=0);const i=r;let s=0,o=0;for(const a of this.fields){let u=a.span;if(o=0<u?u:0,a.property!==void 0){const c=t[a.property];c!==void 0&&(o=a.encode(c,n,r),0>u&&(u=a.getSpan(n,r)))}s=r,r+=u}return s+o-i}fromArray(t){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<t.length&&(n[r.property]=t.shift());return n}layoutFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===t)return n}offsetOf(t){if(typeof t!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===t)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}},UnionDiscriminator$1=class{constructor(t){this.property=t}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}},UnionLayoutDiscriminator$1=class extends UnionDiscriminator$1{constructor(t,n){if(!(t instanceof ExternalLayout$1&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||t.property||"variant"),this.layout=t}decode(t,n){return this.layout.decode(t,n)}encode(t,n,r){return this.layout.encode(t,n,r)}},Union$1=class extends Layout$1{constructor(t,n,r){const i=t instanceof UInt$1||t instanceof UIntBE$1;if(i)t=new UnionLayoutDiscriminator$1(new OffsetLayout$1(t));else if(t instanceof ExternalLayout$1&&t.isCount())t=new UnionLayoutDiscriminator$1(t);else if(!(t instanceof UnionDiscriminator$1))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof Layout$1))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let s=-1;n&&(s=n.span,0<=s&&i&&(s+=t.layout.span)),super(s,r),this.discriminator=t,this.usesPrefixDiscriminator=i,this.defaultLayout=n,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(t,n){if(0<=this.span)return this.span;n===void 0&&(n=0);const r=this.getVariant(t,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(t,n)}defaultGetSourceVariant(t){if(t.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&t.hasOwnProperty(this.defaultLayout.property))return;const n=this.registry[t[this.discriminator.property]];if(n&&(!n.layout||t.hasOwnProperty(n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(t.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(t,n){n===void 0&&(n=0);let r;const i=this.discriminator,s=i.decode(t,n);let o=this.registry[s];if(o===void 0){let a=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(a=i.layout.span),r=this.makeDestinationObject(),r[i.property]=s,r[o.property]=this.defaultLayout.decode(t,n+a)}else r=o.decode(t,n);return r}encode(t,n,r){r===void 0&&(r=0);const i=this.getSourceVariant(t);if(i===void 0){const s=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=s.layout.span),s.encode(t[s.property],n,r),a+o.encode(t[o.property],n,r+a)}return i.encode(t,n,r)}addVariant(t,n,r){const i=new VariantLayout$1(this,t,n,r);return this.registry[t]=i,i}getVariant(t,n){let r=t;return buffer.Buffer.isBuffer(t)&&(n===void 0&&(n=0),r=this.discriminator.decode(t,n)),this.registry[r]}},VariantLayout$1=class extends Layout$1{constructor(t,n,r,i){if(!(t instanceof Union$1))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof Layout$1))throw new TypeError("layout must be a Layout");if(t.defaultLayout!==null&&0<=r.span&&r.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=t.span;0>t.span&&(s=r?r.span:0,0<=s&&t.usesPrefixDiscriminator&&(s+=t.discriminator.layout.span)),super(s,i),this.union=t,this.variant=n,this.layout=r||null}getSpan(t,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(t,n+r)}decode(t,n){const r=this.makeDestinationObject();if(n===void 0&&(n=0),this!==this.union.getVariant(t,n))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(t,n+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(t,n,r){r===void 0&&(r=0);let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!t.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let s=i;if(this.layout&&(this.layout.encode(t[this.property],n,r+i),s+=this.layout.getSpan(n,r+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(t){if(this.layout)return this.layout.fromArray(t)}};function fixBitwiseResult(e){return 0>e&&(e+=4294967296),e}class BitStructure extends Layout$1{constructor(t,n,r){if(!(t instanceof UInt$1||t instanceof UIntBE$1))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=void 0),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,r),this.word=t,this.msb=!!n,this.fields=[];let i=0;this._packedSetValue=function(s){return i=fixBitwiseResult(s),this},this._packedGetValue=function(){return i}}decode(t,n){const r=this.makeDestinationObject();n===void 0&&(n=0);const i=this.word.decode(t,n);this._packedSetValue(i);for(const s of this.fields)s.property!==void 0&&(r[s.property]=s.decode(i));return r}encode(t,n,r){r===void 0&&(r=0);const i=this.word.decode(n,r);this._packedSetValue(i);for(const s of this.fields)if(s.property!==void 0){const o=t[s.property];o!==void 0&&s.encode(o)}return this.word.encode(this._packedGetValue(),n,r)}addField(t,n){const r=new BitField(this,t,n);return this.fields.push(r),r}addBoolean(t){const n=new Boolean$1(this,t);return this.fields.push(n),n}fieldFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===t)return n}}class BitField{constructor(t,n,r){if(!(t instanceof BitStructure))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const i=8*t.span,s=t.fields.reduce((o,a)=>o+a.bits,0);if(n+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=t,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-n),this.wordMask=fixBitwiseResult(this.valueMask<<this.start),this.property=r}decode(){const t=this.container._packedGetValue();return fixBitwiseResult(t&this.wordMask)>>>this.start}encode(t){if(!Number.isInteger(t)||t!==fixBitwiseResult(t&this.valueMask))throw new TypeError(nameWithProperty$1("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=fixBitwiseResult(t<<this.start);this.container._packedSetValue(fixBitwiseResult(n&~this.wordMask)|r)}}let Boolean$1=class extends BitField{constructor(t,n){super(t,1,n)}decode(t,n){return!!BitField.prototype.decode.call(this,t,n)}encode(t){return typeof t=="boolean"&&(t=+t),BitField.prototype.encode.call(this,t)}},Blob$2=class extends Layout$1{constructor(t,n){if(!(t instanceof ExternalLayout$1&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;t instanceof ExternalLayout$1||(r=t),super(r,n),this.length=t}getSpan(t,n){let r=this.span;return 0>r&&(r=this.length.decode(t,n)),r}decode(t,n){n===void 0&&(n=0);let r=this.span;return 0>r&&(r=this.length.decode(t,n)),t.slice(n,n+r)}encode(t,n,r){let i=this.length;if(this.length instanceof ExternalLayout$1&&(i=t.length),!(buffer.Buffer.isBuffer(t)&&i===t.length))throw new TypeError(nameWithProperty$1("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(r+i>n.length)throw new RangeError("encoding overruns Buffer");return n.write(t.toString("hex"),r,i,"hex"),this.length instanceof ExternalLayout$1&&this.length.encode(i,n,r),i}};class CString extends Layout$1{constructor(t){super(-1,t)}getSpan(t,n){if(!buffer.Buffer.isBuffer(t))throw new TypeError("b must be a Buffer");n===void 0&&(n=0);let r=n;for(;r<t.length&&t[r]!==0;)r+=1;return 1+r-n}decode(t,n,r){n===void 0&&(n=0);let i=this.getSpan(t,n);return t.slice(n,n+i-1).toString("utf-8")}encode(t,n,r){r===void 0&&(r=0),typeof t!="string"&&(t=t.toString());const i=new buffer.Buffer(t,"utf8"),s=i.length;if(r+s>n.length)throw new RangeError("encoding overruns Buffer");return i.copy(n,r),n[r+s]=0,s+1}}class UTF8 extends Layout$1{constructor(t,n){if(typeof t=="string"&&n===void 0&&(n=t,t=void 0),t===void 0)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=t}getSpan(t,n){if(!buffer.Buffer.isBuffer(t))throw new TypeError("b must be a Buffer");return n===void 0&&(n=0),t.length-n}decode(t,n,r){n===void 0&&(n=0);let i=this.getSpan(t,n);if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");return t.slice(n,n+i).toString("utf-8")}encode(t,n,r){r===void 0&&(r=0),typeof t!="string"&&(t=t.toString());const i=new buffer.Buffer(t,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(r+s>n.length)throw new RangeError("encoding overruns Buffer");return i.copy(n,r),s}}class Constant extends Layout$1{constructor(t,n){super(0,n),this.value=t}decode(t,n,r){return this.value}encode(t,n,r){return 0}}Layout$2.ExternalLayout=ExternalLayout$1;Layout$2.GreedyCount=GreedyCount;Layout$2.OffsetLayout=OffsetLayout$1;Layout$2.UInt=UInt$1;Layout$2.UIntBE=UIntBE$1;Layout$2.Int=Int;Layout$2.IntBE=IntBE;Layout$2.Float=Float;Layout$2.FloatBE=FloatBE;Layout$2.Double=Double;Layout$2.DoubleBE=DoubleBE;Layout$2.Sequence=Sequence;Layout$2.Structure=Structure$1;Layout$2.UnionDiscriminator=UnionDiscriminator$1;Layout$2.UnionLayoutDiscriminator=UnionLayoutDiscriminator$1;Layout$2.Union=Union$1;Layout$2.VariantLayout=VariantLayout$1;Layout$2.BitStructure=BitStructure;Layout$2.BitField=BitField;Layout$2.Boolean=Boolean$1;Layout$2.Blob=Blob$2;Layout$2.CString=CString;Layout$2.UTF8=UTF8;Layout$2.Constant=Constant;Layout$2.greedy=(e,t)=>new GreedyCount(e,t);Layout$2.offset=(e,t,n)=>new OffsetLayout$1(e,t,n);Layout$2.u8=e=>new UInt$1(1,e);Layout$2.u16=e=>new UInt$1(2,e);Layout$2.u24=e=>new UInt$1(3,e);Layout$2.u32=e=>new UInt$1(4,e);Layout$2.u40=e=>new UInt$1(5,e);Layout$2.u48=e=>new UInt$1(6,e);Layout$2.nu64=e=>new NearUInt64$1(e);Layout$2.u16be=e=>new UIntBE$1(2,e);Layout$2.u24be=e=>new UIntBE$1(3,e);Layout$2.u32be=e=>new UIntBE$1(4,e);Layout$2.u40be=e=>new UIntBE$1(5,e);Layout$2.u48be=e=>new UIntBE$1(6,e);Layout$2.nu64be=e=>new NearUInt64BE(e);Layout$2.s8=e=>new Int(1,e);Layout$2.s16=e=>new Int(2,e);Layout$2.s24=e=>new Int(3,e);Layout$2.s32=e=>new Int(4,e);Layout$2.s40=e=>new Int(5,e);Layout$2.s48=e=>new Int(6,e);Layout$2.ns64=e=>new NearInt64$1(e);Layout$2.s16be=e=>new IntBE(2,e);Layout$2.s24be=e=>new IntBE(3,e);Layout$2.s32be=e=>new IntBE(4,e);Layout$2.s40be=e=>new IntBE(5,e);Layout$2.s48be=e=>new IntBE(6,e);Layout$2.ns64be=e=>new NearInt64BE(e);Layout$2.f32=e=>new Float(e);Layout$2.f32be=e=>new FloatBE(e);Layout$2.f64=e=>new Double(e);Layout$2.f64be=e=>new DoubleBE(e);Layout$2.struct=(e,t,n)=>new Structure$1(e,t,n);Layout$2.bits=(e,t,n)=>new BitStructure(e,t,n);Layout$2.seq=(e,t,n)=>new Sequence(e,t,n);Layout$2.union=(e,t,n)=>new Union$1(e,t,n);Layout$2.unionLayoutDiscriminator=(e,t)=>new UnionLayoutDiscriminator$1(e,t);Layout$2.blob=(e,t)=>new Blob$2(e,t);Layout$2.cstr=e=>new CString(e);Layout$2.utf8=(e,t)=>new UTF8(e,t);Layout$2.const=(e,t)=>new Constant(e,t);(function(e){var t=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(e,"__esModule",{value:!0}),e.map=e.array=e.rustEnum=e.str=e.vecU8=e.tagged=e.vec=e.bool=e.option=e.publicKey=e.i256=e.u256=e.i128=e.u128=e.i64=e.u64=e.struct=e.f64=e.f32=e.i32=e.u32=e.i16=e.u16=e.i8=e.u8=void 0;const n=Layout$2,r=require$$1,i=t(bnExports);var s=Layout$2;Object.defineProperty(e,"u8",{enumerable:!0,get:function(){return s.u8}}),Object.defineProperty(e,"i8",{enumerable:!0,get:function(){return s.s8}}),Object.defineProperty(e,"u16",{enumerable:!0,get:function(){return s.u16}}),Object.defineProperty(e,"i16",{enumerable:!0,get:function(){return s.s16}}),Object.defineProperty(e,"u32",{enumerable:!0,get:function(){return s.u32}}),Object.defineProperty(e,"i32",{enumerable:!0,get:function(){return s.s32}}),Object.defineProperty(e,"f32",{enumerable:!0,get:function(){return s.f32}}),Object.defineProperty(e,"f64",{enumerable:!0,get:function(){return s.f64}}),Object.defineProperty(e,"struct",{enumerable:!0,get:function(){return s.struct}});class o extends n.Layout{constructor(O,g,l){super(O,l),this.blob=(0,n.blob)(O),this.signed=g}decode(O,g=0){const l=new i.default(this.blob.decode(O,g),10,"le");return this.signed?l.fromTwos(this.span*8).clone():l}encode(O,g,l=0){return this.signed&&(O=O.toTwos(this.span*8)),this.blob.encode(O.toArrayLike(buffer.Buffer,"le",this.span),g,l)}}function a(R){return new o(8,!1,R)}e.u64=a;function u(R){return new o(8,!0,R)}e.i64=u;function c(R){return new o(16,!1,R)}e.u128=c;function d(R){return new o(16,!0,R)}e.i128=d;function f(R){return new o(32,!1,R)}e.u256=f;function m(R){return new o(32,!0,R)}e.i256=m;class h extends n.Layout{constructor(O,g,l,b){super(O.span,b),this.layout=O,this.decoder=g,this.encoder=l}decode(O,g){return this.decoder(this.layout.decode(O,g))}encode(O,g,l){return this.layout.encode(this.encoder(O),g,l)}getSpan(O,g){return this.layout.getSpan(O,g)}}function _(R){return new h((0,n.blob)(32),O=>new r.PublicKey(O),O=>O.toBuffer(),R)}e.publicKey=_;class y extends n.Layout{constructor(O,g){super(-1,g),this.layout=O,this.discriminator=(0,n.u8)()}encode(O,g,l=0){return O==null?this.discriminator.encode(0,g,l):(this.discriminator.encode(1,g,l),this.layout.encode(O,g,l+1)+1)}decode(O,g=0){const l=this.discriminator.decode(O,g);if(l===0)return null;if(l===1)return this.layout.decode(O,g+1);throw new Error("Invalid option "+this.property)}getSpan(O,g=0){const l=this.discriminator.decode(O,g);if(l===0)return 1;if(l===1)return this.layout.getSpan(O,g+1)+1;throw new Error("Invalid option "+this.property)}}function p(R,O){return new y(R,O)}e.option=p;function w(R){return new h((0,n.u8)(),T,E,R)}e.bool=w;function T(R){if(R===0)return!1;if(R===1)return!0;throw new Error("Invalid bool: "+R)}function E(R){return R?1:0}function S(R,O){const g=(0,n.u32)("length"),l=(0,n.struct)([g,(0,n.seq)(R,(0,n.offset)(g,-g.span),"values")]);return new h(l,({values:b})=>b,b=>({values:b}),O)}e.vec=S;function C(R,O,g){const l=(0,n.struct)([a("tag"),O.replicate("data")]);function b({tag:$,data:B}){if(!$.eq(R))throw new Error("Invalid tag, expected: "+R.toString("hex")+", got: "+$.toString("hex"));return B}return new h(l,b,$=>({tag:R,data:$}),g)}e.tagged=C;function N(R){const O=(0,n.u32)("length"),g=(0,n.struct)([O,(0,n.blob)((0,n.offset)(O,-O.span),"data")]);return new h(g,({data:l})=>l,l=>({data:l}),R)}e.vecU8=N;function A(R){return new h(N(),O=>O.toString("utf-8"),O=>buffer.Buffer.from(O,"utf-8"),R)}e.str=A;function x(R,O,g){const l=(0,n.union)(g??(0,n.u8)(),O);return R.forEach((b,$)=>l.addVariant($,b,b.property)),l}e.rustEnum=x;function L(R,O,g){const l=(0,n.struct)([(0,n.seq)(R,O,"values")]);return new h(l,({values:b})=>b,b=>({values:b}),g)}e.array=L;class v extends n.Layout{constructor(O,g,l){super(O.span+g.span,l),this.keyLayout=O,this.valueLayout=g}decode(O,g){g=g||0;const l=this.keyLayout.decode(O,g),b=this.valueLayout.decode(O,g+this.keyLayout.getSpan(O,g));return[l,b]}encode(O,g,l){l=l||0;const b=this.keyLayout.encode(O[0],g,l),$=this.valueLayout.encode(O[1],g,l+b);return b+$}getSpan(O,g){return this.keyLayout.getSpan(O,g)+this.valueLayout.getSpan(O,g)}}function I(R,O,g){const l=(0,n.u32)("length"),b=(0,n.struct)([l,(0,n.seq)(new v(R,O),(0,n.offset)(l,-l.span),"values")]);return new h(b,({values:$})=>new Map($),$=>({values:Array.from($.entries())}),g)}e.map=I})(dist$1);/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(e){let t=e.length;for(;--t>=0;)e[t]=0}const STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),extra_dbits=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),extra_blbits=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),bl_order=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);const static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);const _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);const _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);const base_length=new Array(LENGTH_CODES$1);zero$1(base_length);const base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}let static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const d_code=e=>e<256?_dist_code[e]:_dist_code[256+(e>>>7)],put_short=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},send_bits=(e,t,n)=>{e.bi_valid>Buf_size-n?(e.bi_buf|=t<<e.bi_valid&65535,put_short(e,e.bi_buf),e.bi_buf=t>>Buf_size-e.bi_valid,e.bi_valid+=n-Buf_size):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},send_code=(e,t,n)=>{send_bits(e,n[t*2],n[t*2+1])},bi_reverse=(e,t)=>{let n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1},bi_flush=e=>{e.bi_valid===16?(put_short(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},gen_bitlen=(e,t)=>{const n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,s=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,u=t.stat_desc.max_length;let c,d,f,m,h,_,y=0;for(m=0;m<=MAX_BITS$1;m++)e.bl_count[m]=0;for(n[e.heap[e.heap_max]*2+1]=0,c=e.heap_max+1;c<HEAP_SIZE$1;c++)d=e.heap[c],m=n[n[d*2+1]*2+1]+1,m>u&&(m=u,y++),n[d*2+1]=m,!(d>r)&&(e.bl_count[m]++,h=0,d>=a&&(h=o[d-a]),_=n[d*2],e.opt_len+=_*(m+h),s&&(e.static_len+=_*(i[d*2+1]+h)));if(y!==0){do{for(m=u-1;e.bl_count[m]===0;)m--;e.bl_count[m]--,e.bl_count[m+1]+=2,e.bl_count[u]--,y-=2}while(y>0);for(m=u;m!==0;m--)for(d=e.bl_count[m];d!==0;)f=e.heap[--c],!(f>r)&&(n[f*2+1]!==m&&(e.opt_len+=(m-n[f*2+1])*n[f*2],n[f*2+1]=m),d--)}},gen_codes=(e,t,n)=>{const r=new Array(MAX_BITS$1+1);let i=0,s,o;for(s=1;s<=MAX_BITS$1;s++)i=i+n[s-1]<<1,r[s]=i;for(o=0;o<=t;o++){let a=e[o*2+1];a!==0&&(e[o*2]=bi_reverse(r[a]++,a))}},tr_static_init=()=>{let e,t,n,r,i;const s=new Array(MAX_BITS$1+1);for(n=0,r=0;r<LENGTH_CODES$1-1;r++)for(base_length[r]=n,e=0;e<1<<extra_lbits[r];e++)_length_code[n++]=r;for(_length_code[n-1]=r,i=0,r=0;r<16;r++)for(base_dist[r]=i,e=0;e<1<<extra_dbits[r];e++)_dist_code[i++]=r;for(i>>=7;r<D_CODES$1;r++)for(base_dist[r]=i<<7,e=0;e<1<<extra_dbits[r]-7;e++)_dist_code[256+i++]=r;for(t=0;t<=MAX_BITS$1;t++)s[t]=0;for(e=0;e<=143;)static_ltree[e*2+1]=8,e++,s[8]++;for(;e<=255;)static_ltree[e*2+1]=9,e++,s[9]++;for(;e<=279;)static_ltree[e*2+1]=7,e++,s[7]++;for(;e<=287;)static_ltree[e*2+1]=8,e++,s[8]++;for(gen_codes(static_ltree,L_CODES$1+1,s),e=0;e<D_CODES$1;e++)static_dtree[e*2+1]=5,static_dtree[e*2]=bi_reverse(e,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)},init_block=e=>{let t;for(t=0;t<L_CODES$1;t++)e.dyn_ltree[t*2]=0;for(t=0;t<D_CODES$1;t++)e.dyn_dtree[t*2]=0;for(t=0;t<BL_CODES$1;t++)e.bl_tree[t*2]=0;e.dyn_ltree[END_BLOCK*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},bi_windup=e=>{e.bi_valid>8?put_short(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},smaller=(e,t,n,r)=>{const i=t*2,s=n*2;return e[i]<e[s]||e[i]===e[s]&&r[t]<=r[n]},pqdownheap=(e,t,n)=>{const r=e.heap[n];let i=n<<1;for(;i<=e.heap_len&&(i<e.heap_len&&smaller(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!smaller(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},compress_block=(e,t,n)=>{let r,i,s=0,o,a;if(e.sym_next!==0)do r=e.pending_buf[e.sym_buf+s++]&255,r+=(e.pending_buf[e.sym_buf+s++]&255)<<8,i=e.pending_buf[e.sym_buf+s++],r===0?send_code(e,i,t):(o=_length_code[i],send_code(e,o+LITERALS$1+1,t),a=extra_lbits[o],a!==0&&(i-=base_length[o],send_bits(e,i,a)),r--,o=d_code(r),send_code(e,o,n),a=extra_dbits[o],a!==0&&(r-=base_dist[o],send_bits(e,r,a)));while(s<e.sym_next);send_code(e,END_BLOCK,t)},build_tree=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.elems;let o,a,u=-1,c;for(e.heap_len=0,e.heap_max=HEAP_SIZE$1,o=0;o<s;o++)n[o*2]!==0?(e.heap[++e.heap_len]=u=o,e.depth[o]=0):n[o*2+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=u<2?++u:0,n[c*2]=1,e.depth[c]=0,e.opt_len--,i&&(e.static_len-=r[c*2+1]);for(t.max_code=u,o=e.heap_len>>1;o>=1;o--)pqdownheap(e,n,o);c=s;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],pqdownheap(e,n,1),a=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=a,n[c*2]=n[o*2]+n[a*2],e.depth[c]=(e.depth[o]>=e.depth[a]?e.depth[o]:e.depth[a])+1,n[o*2+1]=n[a*2+1]=c,e.heap[1]=c++,pqdownheap(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],gen_bitlen(e,t),gen_codes(n,u,e.bl_count)},scan_tree=(e,t,n)=>{let r,i=-1,s,o=t[0*2+1],a=0,u=7,c=4;for(o===0&&(u=138,c=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)s=o,o=t[(r+1)*2+1],!(++a<u&&s===o)&&(a<c?e.bl_tree[s*2]+=a:s!==0?(s!==i&&e.bl_tree[s*2]++,e.bl_tree[REP_3_6*2]++):a<=10?e.bl_tree[REPZ_3_10*2]++:e.bl_tree[REPZ_11_138*2]++,a=0,i=s,o===0?(u=138,c=3):s===o?(u=6,c=3):(u=7,c=4))},send_tree=(e,t,n)=>{let r,i=-1,s,o=t[0*2+1],a=0,u=7,c=4;for(o===0&&(u=138,c=3),r=0;r<=n;r++)if(s=o,o=t[(r+1)*2+1],!(++a<u&&s===o)){if(a<c)do send_code(e,s,e.bl_tree);while(--a!==0);else s!==0?(s!==i&&(send_code(e,s,e.bl_tree),a--),send_code(e,REP_3_6,e.bl_tree),send_bits(e,a-3,2)):a<=10?(send_code(e,REPZ_3_10,e.bl_tree),send_bits(e,a-3,3)):(send_code(e,REPZ_11_138,e.bl_tree),send_bits(e,a-11,7));a=0,i=s,o===0?(u=138,c=3):s===o?(u=6,c=3):(u=7,c=4)}},build_bl_tree=e=>{let t;for(scan_tree(e,e.dyn_ltree,e.l_desc.max_code),scan_tree(e,e.dyn_dtree,e.d_desc.max_code),build_tree(e,e.bl_desc),t=BL_CODES$1-1;t>=3&&e.bl_tree[bl_order[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},send_all_trees=(e,t,n,r)=>{let i;for(send_bits(e,t-257,5),send_bits(e,n-1,5),send_bits(e,r-4,4),i=0;i<r;i++)send_bits(e,e.bl_tree[bl_order[i]*2+1],3);send_tree(e,e.dyn_ltree,t-1),send_tree(e,e.dyn_dtree,n-1)},detect_data_type=e=>{let t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return Z_BINARY;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return Z_TEXT;for(n=32;n<LITERALS$1;n++)if(e.dyn_ltree[n*2]!==0)return Z_TEXT;return Z_BINARY};let static_init_done=!1;const _tr_init$1=e=>{static_init_done||(tr_static_init(),static_init_done=!0),e.l_desc=new TreeDesc(e.dyn_ltree,static_l_desc),e.d_desc=new TreeDesc(e.dyn_dtree,static_d_desc),e.bl_desc=new TreeDesc(e.bl_tree,static_bl_desc),e.bi_buf=0,e.bi_valid=0,init_block(e)},_tr_stored_block$1=(e,t,n,r)=>{send_bits(e,(STORED_BLOCK<<1)+(r?1:0),3),bi_windup(e),put_short(e,n),put_short(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},_tr_align$1=e=>{send_bits(e,STATIC_TREES<<1,3),send_code(e,END_BLOCK,static_ltree),bi_flush(e)},_tr_flush_block$1=(e,t,n,r)=>{let i,s,o=0;e.level>0?(e.strm.data_type===Z_UNKNOWN$1&&(e.strm.data_type=detect_data_type(e)),build_tree(e,e.l_desc),build_tree(e,e.d_desc),o=build_bl_tree(e),i=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=i&&(i=s)):i=s=n+5,n+4<=i&&t!==-1?_tr_stored_block$1(e,t,n,r):e.strategy===Z_FIXED$1||s===i?(send_bits(e,(STATIC_TREES<<1)+(r?1:0),3),compress_block(e,static_ltree,static_dtree)):(send_bits(e,(DYN_TREES<<1)+(r?1:0),3),send_all_trees(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),compress_block(e,e.dyn_ltree,e.dyn_dtree)),init_block(e),r&&bi_windup(e)},_tr_tally$1=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(_length_code[n]+LITERALS$1+1)*2]++,e.dyn_dtree[d_code(t)*2]++),e.sym_next===e.sym_end);var _tr_init_1=_tr_init$1,_tr_stored_block_1=_tr_stored_block$1,_tr_flush_block_1=_tr_flush_block$1,_tr_tally_1=_tr_tally$1,_tr_align_1=_tr_align$1,trees={_tr_init:_tr_init_1,_tr_stored_block:_tr_stored_block_1,_tr_flush_block:_tr_flush_block_1,_tr_tally:_tr_tally_1,_tr_align:_tr_align_1};const adler32=(e,t,n,r)=>{let i=e&65535|0,s=e>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do i=i+t[r++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0};var adler32_1=adler32;const makeTable=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},crcTable=new Uint32Array(makeTable()),crc32$1=(e,t,n,r)=>{const i=crcTable,s=r+n;e^=-1;for(let o=r;o<s;o++)e=e>>>8^i[(e^t[o])&255];return e^-1};var crc32_1=crc32$1,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},constants$2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init,_tr_stored_block,_tr_flush_block,_tr_tally,_tr_align}=trees,{Z_NO_FLUSH:Z_NO_FLUSH$2,Z_PARTIAL_FLUSH,Z_FULL_FLUSH:Z_FULL_FLUSH$1,Z_FINISH:Z_FINISH$3,Z_BLOCK:Z_BLOCK$1,Z_OK:Z_OK$3,Z_STREAM_END:Z_STREAM_END$3,Z_STREAM_ERROR:Z_STREAM_ERROR$2,Z_DATA_ERROR:Z_DATA_ERROR$2,Z_BUF_ERROR:Z_BUF_ERROR$1,Z_DEFAULT_COMPRESSION:Z_DEFAULT_COMPRESSION$1,Z_FILTERED,Z_HUFFMAN_ONLY,Z_RLE,Z_FIXED,Z_DEFAULT_STRATEGY:Z_DEFAULT_STRATEGY$1,Z_UNKNOWN,Z_DEFLATED:Z_DEFLATED$2}=constants$2,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,GZIP_STATE=57,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3,err=(e,t)=>(e.msg=messages[t],t),rank=e=>e*2-(e>4?9:0),zero=e=>{let t=e.length;for(;--t>=0;)e[t]=0},slide_hash=e=>{let t,n,r,i=e.w_size;t=e.hash_size,r=t;do n=e.head[--r],e.head[r]=n>=i?n-i:0;while(--t);t=i,r=t;do n=e.prev[--r],e.prev[r]=n>=i?n-i:0;while(--t)};let HASH_ZLIB=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask,HASH=HASH_ZLIB;const flush_pending=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))},flush_block_only=(e,t)=>{_tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,flush_pending(e.strm)},put_byte=(e,t)=>{e.pending_buf[e.pending++]=t},putShortMSB=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},read_buf=(e,t,n,r)=>{let i=e.avail_in;return i>r&&(i=r),i===0?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),e.state.wrap===1?e.adler=adler32_1(e.adler,t,i,n):e.state.wrap===2&&(e.adler=crc32_1(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},longest_match=(e,t)=>{let n=e.max_chain_length,r=e.strstart,i,s,o=e.prev_length,a=e.nice_match;const u=e.strstart>e.w_size-MIN_LOOKAHEAD?e.strstart-(e.w_size-MIN_LOOKAHEAD):0,c=e.window,d=e.w_mask,f=e.prev,m=e.strstart+MAX_MATCH;let h=c[r+o-1],_=c[r+o];e.prev_length>=e.good_match&&(n>>=2),a>e.lookahead&&(a=e.lookahead);do if(i=t,!(c[i+o]!==_||c[i+o-1]!==h||c[i]!==c[r]||c[++i]!==c[r+1])){r+=2,i++;do;while(c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&r<m);if(s=MAX_MATCH-(m-r),r=m-MAX_MATCH,s>o){if(e.match_start=t,o=s,s>=a)break;h=c[r+o-1],_=c[r+o]}}while((t=f[t&d])>u&&--n!==0);return o<=e.lookahead?o:e.lookahead},fill_window=e=>{const t=e.w_size;let n,r,i;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-MIN_LOOKAHEAD)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),slide_hash(e),r+=t),e.strm.avail_in===0)break;if(n=read_buf(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=MIN_MATCH)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=HASH(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=HASH(e,e.ins_h,e.window[i+MIN_MATCH-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<MIN_MATCH)););}while(e.lookahead<MIN_LOOKAHEAD&&e.strm.avail_in!==0)},deflate_stored=(e,t)=>{let n=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,r,i,s,o=0,a=e.strm.avail_in;do{if(r=65535,s=e.bi_valid+42>>3,e.strm.avail_out<s||(s=e.strm.avail_out-s,i=e.strstart-e.block_start,r>i+e.strm.avail_in&&(r=i+e.strm.avail_in),r>s&&(r=s),r<n&&(r===0&&t!==Z_FINISH$3||t===Z_NO_FLUSH$2||r!==i+e.strm.avail_in)))break;o=t===Z_FINISH$3&&r===i+e.strm.avail_in?1:0,_tr_stored_block(e,0,0,o),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,flush_pending(e.strm),i&&(i>r&&(i=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,r-=i),r&&(read_buf(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(o===0);return a-=e.strm.avail_in,a&&(a>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=a&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-a,e.strm.next_in),e.strstart),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?BS_FINISH_DONE:t!==Z_NO_FLUSH$2&&t!==Z_FINISH$3&&e.strm.avail_in===0&&e.strstart===e.block_start?BS_BLOCK_DONE:(s=e.window_size-e.strstart,e.strm.avail_in>s&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,s+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),s>e.strm.avail_in&&(s=e.strm.avail_in),s&&(read_buf(e.strm,e.window,e.strstart,s),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.high_water<e.strstart&&(e.high_water=e.strstart),s=e.bi_valid+42>>3,s=e.pending_buf_size-s>65535?65535:e.pending_buf_size-s,n=s>e.w_size?e.w_size:s,i=e.strstart-e.block_start,(i>=n||(i||t===Z_FINISH$3)&&t!==Z_NO_FLUSH$2&&e.strm.avail_in===0&&i<=s)&&(r=i>s?s:i,o=t===Z_FINISH$3&&e.strm.avail_in===0&&r===i?1:0,_tr_stored_block(e,e.block_start,r,o),e.block_start+=r,flush_pending(e.strm)),o?BS_FINISH_STARTED:BS_NEED_MORE)},deflate_fast=(e,t)=>{let n,r;for(;;){if(e.lookahead<MIN_LOOKAHEAD){if(fill_window(e),e.lookahead<MIN_LOOKAHEAD&&t===Z_NO_FLUSH$2)return BS_NEED_MORE;if(e.lookahead===0)break}if(n=0,e.lookahead>=MIN_MATCH&&(e.ins_h=HASH(e,e.ins_h,e.window[e.strstart+MIN_MATCH-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-MIN_LOOKAHEAD&&(e.match_length=longest_match(e,n)),e.match_length>=MIN_MATCH)if(r=_tr_tally(e,e.strstart-e.match_start,e.match_length-MIN_MATCH),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=MIN_MATCH){e.match_length--;do e.strstart++,e.ins_h=HASH(e,e.ins_h,e.window[e.strstart+MIN_MATCH-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=HASH(e,e.ins_h,e.window[e.strstart+1]);else r=_tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(flush_block_only(e,!1),e.strm.avail_out===0))return BS_NEED_MORE}return e.insert=e.strstart<MIN_MATCH-1?e.strstart:MIN_MATCH-1,t===Z_FINISH$3?(flush_block_only(e,!0),e.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):e.sym_next&&(flush_block_only(e,!1),e.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_slow=(e,t)=>{let n,r,i;for(;;){if(e.lookahead<MIN_LOOKAHEAD){if(fill_window(e),e.lookahead<MIN_LOOKAHEAD&&t===Z_NO_FLUSH$2)return BS_NEED_MORE;if(e.lookahead===0)break}if(n=0,e.lookahead>=MIN_MATCH&&(e.ins_h=HASH(e,e.ins_h,e.window[e.strstart+MIN_MATCH-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=MIN_MATCH-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-MIN_LOOKAHEAD&&(e.match_length=longest_match(e,n),e.match_length<=5&&(e.strategy===Z_FILTERED||e.match_length===MIN_MATCH&&e.strstart-e.match_start>4096)&&(e.match_length=MIN_MATCH-1)),e.prev_length>=MIN_MATCH&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-MIN_MATCH,r=_tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-MIN_MATCH),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=HASH(e,e.ins_h,e.window[e.strstart+MIN_MATCH-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=MIN_MATCH-1,e.strstart++,r&&(flush_block_only(e,!1),e.strm.avail_out===0))return BS_NEED_MORE}else if(e.match_available){if(r=_tr_tally(e,0,e.window[e.strstart-1]),r&&flush_block_only(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return BS_NEED_MORE}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=_tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<MIN_MATCH-1?e.strstart:MIN_MATCH-1,t===Z_FINISH$3?(flush_block_only(e,!0),e.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):e.sym_next&&(flush_block_only(e,!1),e.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_rle=(e,t)=>{let n,r,i,s;const o=e.window;for(;;){if(e.lookahead<=MAX_MATCH){if(fill_window(e),e.lookahead<=MAX_MATCH&&t===Z_NO_FLUSH$2)return BS_NEED_MORE;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=MIN_MATCH&&e.strstart>0&&(i=e.strstart-1,r=o[i],r===o[++i]&&r===o[++i]&&r===o[++i])){s=e.strstart+MAX_MATCH;do;while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&i<s);e.match_length=MAX_MATCH-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=MIN_MATCH?(n=_tr_tally(e,1,e.match_length-MIN_MATCH),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=_tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(flush_block_only(e,!1),e.strm.avail_out===0))return BS_NEED_MORE}return e.insert=0,t===Z_FINISH$3?(flush_block_only(e,!0),e.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):e.sym_next&&(flush_block_only(e,!1),e.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_huff=(e,t)=>{let n;for(;;){if(e.lookahead===0&&(fill_window(e),e.lookahead===0)){if(t===Z_NO_FLUSH$2)return BS_NEED_MORE;break}if(e.match_length=0,n=_tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(flush_block_only(e,!1),e.strm.avail_out===0))return BS_NEED_MORE}return e.insert=0,t===Z_FINISH$3?(flush_block_only(e,!0),e.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):e.sym_next&&(flush_block_only(e,!1),e.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE};function Config(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}const configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],lm_init=e=>{e.window_size=2*e.w_size,zero(e.head),e.max_lazy_match=configuration_table[e.level].max_lazy,e.good_match=configuration_table[e.level].good_length,e.nice_match=configuration_table[e.level].nice_length,e.max_chain_length=configuration_table[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=MIN_MATCH-1,e.match_available=0,e.ins_h=0};function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(HEAP_SIZE*2),this.dyn_dtree=new Uint16Array((2*D_CODES+1)*2),this.bl_tree=new Uint16Array((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(MAX_BITS+1),this.heap=new Uint16Array(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*L_CODES+1),zero(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const deflateStateCheck=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==INIT_STATE&&t.status!==GZIP_STATE&&t.status!==EXTRA_STATE&&t.status!==NAME_STATE&&t.status!==COMMENT_STATE&&t.status!==HCRC_STATE&&t.status!==BUSY_STATE&&t.status!==FINISH_STATE?1:0},deflateResetKeep=e=>{if(deflateStateCheck(e))return err(e,Z_STREAM_ERROR$2);e.total_in=e.total_out=0,e.data_type=Z_UNKNOWN;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?GZIP_STATE:t.wrap?INIT_STATE:BUSY_STATE,e.adler=t.wrap===2?0:1,t.last_flush=-2,_tr_init(t),Z_OK$3},deflateReset=e=>{const t=deflateResetKeep(e);return t===Z_OK$3&&lm_init(e.state),t},deflateSetHeader=(e,t)=>deflateStateCheck(e)||e.state.wrap!==2?Z_STREAM_ERROR$2:(e.state.gzhead=t,Z_OK$3),deflateInit2=(e,t,n,r,i,s)=>{if(!e)return Z_STREAM_ERROR$2;let o=1;if(t===Z_DEFAULT_COMPRESSION$1&&(t=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),i<1||i>MAX_MEM_LEVEL||n!==Z_DEFLATED$2||r<8||r>15||t<0||t>9||s<0||s>Z_FIXED||r===8&&o!==1)return err(e,Z_STREAM_ERROR$2);r===8&&(r=9);const a=new DeflateState;return e.state=a,a.strm=e,a.status=INIT_STATE,a.wrap=o,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+MIN_MATCH-1)/MIN_MATCH),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=t,a.strategy=s,a.method=n,deflateReset(e)},deflateInit=(e,t)=>deflateInit2(e,t,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1),deflate$2=(e,t)=>{if(deflateStateCheck(e)||t>Z_BLOCK$1||t<0)return e?err(e,Z_STREAM_ERROR$2):Z_STREAM_ERROR$2;const n=e.state;if(!e.output||e.avail_in!==0&&!e.input||n.status===FINISH_STATE&&t!==Z_FINISH$3)return err(e,e.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$2);const r=n.last_flush;if(n.last_flush=t,n.pending!==0){if(flush_pending(e),e.avail_out===0)return n.last_flush=-1,Z_OK$3}else if(e.avail_in===0&&rank(t)<=rank(r)&&t!==Z_FINISH$3)return err(e,Z_BUF_ERROR$1);if(n.status===FINISH_STATE&&e.avail_in!==0)return err(e,Z_BUF_ERROR$1);if(n.status===INIT_STATE&&n.wrap===0&&(n.status=BUSY_STATE),n.status===INIT_STATE){let i=Z_DEFLATED$2+(n.w_bits-8<<4)<<8,s=-1;if(n.strategy>=Z_HUFFMAN_ONLY||n.level<2?s=0:n.level<6?s=1:n.level===6?s=2:s=3,i|=s<<6,n.strstart!==0&&(i|=PRESET_DICT),i+=31-i%31,putShortMSB(n,i),n.strstart!==0&&(putShortMSB(n,e.adler>>>16),putShortMSB(n,e.adler&65535)),e.adler=1,n.status=BUSY_STATE,flush_pending(e),n.pending!==0)return n.last_flush=-1,Z_OK$3}if(n.status===GZIP_STATE){if(e.adler=0,put_byte(n,31),put_byte(n,139),put_byte(n,8),n.gzhead)put_byte(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),put_byte(n,n.gzhead.time&255),put_byte(n,n.gzhead.time>>8&255),put_byte(n,n.gzhead.time>>16&255),put_byte(n,n.gzhead.time>>24&255),put_byte(n,n.level===9?2:n.strategy>=Z_HUFFMAN_ONLY||n.level<2?4:0),put_byte(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(put_byte(n,n.gzhead.extra.length&255),put_byte(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=crc32_1(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=EXTRA_STATE;else if(put_byte(n,0),put_byte(n,0),put_byte(n,0),put_byte(n,0),put_byte(n,0),put_byte(n,n.level===9?2:n.strategy>=Z_HUFFMAN_ONLY||n.level<2?4:0),put_byte(n,OS_CODE),n.status=BUSY_STATE,flush_pending(e),n.pending!==0)return n.last_flush=-1,Z_OK$3}if(n.status===EXTRA_STATE){if(n.gzhead.extra){let i=n.pending,s=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+s>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>i&&(e.adler=crc32_1(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex+=a,flush_pending(e),n.pending!==0)return n.last_flush=-1,Z_OK$3;i=0,s-=a}let o=new Uint8Array(n.gzhead.extra);n.pending_buf.set(o.subarray(n.gzindex,n.gzindex+s),n.pending),n.pending+=s,n.gzhead.hcrc&&n.pending>i&&(e.adler=crc32_1(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=NAME_STATE}if(n.status===NAME_STATE){if(n.gzhead.name){let i=n.pending,s;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=crc32_1(e.adler,n.pending_buf,n.pending-i,i)),flush_pending(e),n.pending!==0)return n.last_flush=-1,Z_OK$3;i=0}n.gzindex<n.gzhead.name.length?s=n.gzhead.name.charCodeAt(n.gzindex++)&255:s=0,put_byte(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=crc32_1(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=COMMENT_STATE}if(n.status===COMMENT_STATE){if(n.gzhead.comment){let i=n.pending,s;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=crc32_1(e.adler,n.pending_buf,n.pending-i,i)),flush_pending(e),n.pending!==0)return n.last_flush=-1,Z_OK$3;i=0}n.gzindex<n.gzhead.comment.length?s=n.gzhead.comment.charCodeAt(n.gzindex++)&255:s=0,put_byte(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=crc32_1(e.adler,n.pending_buf,n.pending-i,i))}n.status=HCRC_STATE}if(n.status===HCRC_STATE){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(flush_pending(e),n.pending!==0))return n.last_flush=-1,Z_OK$3;put_byte(n,e.adler&255),put_byte(n,e.adler>>8&255),e.adler=0}if(n.status=BUSY_STATE,flush_pending(e),n.pending!==0)return n.last_flush=-1,Z_OK$3}if(e.avail_in!==0||n.lookahead!==0||t!==Z_NO_FLUSH$2&&n.status!==FINISH_STATE){let i=n.level===0?deflate_stored(n,t):n.strategy===Z_HUFFMAN_ONLY?deflate_huff(n,t):n.strategy===Z_RLE?deflate_rle(n,t):configuration_table[n.level].func(n,t);if((i===BS_FINISH_STARTED||i===BS_FINISH_DONE)&&(n.status=FINISH_STATE),i===BS_NEED_MORE||i===BS_FINISH_STARTED)return e.avail_out===0&&(n.last_flush=-1),Z_OK$3;if(i===BS_BLOCK_DONE&&(t===Z_PARTIAL_FLUSH?_tr_align(n):t!==Z_BLOCK$1&&(_tr_stored_block(n,0,0,!1),t===Z_FULL_FLUSH$1&&(zero(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),flush_pending(e),e.avail_out===0))return n.last_flush=-1,Z_OK$3}return t!==Z_FINISH$3?Z_OK$3:n.wrap<=0?Z_STREAM_END$3:(n.wrap===2?(put_byte(n,e.adler&255),put_byte(n,e.adler>>8&255),put_byte(n,e.adler>>16&255),put_byte(n,e.adler>>24&255),put_byte(n,e.total_in&255),put_byte(n,e.total_in>>8&255),put_byte(n,e.total_in>>16&255),put_byte(n,e.total_in>>24&255)):(putShortMSB(n,e.adler>>>16),putShortMSB(n,e.adler&65535)),flush_pending(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Z_OK$3:Z_STREAM_END$3)},deflateEnd=e=>{if(deflateStateCheck(e))return Z_STREAM_ERROR$2;const t=e.state.status;return e.state=null,t===BUSY_STATE?err(e,Z_DATA_ERROR$2):Z_OK$3},deflateSetDictionary=(e,t)=>{let n=t.length;if(deflateStateCheck(e))return Z_STREAM_ERROR$2;const r=e.state,i=r.wrap;if(i===2||i===1&&r.status!==INIT_STATE||r.lookahead)return Z_STREAM_ERROR$2;if(i===1&&(e.adler=adler32_1(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){i===0&&(zero(r.head),r.strstart=0,r.block_start=0,r.insert=0);let u=new Uint8Array(r.w_size);u.set(t.subarray(n-r.w_size,n),0),t=u,n=r.w_size}const s=e.avail_in,o=e.next_in,a=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,fill_window(r);r.lookahead>=MIN_MATCH;){let u=r.strstart,c=r.lookahead-(MIN_MATCH-1);do r.ins_h=HASH(r,r.ins_h,r.window[u+MIN_MATCH-1]),r.prev[u&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=u,u++;while(--c);r.strstart=u,r.lookahead=MIN_MATCH-1,fill_window(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=MIN_MATCH-1,r.match_available=0,e.next_in=o,e.input=a,e.avail_in=s,r.wrap=i,Z_OK$3};var deflateInit_1=deflateInit,deflateInit2_1=deflateInit2,deflateReset_1=deflateReset,deflateResetKeep_1=deflateResetKeep,deflateSetHeader_1=deflateSetHeader,deflate_2$1=deflate$2,deflateEnd_1=deflateEnd,deflateSetDictionary_1=deflateSetDictionary,deflateInfo="pako deflate (from Nodeca project)",deflate_1$2={deflateInit:deflateInit_1,deflateInit2:deflateInit2_1,deflateReset:deflateReset_1,deflateResetKeep:deflateResetKeep_1,deflateSetHeader:deflateSetHeader_1,deflate:deflate_2$1,deflateEnd:deflateEnd_1,deflateSetDictionary:deflateSetDictionary_1,deflateInfo};const _has=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var assign=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)_has(n,r)&&(e[r]=n[r])}}return e},flattenChunks=e=>{let t=0;for(let r=0,i=e.length;r<i;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,i=0,s=e.length;r<s;r++){let o=e[r];n.set(o,i),i+=o.length}return n},common={assign,flattenChunks};let STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){STR_APPLY_UIA_OK=!1}const _utf8len=new Uint8Array(256);for(let e=0;e<256;e++)_utf8len[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,i,s,o=e.length,a=0;for(i=0;i<o;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(a),s=0,i=0;s<a;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|n&63):n<65536?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|n&63):(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|n&63);return t};const buf2binstring=(e,t)=>{if(t<65534&&e.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n};var buf2string=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,i;const s=new Array(n*2);for(i=0,r=0;r<n;){let o=e[r++];if(o<128){s[i++]=o;continue}let a=_utf8len[o];if(a>4){s[i++]=65533,r+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&r<n;)o=o<<6|e[r++]&63,a--;if(a>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return buf2binstring(s,i)},utf8border=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+_utf8len[e[n]]>t?n:t},strings={string2buf,buf2string,utf8border};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream;const toString$1=Object.prototype.toString,{Z_NO_FLUSH:Z_NO_FLUSH$1,Z_SYNC_FLUSH,Z_FULL_FLUSH,Z_FINISH:Z_FINISH$2,Z_OK:Z_OK$2,Z_STREAM_END:Z_STREAM_END$2,Z_DEFAULT_COMPRESSION,Z_DEFAULT_STRATEGY,Z_DEFLATED:Z_DEFLATED$1}=constants$2;function Deflate$1(e){this.options=common.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let n=deflate_1$2.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==Z_OK$2)throw new Error(messages[n]);if(t.header&&deflate_1$2.deflateSetHeader(this.strm,t.header),t.dictionary){let r;if(typeof t.dictionary=="string"?r=strings.string2buf(t.dictionary):toString$1.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=deflate_1$2.deflateSetDictionary(this.strm,r),n!==Z_OK$2)throw new Error(messages[n]);this._dict_set=!0}}Deflate$1.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let i,s;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?Z_FINISH$2:Z_NO_FLUSH$1,typeof e=="string"?n.input=strings.string2buf(e):toString$1.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(s===Z_SYNC_FLUSH||s===Z_FULL_FLUSH)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(i=deflate_1$2.deflate(n,s),i===Z_STREAM_END$2)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=deflate_1$2.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Z_OK$2;if(n.avail_out===0){this.onData(n.output);continue}if(s>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};Deflate$1.prototype.onData=function(e){this.chunks.push(e)};Deflate$1.prototype.onEnd=function(e){e===Z_OK$2&&(this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const BAD$1=16209,TYPE$1=16191;var inffast=function e(t,n){let r,i,s,o,a,u,c,d,f,m,h,_,y,p,w,T,E,S,C,N,A,x,L,v;const I=t.state;r=t.next_in,L=t.input,i=r+(t.avail_in-5),s=t.next_out,v=t.output,o=s-(n-t.avail_out),a=s+(t.avail_out-257),u=I.dmax,c=I.wsize,d=I.whave,f=I.wnext,m=I.window,h=I.hold,_=I.bits,y=I.lencode,p=I.distcode,w=(1<<I.lenbits)-1,T=(1<<I.distbits)-1;e:do{_<15&&(h+=L[r++]<<_,_+=8,h+=L[r++]<<_,_+=8),E=y[h&w];t:for(;;){if(S=E>>>24,h>>>=S,_-=S,S=E>>>16&255,S===0)v[s++]=E&65535;else if(S&16){C=E&65535,S&=15,S&&(_<S&&(h+=L[r++]<<_,_+=8),C+=h&(1<<S)-1,h>>>=S,_-=S),_<15&&(h+=L[r++]<<_,_+=8,h+=L[r++]<<_,_+=8),E=p[h&T];n:for(;;){if(S=E>>>24,h>>>=S,_-=S,S=E>>>16&255,S&16){if(N=E&65535,S&=15,_<S&&(h+=L[r++]<<_,_+=8,_<S&&(h+=L[r++]<<_,_+=8)),N+=h&(1<<S)-1,N>u){t.msg="invalid distance too far back",I.mode=BAD$1;break e}if(h>>>=S,_-=S,S=s-o,N>S){if(S=N-S,S>d&&I.sane){t.msg="invalid distance too far back",I.mode=BAD$1;break e}if(A=0,x=m,f===0){if(A+=c-S,S<C){C-=S;do v[s++]=m[A++];while(--S);A=s-N,x=v}}else if(f<S){if(A+=c+f-S,S-=f,S<C){C-=S;do v[s++]=m[A++];while(--S);if(A=0,f<C){S=f,C-=S;do v[s++]=m[A++];while(--S);A=s-N,x=v}}}else if(A+=f-S,S<C){C-=S;do v[s++]=m[A++];while(--S);A=s-N,x=v}for(;C>2;)v[s++]=x[A++],v[s++]=x[A++],v[s++]=x[A++],C-=3;C&&(v[s++]=x[A++],C>1&&(v[s++]=x[A++]))}else{A=s-N;do v[s++]=v[A++],v[s++]=v[A++],v[s++]=v[A++],C-=3;while(C>2);C&&(v[s++]=v[A++],C>1&&(v[s++]=v[A++]))}}else if(S&64){t.msg="invalid distance code",I.mode=BAD$1;break e}else{E=p[(E&65535)+(h&(1<<S)-1)];continue n}break}}else if(S&64)if(S&32){I.mode=TYPE$1;break e}else{t.msg="invalid literal/length code",I.mode=BAD$1;break e}else{E=y[(E&65535)+(h&(1<<S)-1)];continue t}break}}while(r<i&&s<a);C=_>>3,r-=C,_-=C<<3,h&=(1<<_)-1,t.next_in=r,t.next_out=s,t.avail_in=r<i?5+(i-r):5-(r-i),t.avail_out=s<a?257+(a-s):257-(s-a),I.hold=h,I.bits=_};const MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),inflate_table=(e,t,n,r,i,s,o,a)=>{const u=a.bits;let c=0,d=0,f=0,m=0,h=0,_=0,y=0,p=0,w=0,T=0,E,S,C,N,A,x=null,L;const v=new Uint16Array(MAXBITS+1),I=new Uint16Array(MAXBITS+1);let R=null,O,g,l;for(c=0;c<=MAXBITS;c++)v[c]=0;for(d=0;d<r;d++)v[t[n+d]]++;for(h=u,m=MAXBITS;m>=1&&v[m]===0;m--);if(h>m&&(h=m),m===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,a.bits=1,0;for(f=1;f<m&&v[f]===0;f++);for(h<f&&(h=f),p=1,c=1;c<=MAXBITS;c++)if(p<<=1,p-=v[c],p<0)return-1;if(p>0&&(e===CODES$1||m!==1))return-1;for(I[1]=0,c=1;c<MAXBITS;c++)I[c+1]=I[c]+v[c];for(d=0;d<r;d++)t[n+d]!==0&&(o[I[t[n+d]]++]=d);if(e===CODES$1?(x=R=o,L=20):e===LENS$1?(x=lbase,R=lext,L=257):(x=dbase,R=dext,L=0),T=0,d=0,c=f,A=s,_=h,y=0,C=-1,w=1<<h,N=w-1,e===LENS$1&&w>ENOUGH_LENS$1||e===DISTS$1&&w>ENOUGH_DISTS$1)return 1;for(;;){O=c-y,o[d]+1<L?(g=0,l=o[d]):o[d]>=L?(g=R[o[d]-L],l=x[o[d]-L]):(g=96,l=0),E=1<<c-y,S=1<<_,f=S;do S-=E,i[A+(T>>y)+S]=O<<24|g<<16|l|0;while(S!==0);for(E=1<<c-1;T&E;)E>>=1;if(E!==0?(T&=E-1,T+=E):T=0,d++,--v[c]===0){if(c===m)break;c=t[n+o[d]]}if(c>h&&(T&N)!==C){for(y===0&&(y=h),A+=f,_=c-y,p=1<<_;_+y<m&&(p-=v[_+y],!(p<=0));)_++,p<<=1;if(w+=1<<_,e===LENS$1&&w>ENOUGH_LENS$1||e===DISTS$1&&w>ENOUGH_DISTS$1)return 1;C=T&N,i[C]=h<<24|_<<16|A-s|0}}return T!==0&&(i[A+T]=c-y<<24|64<<16|0),a.bits=h,0};var inftrees=inflate_table;const CODES=0,LENS=1,DISTS=2,{Z_FINISH:Z_FINISH$1,Z_BLOCK,Z_TREES,Z_OK:Z_OK$1,Z_STREAM_END:Z_STREAM_END$1,Z_NEED_DICT:Z_NEED_DICT$1,Z_STREAM_ERROR:Z_STREAM_ERROR$1,Z_DATA_ERROR:Z_DATA_ERROR$1,Z_MEM_ERROR:Z_MEM_ERROR$1,Z_BUF_ERROR,Z_DEFLATED}=constants$2,HEAD=16180,FLAGS=16181,TIME=16182,OS=16183,EXLEN=16184,EXTRA=16185,NAME=16186,COMMENT=16187,HCRC=16188,DICTID=16189,DICT=16190,TYPE=16191,TYPEDO=16192,STORED=16193,COPY_=16194,COPY=16195,TABLE=16196,LENLENS=16197,CODELENS=16198,LEN_=16199,LEN=16200,LENEXT=16201,DIST=16202,DISTEXT=16203,MATCH=16204,LIT=16205,CHECK=16206,LENGTH=16207,DONE=16208,BAD=16209,MEM=16210,SYNC=16211,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,zswap32=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function InflateState(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const inflateStateCheck=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<HEAD||t.mode>SYNC?1:0},inflateResetKeep=e=>{if(inflateStateCheck(e))return Z_STREAM_ERROR$1;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=HEAD,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(ENOUGH_LENS),t.distcode=t.distdyn=new Int32Array(ENOUGH_DISTS),t.sane=1,t.back=-1,Z_OK$1},inflateReset=e=>{if(inflateStateCheck(e))return Z_STREAM_ERROR$1;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,inflateResetKeep(e)},inflateReset2=(e,t)=>{let n;if(inflateStateCheck(e))return Z_STREAM_ERROR$1;const r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Z_STREAM_ERROR$1:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,inflateReset(e))},inflateInit2=(e,t)=>{if(!e)return Z_STREAM_ERROR$1;const n=new InflateState;e.state=n,n.strm=e,n.window=null,n.mode=HEAD;const r=inflateReset2(e,t);return r!==Z_OK$1&&(e.state=null),r},inflateInit=e=>inflateInit2(e,DEF_WBITS);let virgin=!0,lenfix,distfix;const fixedtables=e=>{if(virgin){lenfix=new Int32Array(512),distfix=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(inftrees(LENS,e.lens,0,288,lenfix,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;inftrees(DISTS,e.lens,0,32,distfix,0,e.work,{bits:5}),virgin=!1}e.lencode=lenfix,e.lenbits=9,e.distcode=distfix,e.distbits=5},updatewindow=(e,t,n,r)=>{let i;const s=e.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(t.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(t.subarray(n-r,n-r+i),s.wnext),r-=i,r?(s.window.set(t.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},inflate$2=(e,t)=>{let n,r,i,s,o,a,u,c,d,f,m,h,_,y,p=0,w,T,E,S,C,N,A,x;const L=new Uint8Array(4);let v,I;const R=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(inflateStateCheck(e)||!e.output||!e.input&&e.avail_in!==0)return Z_STREAM_ERROR$1;n=e.state,n.mode===TYPE&&(n.mode=TYPEDO),o=e.next_out,i=e.output,u=e.avail_out,s=e.next_in,r=e.input,a=e.avail_in,c=n.hold,d=n.bits,f=a,m=u,x=Z_OK$1;e:for(;;)switch(n.mode){case HEAD:if(n.wrap===0){n.mode=TYPEDO;break}for(;d<16;){if(a===0)break e;a--,c+=r[s++]<<d,d+=8}if(n.wrap&2&&c===35615){n.wbits===0&&(n.wbits=15),n.check=0,L[0]=c&255,L[1]=c>>>8&255,n.check=crc32_1(n.check,L,2,0),c=0,d=0,n.mode=FLAGS;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=BAD;break}if((c&15)!==Z_DEFLATED){e.msg="unknown compression method",n.mode=BAD;break}if(c>>>=4,d-=4,A=(c&15)+8,n.wbits===0&&(n.wbits=A),A>15||A>n.wbits){e.msg="invalid window size",n.mode=BAD;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=c&512?DICTID:TYPE,c=0,d=0;break;case FLAGS:for(;d<16;){if(a===0)break e;a--,c+=r[s++]<<d,d+=8}if(n.flags=c,(n.flags&255)!==Z_DEFLATED){e.msg="unknown compression method",n.mode=BAD;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=BAD;break}n.head&&(n.head.text=c>>8&1),n.flags&512&&n.wrap&4&&(L[0]=c&255,L[1]=c>>>8&255,n.check=crc32_1(n.check,L,2,0)),c=0,d=0,n.mode=TIME;case TIME:for(;d<32;){if(a===0)break e;a--,c+=r[s++]<<d,d+=8}n.head&&(n.head.time=c),n.flags&512&&n.wrap&4&&(L[0]=c&255,L[1]=c>>>8&255,L[2]=c>>>16&255,L[3]=c>>>24&255,n.check=crc32_1(n.check,L,4,0)),c=0,d=0,n.mode=OS;case OS:for(;d<16;){if(a===0)break e;a--,c+=r[s++]<<d,d+=8}n.head&&(n.head.xflags=c&255,n.head.os=c>>8),n.flags&512&&n.wrap&4&&(L[0]=c&255,L[1]=c>>>8&255,n.check=crc32_1(n.check,L,2,0)),c=0,d=0,n.mode=EXLEN;case EXLEN:if(n.flags&1024){for(;d<16;){if(a===0)break e;a--,c+=r[s++]<<d,d+=8}n.length=c,n.head&&(n.head.extra_len=c),n.flags&512&&n.wrap&4&&(L[0]=c&255,L[1]=c>>>8&255,n.check=crc32_1(n.check,L,2,0)),c=0,d=0}else n.head&&(n.head.extra=null);n.mode=EXTRA;case EXTRA:if(n.flags&1024&&(h=n.length,h>a&&(h=a),h&&(n.head&&(A=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+h),A)),n.flags&512&&n.wrap&4&&(n.check=crc32_1(n.check,r,h,s)),a-=h,s+=h,n.length-=h),n.length))break e;n.length=0,n.mode=NAME;case NAME:if(n.flags&2048){if(a===0)break e;h=0;do A=r[s+h++],n.head&&A&&n.length<65536&&(n.head.name+=String.fromCharCode(A));while(A&&h<a);if(n.flags&512&&n.wrap&4&&(n.check=crc32_1(n.check,r,h,s)),a-=h,s+=h,A)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=COMMENT;case COMMENT:if(n.flags&4096){if(a===0)break e;h=0;do A=r[s+h++],n.head&&A&&n.length<65536&&(n.head.comment+=String.fromCharCode(A));while(A&&h<a);if(n.flags&512&&n.wrap&4&&(n.check=crc32_1(n.check,r,h,s)),a-=h,s+=h,A)break e}else n.head&&(n.head.comment=null);n.mode=HCRC;case HCRC:if(n.flags&512){for(;d<16;){if(a===0)break e;a--,c+=r[s++]<<d,d+=8}if(n.wrap&4&&c!==(n.check&65535)){e.msg="header crc mismatch",n.mode=BAD;break}c=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=TYPE;break;case DICTID:for(;d<32;){if(a===0)break e;a--,c+=r[s++]<<d,d+=8}e.adler=n.check=zswap32(c),c=0,d=0,n.mode=DICT;case DICT:if(n.havedict===0)return e.next_out=o,e.avail_out=u,e.next_in=s,e.avail_in=a,n.hold=c,n.bits=d,Z_NEED_DICT$1;e.adler=n.check=1,n.mode=TYPE;case TYPE:if(t===Z_BLOCK||t===Z_TREES)break e;case TYPEDO:if(n.last){c>>>=d&7,d-=d&7,n.mode=CHECK;break}for(;d<3;){if(a===0)break e;a--,c+=r[s++]<<d,d+=8}switch(n.last=c&1,c>>>=1,d-=1,c&3){case 0:n.mode=STORED;break;case 1:if(fixedtables(n),n.mode=LEN_,t===Z_TREES){c>>>=2,d-=2;break e}break;case 2:n.mode=TABLE;break;case 3:e.msg="invalid block type",n.mode=BAD}c>>>=2,d-=2;break;case STORED:for(c>>>=d&7,d-=d&7;d<32;){if(a===0)break e;a--,c+=r[s++]<<d,d+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=BAD;break}if(n.length=c&65535,c=0,d=0,n.mode=COPY_,t===Z_TREES)break e;case COPY_:n.mode=COPY;case COPY:if(h=n.length,h){if(h>a&&(h=a),h>u&&(h=u),h===0)break e;i.set(r.subarray(s,s+h),o),a-=h,s+=h,u-=h,o+=h,n.length-=h;break}n.mode=TYPE;break;case TABLE:for(;d<14;){if(a===0)break e;a--,c+=r[s++]<<d,d+=8}if(n.nlen=(c&31)+257,c>>>=5,d-=5,n.ndist=(c&31)+1,c>>>=5,d-=5,n.ncode=(c&15)+4,c>>>=4,d-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=BAD;break}n.have=0,n.mode=LENLENS;case LENLENS:for(;n.have<n.ncode;){for(;d<3;){if(a===0)break e;a--,c+=r[s++]<<d,d+=8}n.lens[R[n.have++]]=c&7,c>>>=3,d-=3}for(;n.have<19;)n.lens[R[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,v={bits:n.lenbits},x=inftrees(CODES,n.lens,0,19,n.lencode,0,n.work,v),n.lenbits=v.bits,x){e.msg="invalid code lengths set",n.mode=BAD;break}n.have=0,n.mode=CODELENS;case CODELENS:for(;n.have<n.nlen+n.ndist;){for(;p=n.lencode[c&(1<<n.lenbits)-1],w=p>>>24,T=p>>>16&255,E=p&65535,!(w<=d);){if(a===0)break e;a--,c+=r[s++]<<d,d+=8}if(E<16)c>>>=w,d-=w,n.lens[n.have++]=E;else{if(E===16){for(I=w+2;d<I;){if(a===0)break e;a--,c+=r[s++]<<d,d+=8}if(c>>>=w,d-=w,n.have===0){e.msg="invalid bit length repeat",n.mode=BAD;break}A=n.lens[n.have-1],h=3+(c&3),c>>>=2,d-=2}else if(E===17){for(I=w+3;d<I;){if(a===0)break e;a--,c+=r[s++]<<d,d+=8}c>>>=w,d-=w,A=0,h=3+(c&7),c>>>=3,d-=3}else{for(I=w+7;d<I;){if(a===0)break e;a--,c+=r[s++]<<d,d+=8}c>>>=w,d-=w,A=0,h=11+(c&127),c>>>=7,d-=7}if(n.have+h>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=BAD;break}for(;h--;)n.lens[n.have++]=A}}if(n.mode===BAD)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=BAD;break}if(n.lenbits=9,v={bits:n.lenbits},x=inftrees(LENS,n.lens,0,n.nlen,n.lencode,0,n.work,v),n.lenbits=v.bits,x){e.msg="invalid literal/lengths set",n.mode=BAD;break}if(n.distbits=6,n.distcode=n.distdyn,v={bits:n.distbits},x=inftrees(DISTS,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,v),n.distbits=v.bits,x){e.msg="invalid distances set",n.mode=BAD;break}if(n.mode=LEN_,t===Z_TREES)break e;case LEN_:n.mode=LEN;case LEN:if(a>=6&&u>=258){e.next_out=o,e.avail_out=u,e.next_in=s,e.avail_in=a,n.hold=c,n.bits=d,inffast(e,m),o=e.next_out,i=e.output,u=e.avail_out,s=e.next_in,r=e.input,a=e.avail_in,c=n.hold,d=n.bits,n.mode===TYPE&&(n.back=-1);break}for(n.back=0;p=n.lencode[c&(1<<n.lenbits)-1],w=p>>>24,T=p>>>16&255,E=p&65535,!(w<=d);){if(a===0)break e;a--,c+=r[s++]<<d,d+=8}if(T&&!(T&240)){for(S=w,C=T,N=E;p=n.lencode[N+((c&(1<<S+C)-1)>>S)],w=p>>>24,T=p>>>16&255,E=p&65535,!(S+w<=d);){if(a===0)break e;a--,c+=r[s++]<<d,d+=8}c>>>=S,d-=S,n.back+=S}if(c>>>=w,d-=w,n.back+=w,n.length=E,T===0){n.mode=LIT;break}if(T&32){n.back=-1,n.mode=TYPE;break}if(T&64){e.msg="invalid literal/length code",n.mode=BAD;break}n.extra=T&15,n.mode=LENEXT;case LENEXT:if(n.extra){for(I=n.extra;d<I;){if(a===0)break e;a--,c+=r[s++]<<d,d+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=DIST;case DIST:for(;p=n.distcode[c&(1<<n.distbits)-1],w=p>>>24,T=p>>>16&255,E=p&65535,!(w<=d);){if(a===0)break e;a--,c+=r[s++]<<d,d+=8}if(!(T&240)){for(S=w,C=T,N=E;p=n.distcode[N+((c&(1<<S+C)-1)>>S)],w=p>>>24,T=p>>>16&255,E=p&65535,!(S+w<=d);){if(a===0)break e;a--,c+=r[s++]<<d,d+=8}c>>>=S,d-=S,n.back+=S}if(c>>>=w,d-=w,n.back+=w,T&64){e.msg="invalid distance code",n.mode=BAD;break}n.offset=E,n.extra=T&15,n.mode=DISTEXT;case DISTEXT:if(n.extra){for(I=n.extra;d<I;){if(a===0)break e;a--,c+=r[s++]<<d,d+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=BAD;break}n.mode=MATCH;case MATCH:if(u===0)break e;if(h=m-u,n.offset>h){if(h=n.offset-h,h>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=BAD;break}h>n.wnext?(h-=n.wnext,_=n.wsize-h):_=n.wnext-h,h>n.length&&(h=n.length),y=n.window}else y=i,_=o-n.offset,h=n.length;h>u&&(h=u),u-=h,n.length-=h;do i[o++]=y[_++];while(--h);n.length===0&&(n.mode=LEN);break;case LIT:if(u===0)break e;i[o++]=n.length,u--,n.mode=LEN;break;case CHECK:if(n.wrap){for(;d<32;){if(a===0)break e;a--,c|=r[s++]<<d,d+=8}if(m-=u,e.total_out+=m,n.total+=m,n.wrap&4&&m&&(e.adler=n.check=n.flags?crc32_1(n.check,i,m,o-m):adler32_1(n.check,i,m,o-m)),m=u,n.wrap&4&&(n.flags?c:zswap32(c))!==n.check){e.msg="incorrect data check",n.mode=BAD;break}c=0,d=0}n.mode=LENGTH;case LENGTH:if(n.wrap&&n.flags){for(;d<32;){if(a===0)break e;a--,c+=r[s++]<<d,d+=8}if(n.wrap&4&&c!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=BAD;break}c=0,d=0}n.mode=DONE;case DONE:x=Z_STREAM_END$1;break e;case BAD:x=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR$1;case SYNC:default:return Z_STREAM_ERROR$1}return e.next_out=o,e.avail_out=u,e.next_in=s,e.avail_in=a,n.hold=c,n.bits=d,(n.wsize||m!==e.avail_out&&n.mode<BAD&&(n.mode<CHECK||t!==Z_FINISH$1))&&updatewindow(e,e.output,e.next_out,m-e.avail_out),f-=e.avail_in,m-=e.avail_out,e.total_in+=f,e.total_out+=m,n.total+=m,n.wrap&4&&m&&(e.adler=n.check=n.flags?crc32_1(n.check,i,m,e.next_out-m):adler32_1(n.check,i,m,e.next_out-m)),e.data_type=n.bits+(n.last?64:0)+(n.mode===TYPE?128:0)+(n.mode===LEN_||n.mode===COPY_?256:0),(f===0&&m===0||t===Z_FINISH$1)&&x===Z_OK$1&&(x=Z_BUF_ERROR),x},inflateEnd=e=>{if(inflateStateCheck(e))return Z_STREAM_ERROR$1;let t=e.state;return t.window&&(t.window=null),e.state=null,Z_OK$1},inflateGetHeader=(e,t)=>{if(inflateStateCheck(e))return Z_STREAM_ERROR$1;const n=e.state;return n.wrap&2?(n.head=t,t.done=!1,Z_OK$1):Z_STREAM_ERROR$1},inflateSetDictionary=(e,t)=>{const n=t.length;let r,i,s;return inflateStateCheck(e)||(r=e.state,r.wrap!==0&&r.mode!==DICT)?Z_STREAM_ERROR$1:r.mode===DICT&&(i=1,i=adler32_1(i,t,n,0),i!==r.check)?Z_DATA_ERROR$1:(s=updatewindow(e,t,n,n),s?(r.mode=MEM,Z_MEM_ERROR$1):(r.havedict=1,Z_OK$1))};var inflateReset_1=inflateReset,inflateReset2_1=inflateReset2,inflateResetKeep_1=inflateResetKeep,inflateInit_1=inflateInit,inflateInit2_1=inflateInit2,inflate_2$1=inflate$2,inflateEnd_1=inflateEnd,inflateGetHeader_1=inflateGetHeader,inflateSetDictionary_1=inflateSetDictionary,inflateInfo="pako inflate (from Nodeca project)",inflate_1$2={inflateReset:inflateReset_1,inflateReset2:inflateReset2_1,inflateResetKeep:inflateResetKeep_1,inflateInit:inflateInit_1,inflateInit2:inflateInit2_1,inflate:inflate_2$1,inflateEnd:inflateEnd_1,inflateGetHeader:inflateGetHeader_1,inflateSetDictionary:inflateSetDictionary_1,inflateInfo};function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader;const toString=Object.prototype.toString,{Z_NO_FLUSH,Z_FINISH,Z_OK,Z_STREAM_END,Z_NEED_DICT,Z_STREAM_ERROR,Z_DATA_ERROR,Z_MEM_ERROR}=constants$2;function Inflate$1(e){this.options=common.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let n=inflate_1$2.inflateInit2(this.strm,t.windowBits);if(n!==Z_OK)throw new Error(messages[n]);if(this.header=new gzheader,inflate_1$2.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=strings.string2buf(t.dictionary):toString.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=inflate_1$2.inflateSetDictionary(this.strm,t.dictionary),n!==Z_OK)))throw new Error(messages[n])}Inflate$1.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?Z_FINISH:Z_NO_FLUSH,toString.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=inflate_1$2.inflate(n,o),s===Z_NEED_DICT&&i&&(s=inflate_1$2.inflateSetDictionary(n,i),s===Z_OK?s=inflate_1$2.inflate(n,o):s===Z_DATA_ERROR&&(s=Z_NEED_DICT));n.avail_in>0&&s===Z_STREAM_END&&n.state.wrap>0&&e[n.next_in]!==0;)inflate_1$2.inflateReset(n),s=inflate_1$2.inflate(n,o);switch(s){case Z_STREAM_ERROR:case Z_DATA_ERROR:case Z_NEED_DICT:case Z_MEM_ERROR:return this.onEnd(s),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||s===Z_STREAM_END))if(this.options.to==="string"){let u=strings.utf8border(n.output,n.next_out),c=n.next_out-u,d=strings.buf2string(n.output,u);n.next_out=c,n.avail_out=r-c,c&&n.output.set(n.output.subarray(u,u+c),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===Z_OK&&a===0)){if(s===Z_STREAM_END)return s=inflate_1$2.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Inflate$1.prototype.onData=function(e){this.chunks.push(e)};Inflate$1.prototype.onEnd=function(e){e===Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var eventemitter3$1={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,c,d){this.fn=u,this.context=c,this.once=d||!1}function s(u,c,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new i(d,f||u,m),_=n?n+c:c;return u._events[_]?u._events[_].fn?u._events[_]=[u._events[_],h]:u._events[_].push(h):(u._events[_]=h,u._eventsCount++),u}function o(u,c){--u._eventsCount===0?u._events=new r:delete u._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)t.call(d,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,h=f.length,_=new Array(h);m<h;m++)_[m]=f[m].fn;return _},a.prototype.listenerCount=function(c){var d=n?n+c:c,f=this._events[d];return f?f.fn?1:f.length:0},a.prototype.emit=function(c,d,f,m,h,_){var y=n?n+c:c;if(!this._events[y])return!1;var p=this._events[y],w=arguments.length,T,E;if(p.fn){switch(p.once&&this.removeListener(c,p.fn,void 0,!0),w){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,d),!0;case 3:return p.fn.call(p.context,d,f),!0;case 4:return p.fn.call(p.context,d,f,m),!0;case 5:return p.fn.call(p.context,d,f,m,h),!0;case 6:return p.fn.call(p.context,d,f,m,h,_),!0}for(E=1,T=new Array(w-1);E<w;E++)T[E-1]=arguments[E];p.fn.apply(p.context,T)}else{var S=p.length,C;for(E=0;E<S;E++)switch(p[E].once&&this.removeListener(c,p[E].fn,void 0,!0),w){case 1:p[E].fn.call(p[E].context);break;case 2:p[E].fn.call(p[E].context,d);break;case 3:p[E].fn.call(p[E].context,d,f);break;case 4:p[E].fn.call(p[E].context,d,f,m);break;default:if(!T)for(C=1,T=new Array(w-1);C<w;C++)T[C-1]=arguments[C];p[E].fn.apply(p[E].context,T)}}return!0},a.prototype.on=function(c,d,f){return s(this,c,d,f,!1)},a.prototype.once=function(c,d,f){return s(this,c,d,f,!0)},a.prototype.removeListener=function(c,d,f,m){var h=n?n+c:c;if(!this._events[h])return this;if(!d)return o(this,h),this;var _=this._events[h];if(_.fn)_.fn===d&&(!m||_.once)&&(!f||_.context===f)&&o(this,h);else{for(var y=0,p=[],w=_.length;y<w;y++)(_[y].fn!==d||m&&!_[y].once||f&&_[y].context!==f)&&p.push(_[y]);p.length?this._events[h]=p.length===1?p[0]:p:o(this,h)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(eventemitter3$1);requireAssert();class StructError extends TypeError{constructor(t,n){let r;const{message:i,...s}=t,{path:o}=t,a=o.length===0?i:"At path: "+o.join(".")+" -- "+i;super(a),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>{var u;return(u=r)!=null?u:r=[t,...n()]}}}function isIterable(e){return isObject(e)&&typeof e[Symbol.iterator]=="function"}function isObject(e){return typeof e=="object"&&e!=null}function print(e){return typeof e=="string"?JSON.stringify(e):""+e}function shiftIterator(e){const{done:t,value:n}=e.next();return t?void 0:n}function toFailure(e,t,n,r){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:i,branch:s}=t,{type:o}=n,{refinement:a,message:u="Expected a value of type `"+o+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+print(r)+"`"}=e;return{value:r,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...e,message:u}}function*toFailures(e,t,n,r){isIterable(e)||(e=[e]);for(const i of e){const s=toFailure(i,t,n,r);s&&(yield s)}}function*run(e,t,n){n===void 0&&(n={});const{path:r=[],branch:i=[e],coerce:s=!1,mask:o=!1}=n,a={path:r,branch:i};if(s&&(e=t.coercer(e,a),o&&t.type!=="type"&&isObject(t.schema)&&isObject(e)&&!Array.isArray(e)))for(const c in e)t.schema[c]===void 0&&delete e[c];let u=!0;for(const c of t.validator(e,a))u=!1,yield[c,void 0];for(let[c,d,f]of t.entries(e,a)){const m=run(d,f,{path:c===void 0?r:[...r,c],branch:c===void 0?i:[...i,d],coerce:s,mask:o});for(const h of m)h[0]?(u=!1,yield[h[0],void 0]):s&&(d=h[1],c===void 0?e=d:e instanceof Map?e.set(c,d):e instanceof Set?e.add(d):isObject(e)&&(e[c]=d))}if(u)for(const c of t.refiner(e,a))u=!1,yield[c,void 0];u&&(yield[void 0,e])}class Struct{constructor(t){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:n,schema:r,validator:i,refiner:s,coercer:o=u=>u,entries:a=function*(){}}=t;this.type=n,this.schema=r,this.entries=a,this.coercer=o,i?this.validator=(u,c)=>{const d=i(u,c);return toFailures(d,c,this,u)}:this.validator=()=>[],s?this.refiner=(u,c)=>{const d=s(u,c);return toFailures(d,c,this,u)}:this.refiner=()=>[]}assert(t){return assert$1(t,this)}create(t){return create(t,this)}is(t){return is(t,this)}mask(t){return mask(t,this)}validate(t,n){return n===void 0&&(n={}),validate(t,this,n)}}function assert$1(e,t){const n=validate(e,t);if(n[0])throw n[0]}function create(e,t){const n=validate(e,t,{coerce:!0});if(n[0])throw n[0];return n[1]}function mask(e,t){const n=validate(e,t,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}function is(e,t){return!validate(e,t)[0]}function validate(e,t,n){n===void 0&&(n={});const r=run(e,t,n),i=shiftIterator(r);return i[0]?[new StructError(i[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function define(e,t){return new Struct({type:e,schema:null,validator:t})}function any(){return define("any",()=>!0)}function array(e){return new Struct({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||"Expected an array value, but received: "+print(t)}})}function boolean(){return define("boolean",e=>typeof e=="boolean")}function literal(e){const t=print(e);return new Struct({type:"literal",schema:e,validator(n){return n===e||"Expected the literal `"+t+"`, but received: "+print(n)}})}function nullable(e){return new Struct({...e,validator:(t,n)=>t===null||e.validator(t,n),refiner:(t,n)=>t===null||e.refiner(t,n)})}function number$1(){return define("number",e=>typeof e=="number"&&!isNaN(e)||"Expected a number, but received: "+print(e))}function optional(e){return new Struct({...e,validator:(t,n)=>t===void 0||e.validator(t,n),refiner:(t,n)=>t===void 0||e.refiner(t,n)})}function string(){return define("string",e=>typeof e=="string"||"Expected a string, but received: "+print(e))}function type(e){const t=Object.keys(e);return new Struct({type:"type",schema:e,*entries(n){if(isObject(n))for(const r of t)yield[r,n[r],e[r]]},validator(n){return isObject(n)||"Expected an object, but received: "+print(n)}})}function union$1(e){const t=e.map(n=>n.type).join(" | ");return new Struct({type:"union",schema:null,coercer(n,r){return(e.find(s=>{const[o]=s.validate(n,{coerce:!0});return!o})||unknown()).coercer(n,r)},validator(n,r){const i=[];for(const s of e){const[...o]=run(n,s,r),[a]=o;if(a[0])for(const[u]of o)u&&i.push(u);else return[]}return["Expected the value to satisfy a union of `"+t+"`, but received: "+print(n),...i]}})}function unknown(){return define("unknown",()=>!0)}function coerce$1(e,t,n){return new Struct({...e,coercer:(r,i)=>is(r,t)?e.coercer(n(r,i),i):e.coercer(r,i)})}function jsonRpcResult(e){return coerce$1(createRpcResult(e),UnknownRpcResult,t=>"error"in t?t:{...t,result:create(t.result,e)})}const UnknownRpcResult=createRpcResult(unknown());function createRpcResult(e){return union$1([type({jsonrpc:literal("2.0"),id:string(),result:e}),type({jsonrpc:literal("2.0"),id:string(),error:type({code:unknown(),message:string(),data:optional(any())})})])}function jsonRpcResultAndContext(e){return jsonRpcResult(type({context:type({slot:number$1()}),value:e}))}jsonRpcResultAndContext(type({err:nullable(union$1([type({}),string()])),logs:nullable(array(string())),accounts:optional(nullable(array(nullable(type({executable:boolean(),owner:string(),lamports:number$1(),data:array(string()),rentEpoch:optional(number$1())}))))),unitsConsumed:optional(number$1())}));var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof _global$1<"u"?_global$1:typeof self<"u"?self:{};class Layout{constructor(t,n){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=n}makeDestinationObject(){return{}}decode(t,n){throw new Error("Layout is abstract")}encode(t,n,r){throw new Error("Layout is abstract")}getSpan(t,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=t,n}fromArray(t){}}var Layout_2=Layout;function nameWithProperty(e,t){return t.property?e+"["+t.property+"]":e}class ExternalLayout extends Layout{isCount(){throw new Error("ExternalLayout is abstract")}}class OffsetLayout extends ExternalLayout{constructor(t,n,r){if(!(t instanceof Layout))throw new TypeError("layout must be a Layout");if(n===void 0)n=0;else if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(t.span,r||t.property),this.layout=t,this.offset=n}isCount(){return this.layout instanceof UInt||this.layout instanceof UIntBE}decode(t,n){return n===void 0&&(n=0),this.layout.decode(t,n+this.offset)}encode(t,n,r){return r===void 0&&(r=0),this.layout.encode(t,n,r+this.offset)}}class UInt extends Layout{constructor(t,n){if(super(t,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,n){return n===void 0&&(n=0),t.readUIntLE(n,this.span)}encode(t,n,r){return r===void 0&&(r=0),n.writeUIntLE(t,r,this.span),this.span}}class UIntBE extends Layout{constructor(t,n){if(super(t,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,n){return n===void 0&&(n=0),t.readUIntBE(n,this.span)}encode(t,n,r){return r===void 0&&(r=0),n.writeUIntBE(t,r,this.span),this.span}}const V2E32=Math.pow(2,32);function divmodInt64(e){const t=Math.floor(e/V2E32),n=e-t*V2E32;return{hi32:t,lo32:n}}function roundedInt64(e,t){return e*V2E32+t}class NearUInt64 extends Layout{constructor(t){super(8,t)}decode(t,n){n===void 0&&(n=0);const r=t.readUInt32LE(n),i=t.readUInt32LE(n+4);return roundedInt64(i,r)}encode(t,n,r){r===void 0&&(r=0);const i=divmodInt64(t);return n.writeUInt32LE(i.lo32,r),n.writeUInt32LE(i.hi32,r+4),8}}class NearInt64 extends Layout{constructor(t){super(8,t)}decode(t,n){n===void 0&&(n=0);const r=t.readUInt32LE(n),i=t.readInt32LE(n+4);return roundedInt64(i,r)}encode(t,n,r){r===void 0&&(r=0);const i=divmodInt64(t);return n.writeUInt32LE(i.lo32,r),n.writeInt32LE(i.hi32,r+4),8}}class Structure extends Layout{constructor(t,n,r){if(!(Array.isArray(t)&&t.reduce((s,o)=>s&&o instanceof Layout,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const s of t)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=t.reduce((s,o)=>s+o.getSpan(),0)}catch{}super(i,n),this.fields=t,this.decodePrefixes=!!r}getSpan(t,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0;try{r=this.fields.reduce((i,s)=>{const o=s.getSpan(t,n);return n+=o,i+o},0)}catch{throw new RangeError("indeterminate span")}return r}decode(t,n){n===void 0&&(n=0);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(t,n)),n+=i.getSpan(t,n),this.decodePrefixes&&t.length===n)break;return r}encode(t,n,r){r===void 0&&(r=0);const i=r;let s=0,o=0;for(const a of this.fields){let u=a.span;if(o=0<u?u:0,a.property!==void 0){const c=t[a.property];c!==void 0&&(o=a.encode(c,n,r),0>u&&(u=a.getSpan(n,r)))}s=r,r+=u}return s+o-i}fromArray(t){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<t.length&&(n[r.property]=t.shift());return n}layoutFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===t)return n}offsetOf(t){if(typeof t!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===t)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}}class UnionDiscriminator{constructor(t){this.property=t}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class UnionLayoutDiscriminator extends UnionDiscriminator{constructor(t,n){if(!(t instanceof ExternalLayout&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||t.property||"variant"),this.layout=t}decode(t,n){return this.layout.decode(t,n)}encode(t,n,r){return this.layout.encode(t,n,r)}}class Union extends Layout{constructor(t,n,r){const i=t instanceof UInt||t instanceof UIntBE;if(i)t=new UnionLayoutDiscriminator(new OffsetLayout(t));else if(t instanceof ExternalLayout&&t.isCount())t=new UnionLayoutDiscriminator(t);else if(!(t instanceof UnionDiscriminator))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof Layout))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let s=-1;n&&(s=n.span,0<=s&&i&&(s+=t.layout.span)),super(s,r),this.discriminator=t,this.usesPrefixDiscriminator=i,this.defaultLayout=n,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(t,n){if(0<=this.span)return this.span;n===void 0&&(n=0);const r=this.getVariant(t,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(t,n)}defaultGetSourceVariant(t){if(t.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&t.hasOwnProperty(this.defaultLayout.property))return;const n=this.registry[t[this.discriminator.property]];if(n&&(!n.layout||t.hasOwnProperty(n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(t.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(t,n){n===void 0&&(n=0);let r;const i=this.discriminator,s=i.decode(t,n);let o=this.registry[s];if(o===void 0){let a=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(a=i.layout.span),r=this.makeDestinationObject(),r[i.property]=s,r[o.property]=this.defaultLayout.decode(t,n+a)}else r=o.decode(t,n);return r}encode(t,n,r){r===void 0&&(r=0);const i=this.getSourceVariant(t);if(i===void 0){const s=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=s.layout.span),s.encode(t[s.property],n,r),a+o.encode(t[o.property],n,r+a)}return i.encode(t,n,r)}addVariant(t,n,r){const i=new VariantLayout(this,t,n,r);return this.registry[t]=i,i}getVariant(t,n){let r=t;return buffer.Buffer.isBuffer(t)&&(n===void 0&&(n=0),r=this.discriminator.decode(t,n)),this.registry[r]}}class VariantLayout extends Layout{constructor(t,n,r,i){if(!(t instanceof Union))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof Layout))throw new TypeError("layout must be a Layout");if(t.defaultLayout!==null&&0<=r.span&&r.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=t.span;0>t.span&&(s=r?r.span:0,0<=s&&t.usesPrefixDiscriminator&&(s+=t.discriminator.layout.span)),super(s,i),this.union=t,this.variant=n,this.layout=r||null}getSpan(t,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(t,n+r)}decode(t,n){const r=this.makeDestinationObject();if(n===void 0&&(n=0),this!==this.union.getVariant(t,n))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(t,n+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(t,n,r){r===void 0&&(r=0);let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!t.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let s=i;if(this.layout&&(this.layout.encode(t[this.property],n,r+i),s+=this.layout.getSpan(n,r+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}class Blob$1 extends Layout{constructor(t,n){if(!(t instanceof ExternalLayout&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;t instanceof ExternalLayout||(r=t),super(r,n),this.length=t}getSpan(t,n){let r=this.span;return 0>r&&(r=this.length.decode(t,n)),r}decode(t,n){n===void 0&&(n=0);let r=this.span;return 0>r&&(r=this.length.decode(t,n)),t.slice(n,n+r)}encode(t,n,r){let i=this.length;if(this.length instanceof ExternalLayout&&(i=t.length),!(buffer.Buffer.isBuffer(t)&&i===t.length))throw new TypeError(nameWithProperty("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(r+i>n.length)throw new RangeError("encoding overruns Buffer");return n.write(t.toString("hex"),r,i,"hex"),this.length instanceof ExternalLayout&&this.length.encode(i,n,r),i}}var offset=(e,t,n)=>new OffsetLayout(e,t,n),u8=e=>new UInt(1,e),u32$1=e=>new UInt(4,e),nu64=e=>new NearUInt64(e),ns64=e=>new NearInt64(e),struct=(e,t,n)=>new Structure(e,t,n),union=(e,t,n)=>new Union(e,t,n),blob=(e,t)=>new Blob$1(e,t);class RustStringLayout extends Layout_2{constructor(t){super(-1,t),this.property=t,this.layout=struct([u32$1("length"),u32$1("lengthPadding"),blob(offset(u32$1(),-8),"chars")],this.property)}encode(t,n,r=0){if(t==null)return this.layout.span;const i={chars:buffer.Buffer.from(t,"utf8")};return this.layout.encode(i,n,r)}decode(t,n=0){return this.layout.decode(t,n).chars.toString()}getSpan(t,n=0){return u32$1().span+u32$1().span+new BN(new Uint8Array(t).slice(n,n+4),10,"le").toNumber()}}function rustStringLayout(e){return new RustStringLayout(e)}function publicKey$2(e){return blob(32,e)}const LAYOUT=union(u32$1("instruction"));LAYOUT.addVariant(0,struct([ns64("lamports"),ns64("space"),publicKey$2("owner")]),"createAccount");LAYOUT.addVariant(1,struct([publicKey$2("owner")]),"assign");LAYOUT.addVariant(2,struct([ns64("lamports")]),"transfer");LAYOUT.addVariant(3,struct([publicKey$2("base"),rustStringLayout("seed"),ns64("lamports"),ns64("space"),publicKey$2("owner")]),"createAccountWithSeed");LAYOUT.addVariant(4,struct([publicKey$2("authorized")]),"advanceNonceAccount");LAYOUT.addVariant(5,struct([ns64("lamports")]),"withdrawNonceAccount");LAYOUT.addVariant(6,struct([publicKey$2("authorized")]),"initializeNonceAccount");LAYOUT.addVariant(7,struct([publicKey$2("authorized")]),"authorizeNonceAccount");LAYOUT.addVariant(8,struct([ns64("space")]),"allocate");LAYOUT.addVariant(9,struct([publicKey$2("base"),rustStringLayout("seed"),ns64("space"),publicKey$2("owner")]),"allocateWithSeed");LAYOUT.addVariant(10,struct([publicKey$2("base"),rustStringLayout("seed"),publicKey$2("owner")]),"assignWithSeed");LAYOUT.addVariant(11,struct([ns64("lamports"),rustStringLayout("seed"),publicKey$2("owner")]),"transferWithSeed");Math.max(...Object.values(LAYOUT.registry).map(e=>e.span));class WrappedLayout$1 extends Layout_2{constructor(t,n,r,i){super(t.span,i),this.layout=t,this.decoder=n,this.encoder=r}decode(t,n){return this.decoder(this.layout.decode(t,n))}encode(t,n,r){return this.layout.encode(this.encoder(t),n,r)}getSpan(t,n){return this.layout.getSpan(t,n)}}function publicKey$1(e){return new WrappedLayout$1(blob(32),t=>new PublicKey$1(t),t=>t.toBuffer(),e)}struct([u32$1("version"),u32$1("state"),publicKey$1("authorizedPubkey"),publicKey$1("nonce"),struct([nu64("lamportsPerSignature")],"feeCalculator")]);const TOKEN_PROGRAM_ID=new PublicKey$1("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),ASSOCIATED_PROGRAM_ID=new PublicKey$1("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var browserPonyfill$1={exports:{}};(function(e,t){var n=typeof self<"u"?self:commonjsGlobal,r=function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s}();(function(s){(function(o){var a={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function u(g){return g&&DataView.prototype.isPrototypeOf(g)}if(a.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(g){return g&&c.indexOf(Object.prototype.toString.call(g))>-1};function f(g){if(typeof g!="string"&&(g=String(g)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(g))throw new TypeError("Invalid character in header field name");return g.toLowerCase()}function m(g){return typeof g!="string"&&(g=String(g)),g}function h(g){var l={next:function(){var b=g.shift();return{done:b===void 0,value:b}}};return a.iterable&&(l[Symbol.iterator]=function(){return l}),l}function _(g){this.map={},g instanceof _?g.forEach(function(l,b){this.append(b,l)},this):Array.isArray(g)?g.forEach(function(l){this.append(l[0],l[1])},this):g&&Object.getOwnPropertyNames(g).forEach(function(l){this.append(l,g[l])},this)}_.prototype.append=function(g,l){g=f(g),l=m(l);var b=this.map[g];this.map[g]=b?b+", "+l:l},_.prototype.delete=function(g){delete this.map[f(g)]},_.prototype.get=function(g){return g=f(g),this.has(g)?this.map[g]:null},_.prototype.has=function(g){return this.map.hasOwnProperty(f(g))},_.prototype.set=function(g,l){this.map[f(g)]=m(l)},_.prototype.forEach=function(g,l){for(var b in this.map)this.map.hasOwnProperty(b)&&g.call(l,this.map[b],b,this)},_.prototype.keys=function(){var g=[];return this.forEach(function(l,b){g.push(b)}),h(g)},_.prototype.values=function(){var g=[];return this.forEach(function(l){g.push(l)}),h(g)},_.prototype.entries=function(){var g=[];return this.forEach(function(l,b){g.push([b,l])}),h(g)},a.iterable&&(_.prototype[Symbol.iterator]=_.prototype.entries);function y(g){if(g.bodyUsed)return Promise.reject(new TypeError("Already read"));g.bodyUsed=!0}function p(g){return new Promise(function(l,b){g.onload=function(){l(g.result)},g.onerror=function(){b(g.error)}})}function w(g){var l=new FileReader,b=p(l);return l.readAsArrayBuffer(g),b}function T(g){var l=new FileReader,b=p(l);return l.readAsText(g),b}function E(g){for(var l=new Uint8Array(g),b=new Array(l.length),$=0;$<l.length;$++)b[$]=String.fromCharCode(l[$]);return b.join("")}function S(g){if(g.slice)return g.slice(0);var l=new Uint8Array(g.byteLength);return l.set(new Uint8Array(g)),l.buffer}function C(){return this.bodyUsed=!1,this._initBody=function(g){this._bodyInit=g,g?typeof g=="string"?this._bodyText=g:a.blob&&Blob.prototype.isPrototypeOf(g)?this._bodyBlob=g:a.formData&&FormData.prototype.isPrototypeOf(g)?this._bodyFormData=g:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(g)?this._bodyText=g.toString():a.arrayBuffer&&a.blob&&u(g)?(this._bodyArrayBuffer=S(g.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(g)||d(g))?this._bodyArrayBuffer=S(g):this._bodyText=g=Object.prototype.toString.call(g):this._bodyText="",this.headers.get("content-type")||(typeof g=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(g)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var g=y(this);if(g)return g;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?y(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(w)}),this.text=function(){var g=y(this);if(g)return g;if(this._bodyBlob)return T(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(E(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(L)}),this.json=function(){return this.text().then(JSON.parse)},this}var N=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function A(g){var l=g.toUpperCase();return N.indexOf(l)>-1?l:g}function x(g,l){l=l||{};var b=l.body;if(g instanceof x){if(g.bodyUsed)throw new TypeError("Already read");this.url=g.url,this.credentials=g.credentials,l.headers||(this.headers=new _(g.headers)),this.method=g.method,this.mode=g.mode,this.signal=g.signal,!b&&g._bodyInit!=null&&(b=g._bodyInit,g.bodyUsed=!0)}else this.url=String(g);if(this.credentials=l.credentials||this.credentials||"same-origin",(l.headers||!this.headers)&&(this.headers=new _(l.headers)),this.method=A(l.method||this.method||"GET"),this.mode=l.mode||this.mode||null,this.signal=l.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&b)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(b)}x.prototype.clone=function(){return new x(this,{body:this._bodyInit})};function L(g){var l=new FormData;return g.trim().split("&").forEach(function(b){if(b){var $=b.split("="),B=$.shift().replace(/\+/g," "),k=$.join("=").replace(/\+/g," ");l.append(decodeURIComponent(B),decodeURIComponent(k))}}),l}function v(g){var l=new _,b=g.replace(/\r?\n[\t ]+/g," ");return b.split(/\r?\n/).forEach(function($){var B=$.split(":"),k=B.shift().trim();if(k){var P=B.join(":").trim();l.append(k,P)}}),l}C.call(x.prototype);function I(g,l){l||(l={}),this.type="default",this.status=l.status===void 0?200:l.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in l?l.statusText:"OK",this.headers=new _(l.headers),this.url=l.url||"",this._initBody(g)}C.call(I.prototype),I.prototype.clone=function(){return new I(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new _(this.headers),url:this.url})},I.error=function(){var g=new I(null,{status:0,statusText:""});return g.type="error",g};var R=[301,302,303,307,308];I.redirect=function(g,l){if(R.indexOf(l)===-1)throw new RangeError("Invalid status code");return new I(null,{status:l,headers:{location:g}})},o.DOMException=s.DOMException;try{new o.DOMException}catch{o.DOMException=function(l,b){this.message=l,this.name=b;var $=Error(l);this.stack=$.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function O(g,l){return new Promise(function(b,$){var B=new x(g,l);if(B.signal&&B.signal.aborted)return $(new o.DOMException("Aborted","AbortError"));var k=new XMLHttpRequest;function P(){k.abort()}k.onload=function(){var D={status:k.status,statusText:k.statusText,headers:v(k.getAllResponseHeaders()||"")};D.url="responseURL"in k?k.responseURL:D.headers.get("X-Request-URL");var M="response"in k?k.response:k.responseText;b(new I(M,D))},k.onerror=function(){$(new TypeError("Network request failed"))},k.ontimeout=function(){$(new TypeError("Network request failed"))},k.onabort=function(){$(new o.DOMException("Aborted","AbortError"))},k.open(B.method,B.url,!0),B.credentials==="include"?k.withCredentials=!0:B.credentials==="omit"&&(k.withCredentials=!1),"responseType"in k&&a.blob&&(k.responseType="blob"),B.headers.forEach(function(D,M){k.setRequestHeader(M,D)}),B.signal&&(B.signal.addEventListener("abort",P),k.onreadystatechange=function(){k.readyState===4&&B.signal.removeEventListener("abort",P)}),k.send(typeof B._bodyInit>"u"?null:B._bodyInit)})}return O.polyfill=!0,s.fetch||(s.fetch=O,s.Headers=_,s.Request=x,s.Response=I),o.Headers=_,o.Request=x,o.Response=I,o.fetch=O,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;t=i.fetch,t.default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t})(browserPonyfill$1,browserPonyfill$1.exports);dist$1.rustEnum([dist$1.struct([],"uninitialized"),dist$1.struct([dist$1.option(dist$1.publicKey(),"authorityAddress")],"buffer"),dist$1.struct([dist$1.publicKey("programdataAddress")],"program"),dist$1.struct([dist$1.u64("slot"),dist$1.option(dist$1.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,dist$1.u32());dist$1.struct([dist$1.publicKey("authority"),dist$1.vecU8("data")]);function uint64(e){return new WrappedLayout(blob(8),t=>u64.fromBuffer(t),t=>t.toBuffer(),e)}function publicKey(e){return new WrappedLayout(blob(32),t=>new PublicKey$1(t),t=>t.toBuffer(),e)}function coption(e,t){return new COptionLayout(e,t)}class WrappedLayout extends Layout_2{constructor(t,n,r,i){super(t.span,i),this.layout=t,this.decoder=n,this.encoder=r}decode(t,n){return this.decoder(this.layout.decode(t,n))}encode(t,n,r){return this.layout.encode(this.encoder(t),n,r)}getSpan(t,n){return this.layout.getSpan(t,n)}}class COptionLayout extends Layout_2{constructor(t,n){super(-1,n),this.layout=t,this.discriminator=u32$1()}encode(t,n,r=0){return t==null?this.layout.span+this.discriminator.encode(0,n,r):(this.discriminator.encode(1,n,r),this.layout.encode(t,n,r+4)+4)}decode(t,n=0){const r=this.discriminator.decode(t,n);if(r===0)return null;if(r===1)return this.layout.decode(t,n+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(t,n=0){return this.layout.getSpan(t,n+4)+4}}class u64 extends BN{toBuffer(){const t=super.toArray().reverse(),n=buffer.Buffer.from(t);if(n.length===8)return n;if(n.length>=8)throw new Error("u64 too large");const r=buffer.Buffer.alloc(8);return n.copy(r),r}static fromBuffer(t){if(t.length!==8)throw new Error(`Invalid buffer length: ${t.length}`);return new u64([...t].reverse().map(n=>`00${n.toString(16)}`.slice(-2)).join(""),16)}}struct([publicKey("mint"),publicKey("owner"),uint64("amount"),coption(publicKey(),"delegate"),(e=>{const t=union(u8("discriminator"),null,e);return t.addVariant(0,struct([]),"uninitialized"),t.addVariant(1,struct([]),"initialized"),t.addVariant(2,struct([]),"frozen"),t})("state"),coption(uint64(),"isNative"),uint64("delegatedAmount"),coption(publicKey(),"closeAuthority")]);SYSVAR_RENT_PUBKEY,SystemProgram.programId,SYSVAR_CLOCK_PUBKEY;new PublicKey$1("11111111111111111111111111111111");const getAccountLink=async e=>{try{const{chainSVMQueryClient:t}=getClients();return t.getAccountLink(e)}catch{}return null},isValidDenomLink=e=>typeof e.dst_addr=="string"&&typeof e.dst_decimals=="number"&&typeof e.src_decimals=="number",getDenomLink=async({srcPlane:e,dstPlane:t,denom:n})=>{const r=`${planeFromJSON(e)}/${planeFromJSON(t)}/${n}`,i=getDenomLinksStore(r);if(isValidDenomLink(i))return i;let s=getNetworkEndpoint(getNetworkStore());try{const o=await axios.get(`${s.lcd}/flux/astromesh/v1beta1/denom_link/${r}`);if(o)return setDenomLinksStore(r,o.data),o.data}catch(o){console.log(o)}return null};var FMT_NUMBER;(function(e){e.NUMBER="NUMBER_NUMBER",e.HEX="NUMBER_HEX",e.STR="NUMBER_STR",e.BIGINT="NUMBER_BIGINT"})(FMT_NUMBER||(FMT_NUMBER={}));var FMT_BYTES;(function(e){e.HEX="BYTES_HEX",e.UINT8ARRAY="BYTES_UINT8ARRAY"})(FMT_BYTES||(FMT_BYTES={}));FMT_NUMBER.BIGINT,FMT_BYTES.HEX;FMT_NUMBER.HEX,FMT_BYTES.HEX;var BlockTags;(function(e){e.EARLIEST="earliest",e.LATEST="latest",e.PENDING="pending",e.SAFE="safe",e.FINALIZED="finalized",e.COMMITTED="committed"})(BlockTags||(BlockTags={}));var HardforksOrdered;(function(e){e.chainstart="chainstart",e.frontier="frontier",e.homestead="homestead",e.dao="dao",e.tangerineWhistle="tangerineWhistle",e.spuriousDragon="spuriousDragon",e.byzantium="byzantium",e.constantinople="constantinople",e.petersburg="petersburg",e.istanbul="istanbul",e.muirGlacier="muirGlacier",e.berlin="berlin",e.london="london",e.altair="altair",e.arrowGlacier="arrowGlacier",e.grayGlacier="grayGlacier",e.bellatrix="bellatrix",e.merge="merge",e.capella="capella",e.shanghai="shanghai"})(HardforksOrdered||(HardforksOrdered={}));var __awaiter$6=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function u(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};const symbol=Symbol.for("web3/base-provider");class Web3BaseProvider{static isWeb3Provider(t){return t instanceof Web3BaseProvider||!!(t&&t[symbol])}get[symbol](){return!0}send(t,n){this.request(t).then(r=>{n(null,r)}).catch(r=>{n(r)})}sendAsync(t){return __awaiter$6(this,void 0,void 0,function*(){return this.request(t)})}asEIP1193Provider(){const t=Object.create(this),n=t.request;return t.request=function(i){return __awaiter$6(this,void 0,void 0,function*(){return(yield n(i)).result})},t.asEIP1193Provider=void 0,t}}const ERR_RESPONSE=100,ERR_INVALID_RESPONSE=101,ERR_METHOD_NOT_IMPLEMENTED=202,ERR_OPERATION_TIMEOUT=203,ERR_MULTIPLE_ERRORS=208,ERR_CONN=500,ERR_CONN_NOT_OPEN=503,ERR_CONN_MAX_ATTEMPTS=505,ERR_CONN_PENDING_REQUESTS=506,ERR_REQ_ALREADY_SENT=507,ERR_INVALID_CLIENT=602,ERR_WS_PROVIDER=604,JSONRPC_ERR_REJECTED_REQUEST=4001,JSONRPC_ERR_UNAUTHORIZED=4100,JSONRPC_ERR_UNSUPPORTED_METHOD=4200,JSONRPC_ERR_DISCONNECTED=4900,JSONRPC_ERR_CHAIN_DISCONNECTED=4901,ERR_INVALID_BYTES=1002,ERR_INVALID_NUMBER=1003,ERR_INVALID_ADDRESS=1005,ERR_VALIDATION=1100,ERR_SCHEMA_FORMAT=1200,ERR_RPC_INVALID_JSON=-32700,ERR_RPC_INVALID_REQUEST=-32600,ERR_RPC_INVALID_METHOD=-32601,ERR_RPC_INVALID_PARAMS=-32602,ERR_RPC_INTERNAL_ERROR=-32603,ERR_RPC_INVALID_INPUT=-32e3,ERR_RPC_MISSING_RESOURCE=-32001,ERR_RPC_UNAVAILABLE_RESOURCE=-32002,ERR_RPC_TRANSACTION_REJECTED=-32003,ERR_RPC_UNSUPPORTED_METHOD=-32004,ERR_RPC_LIMIT_EXCEEDED=-32005,ERR_RPC_NOT_SUPPORTED=-32006;class BaseWeb3Error extends Error{constructor(t,n){super(t),Array.isArray(n)?this.cause=new MultipleErrors(n):this.cause=n,this.name=this.constructor.name,typeof Error.captureStackTrace=="function"?Error.captureStackTrace(new.target.constructor):this.stack=new Error().stack}get innerError(){return this.cause instanceof MultipleErrors?this.cause.errors:this.cause}set innerError(t){Array.isArray(t)?this.cause=new MultipleErrors(t):this.cause=t}static convertToString(t,n=!1){if(t==null)return"undefined";const r=JSON.stringify(t,(i,s)=>typeof s=="bigint"?s.toString():s);return n&&["bigint","string"].includes(typeof t)?r.replace(/['\\"]+/g,""):r}toJSON(){return{name:this.name,code:this.code,message:this.message,cause:this.cause,innerError:this.cause}}}class MultipleErrors extends BaseWeb3Error{constructor(t){super(`Multiple errors occurred: [${t.map(n=>n.message).join("], [")}]`),this.code=ERR_MULTIPLE_ERRORS,this.errors=t}}class InvalidValueError extends BaseWeb3Error{constructor(t,n){super(`Invalid value given "${BaseWeb3Error.convertToString(t,!0)}". Error: ${n}.`),this.name=this.constructor.name}}class ConnectionError extends BaseWeb3Error{constructor(t,n){super(t),this.code=ERR_CONN,n&&(this.errorCode=n.code,this.errorReason=n.reason)}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{errorCode:this.errorCode,errorReason:this.errorReason})}}class ConnectionNotOpenError extends ConnectionError{constructor(t){super("Connection not open",t),this.code=ERR_CONN_NOT_OPEN}}class MaxAttemptsReachedOnReconnectingError extends ConnectionError{constructor(t){super(`Maximum number of reconnect attempts reached! (${t})`),this.code=ERR_CONN_MAX_ATTEMPTS}}class PendingRequestsOnReconnectingError extends ConnectionError{constructor(){super("CONNECTION ERROR: Provider started to reconnect before the response got received!"),this.code=ERR_CONN_PENDING_REQUESTS}}class RequestAlreadySentError extends ConnectionError{constructor(t){super(`Request already sent with following id: ${t}`),this.code=ERR_REQ_ALREADY_SENT}}class MethodNotImplementedError extends BaseWeb3Error{constructor(){super("The method you're trying to call is not implemented."),this.code=ERR_METHOD_NOT_IMPLEMENTED}}class OperationTimeoutError extends BaseWeb3Error{constructor(){super(...arguments),this.code=ERR_OPERATION_TIMEOUT}}class InvalidClientError extends BaseWeb3Error{constructor(t){super(`Client URL "${t}" is invalid.`),this.code=ERR_INVALID_CLIENT}}class Web3WSProviderError extends BaseWeb3Error{constructor(){super(...arguments),this.code=ERR_WS_PROVIDER}}class InvalidBytesError extends InvalidValueError{constructor(t){super(t,"can not parse as byte data"),this.code=ERR_INVALID_BYTES}}class InvalidNumberError extends InvalidValueError{constructor(t){super(t,"can not parse as number data"),this.code=ERR_INVALID_NUMBER}}class InvalidAddressError extends InvalidValueError{constructor(t){super(t,"invalid ethereum address"),this.code=ERR_INVALID_ADDRESS}}const isResponseWithError$1=e=>!Array.isArray(e)&&e.jsonrpc==="2.0"&&!!e&&(e.result===void 0||e.result===null)&&"error"in e&&(typeof e.id=="number"||typeof e.id=="string"),buildErrorMessage=e=>isResponseWithError$1(e)?e.error.message:"";class ResponseError extends BaseWeb3Error{constructor(t,n,r,i){var s;super(n??`Returned error: ${Array.isArray(t)?t.map(a=>buildErrorMessage(a)).join(","):buildErrorMessage(t)}`),this.code=ERR_RESPONSE,n||(this.data=Array.isArray(t)?t.map(a=>{var u;return(u=a.error)===null||u===void 0?void 0:u.data}):(s=t==null?void 0:t.error)===null||s===void 0?void 0:s.data),this.statusCode=i,this.request=r;let o;"error"in t?o=t.error:t instanceof Array&&(o=t.filter(a=>a.error).map(a=>a.error)),Array.isArray(o)&&o.length>0?this.cause=new MultipleErrors(o):this.cause=o}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{data:this.data,request:this.request,statusCode:this.statusCode})}}class InvalidResponseError extends ResponseError{constructor(t,n){super(t,void 0,n),this.code=ERR_INVALID_RESPONSE;let r;"error"in t?r=t.error:t instanceof Array&&(r=t.map(i=>i.error)),Array.isArray(r)?this.cause=new MultipleErrors(r):this.cause=r}}const genericRpcErrorMessageTemplate="An Rpc error has occured with a code of *code*",RpcErrorMessages={[ERR_RPC_INVALID_JSON]:{message:"Parse error",description:"Invalid JSON"},[ERR_RPC_INVALID_REQUEST]:{message:"Invalid request",description:"JSON is not a valid request object	"},[ERR_RPC_INVALID_METHOD]:{message:"Method not found",description:"Method does not exist	"},[ERR_RPC_INVALID_PARAMS]:{message:"Invalid params",description:"Invalid method parameters"},[ERR_RPC_INTERNAL_ERROR]:{message:"Internal error",description:"Internal JSON-RPC error"},[ERR_RPC_INVALID_INPUT]:{message:"Invalid input",description:"Missing or invalid parameters"},[ERR_RPC_MISSING_RESOURCE]:{message:"Resource not found",description:"Requested resource not found"},[ERR_RPC_UNAVAILABLE_RESOURCE]:{message:"Resource unavailable",description:"Requested resource not available"},[ERR_RPC_TRANSACTION_REJECTED]:{message:"Transaction rejected",description:"Transaction creation failed"},[ERR_RPC_UNSUPPORTED_METHOD]:{message:"Method not supported",description:"Method is not implemented"},[ERR_RPC_LIMIT_EXCEEDED]:{message:"Limit exceeded",description:"Request exceeds defined limit"},[ERR_RPC_NOT_SUPPORTED]:{message:"JSON-RPC version not supported",description:"Version of JSON-RPC protocol is not supported"},[JSONRPC_ERR_REJECTED_REQUEST]:{name:"User Rejected Request",message:"The user rejected the request."},[JSONRPC_ERR_UNAUTHORIZED]:{name:"Unauthorized",message:"The requested method and/or account has not been authorized by the user."},[JSONRPC_ERR_UNSUPPORTED_METHOD]:{name:"Unsupported Method",message:"The Provider does not support the requested method."},[JSONRPC_ERR_DISCONNECTED]:{name:"Disconnected",message:"The Provider is disconnected from all chains."},[JSONRPC_ERR_CHAIN_DISCONNECTED]:{name:"Chain Disconnected",message:"The Provider is not connected to the requested chain."},"0-999":{name:"",message:"Not used."},1e3:{name:"Normal Closure",message:"The connection successfully completed the purpose for which it was created."},1001:{name:"Going Away",message:"The endpoint is going away, either because of a server failure or because the browser is navigating away from the page that opened the connection."},1002:{name:"Protocol error",message:"The endpoint is terminating the connection due to a protocol error."},1003:{name:"Unsupported Data",message:"The connection is being terminated because the endpoint received data of a type it cannot accept. (For example, a text-only endpoint received binary data.)"},1004:{name:"Reserved",message:"Reserved. A meaning might be defined in the future."},1005:{name:"No Status Rcvd",message:"Reserved. Indicates that no status code was provided even though one was expected."},1006:{name:"Abnormal Closure",message:"Reserved. Indicates that a connection was closed abnormally (that is, with no close frame being sent) when a status code is expected."},1007:{name:"Invalid frame payload data",message:"The endpoint is terminating the connection because a message was received that contained inconsistent data (e.g., non-UTF-8 data within a text message)."},1008:{name:"Policy Violation",message:"The endpoint is terminating the connection because it received a message that violates its policy. This is a generic status code, used when codes 1003 and 1009 are not suitable."},1009:{name:"Message Too Big",message:"The endpoint is terminating the connection because a data frame was received that is too large."},1010:{name:"Mandatory Ext.",message:"The client is terminating the connection because it expected the server to negotiate one or more extension, but the server didn't."},1011:{name:"Internal Error",message:"The server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request."},1012:{name:"Service Restart",message:"The server is terminating the connection because it is restarting."},1013:{name:"Try Again Later",message:"The server is terminating the connection due to a temporary condition, e.g. it is overloaded and is casting off some of its clients."},1014:{name:"Bad Gateway",message:"The server was acting as a gateway or proxy and received an invalid response from the upstream server. This is similar to 502 HTTP Status Code."},1015:{name:"TLS handshake",message:"Reserved. Indicates that the connection was closed due to a failure to perform a TLS handshake (e.g., the server certificate can't be verified)."},"1016-2999":{name:"",message:"For definition by future revisions of the WebSocket Protocol specification, and for definition by extension specifications."},"3000-3999":{name:"",message:"For use by libraries, frameworks, and applications. These status codes are registered directly with IANA. The interpretation of these codes is undefined by the WebSocket protocol."},"4000-4999":{name:"",message:"For private use, and thus can't be registered. Such codes can be used by prior agreements between WebSocket applications. The interpretation of these codes is undefined by the WebSocket protocol."}};class RpcError extends BaseWeb3Error{constructor(t,n){super(n??genericRpcErrorMessageTemplate.replace("*code*",t.error.code.toString())),this.code=t.error.code,this.id=t.id,this.jsonrpc=t.jsonrpc,this.jsonRpcError=t.error}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{error:this.jsonRpcError,id:this.id,jsonRpc:this.jsonrpc})}}class EIP1193ProviderRpcError extends BaseWeb3Error{constructor(t,n){var r,i,s,o;if(!t)super();else if(!((r=RpcErrorMessages[t])===null||r===void 0)&&r.message)super(RpcErrorMessages[t].message);else{const a=Object.keys(RpcErrorMessages).find(u=>typeof u=="string"&&t>=parseInt(u.split("-")[0],10)&&t<=parseInt(u.split("-")[1],10));super((s=(i=RpcErrorMessages[a??""])===null||i===void 0?void 0:i.message)!==null&&s!==void 0?s:genericRpcErrorMessageTemplate.replace("*code*",(o=t==null?void 0:t.toString())!==null&&o!==void 0?o:'""'))}this.code=t,this.data=n}}class ParseError extends RpcError{constructor(t){super(t,RpcErrorMessages[ERR_RPC_INVALID_JSON].message),this.code=ERR_RPC_INVALID_JSON}}class InvalidRequestError extends RpcError{constructor(t){super(t,RpcErrorMessages[ERR_RPC_INVALID_REQUEST].message),this.code=ERR_RPC_INVALID_REQUEST}}class MethodNotFoundError extends RpcError{constructor(t){super(t,RpcErrorMessages[ERR_RPC_INVALID_METHOD].message),this.code=ERR_RPC_INVALID_METHOD}}class InvalidParamsError extends RpcError{constructor(t){super(t,RpcErrorMessages[ERR_RPC_INVALID_PARAMS].message),this.code=ERR_RPC_INVALID_PARAMS}}class InternalError extends RpcError{constructor(t){super(t,RpcErrorMessages[ERR_RPC_INTERNAL_ERROR].message),this.code=ERR_RPC_INTERNAL_ERROR}}class InvalidInputError extends RpcError{constructor(t){super(t,RpcErrorMessages[ERR_RPC_INVALID_INPUT].message),this.code=ERR_RPC_INVALID_INPUT}}class MethodNotSupported extends RpcError{constructor(t){super(t,RpcErrorMessages[ERR_RPC_UNSUPPORTED_METHOD].message),this.code=ERR_RPC_UNSUPPORTED_METHOD}}class ResourceUnavailableError extends RpcError{constructor(t){super(t,RpcErrorMessages[ERR_RPC_UNAVAILABLE_RESOURCE].message),this.code=ERR_RPC_UNAVAILABLE_RESOURCE}}class ResourcesNotFoundError extends RpcError{constructor(t){super(t,RpcErrorMessages[ERR_RPC_MISSING_RESOURCE].message),this.code=ERR_RPC_MISSING_RESOURCE}}class VersionNotSupportedError extends RpcError{constructor(t){super(t,RpcErrorMessages[ERR_RPC_NOT_SUPPORTED].message),this.code=ERR_RPC_NOT_SUPPORTED}}class TransactionRejectedError extends RpcError{constructor(t){super(t,RpcErrorMessages[ERR_RPC_TRANSACTION_REJECTED].message),this.code=ERR_RPC_TRANSACTION_REJECTED}}class LimitExceededError extends RpcError{constructor(t){super(t,RpcErrorMessages[ERR_RPC_LIMIT_EXCEEDED].message),this.code=ERR_RPC_LIMIT_EXCEEDED}}const rpcErrorsMap=new Map;rpcErrorsMap.set(ERR_RPC_INVALID_JSON,{error:ParseError});rpcErrorsMap.set(ERR_RPC_INVALID_REQUEST,{error:InvalidRequestError});rpcErrorsMap.set(ERR_RPC_INVALID_METHOD,{error:MethodNotFoundError});rpcErrorsMap.set(ERR_RPC_INVALID_PARAMS,{error:InvalidParamsError});rpcErrorsMap.set(ERR_RPC_INTERNAL_ERROR,{error:InternalError});rpcErrorsMap.set(ERR_RPC_INVALID_INPUT,{error:InvalidInputError});rpcErrorsMap.set(ERR_RPC_UNSUPPORTED_METHOD,{error:MethodNotSupported});rpcErrorsMap.set(ERR_RPC_UNAVAILABLE_RESOURCE,{error:ResourceUnavailableError});rpcErrorsMap.set(ERR_RPC_TRANSACTION_REJECTED,{error:TransactionRejectedError});rpcErrorsMap.set(ERR_RPC_MISSING_RESOURCE,{error:ResourcesNotFoundError});rpcErrorsMap.set(ERR_RPC_NOT_SUPPORTED,{error:VersionNotSupportedError});rpcErrorsMap.set(ERR_RPC_LIMIT_EXCEEDED,{error:LimitExceededError});class SchemaFormatError extends BaseWeb3Error{constructor(t){super(`Format for the type ${t} is unsupported`),this.type=t,this.code=ERR_SCHEMA_FORMAT}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{type:this.type})}}function number(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function bool(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}function isBytes$2(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function bytes(e,...t){if(!isBytes$2(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function hash(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number(e.outputLen),number(e.blockLen)}function exists(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function output(e,t){bytes(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const assert={number,bool,bytes,hash,exists,output},U32_MASK64=BigInt(2**32-1),_32n=BigInt(32);function fromBig(e,t=!1){return t?{h:Number(e&U32_MASK64),l:Number(e>>_32n&U32_MASK64)}:{h:Number(e>>_32n&U32_MASK64)|0,l:Number(e&U32_MASK64)|0}}function split(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=fromBig(e[i],t);[n[i],r[i]]=[s,o]}return[n,r]}const rotlSH=(e,t,n)=>e<<n|t>>>32-n,rotlSL=(e,t,n)=>t<<n|e>>>32-n,rotlBH=(e,t,n)=>t<<n-32|e>>>64-n,rotlBL=(e,t,n)=>e<<n-32|t>>>64-n,crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),rotr=(e,t)=>e<<32-t|e>>>t,isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,byteSwap=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255;function byteSwap32(e){for(let t=0;t<e.length;t++)e[t]=byteSwap(e[t])}function utf8ToBytes$3(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function toBytes$1(e){return typeof e=="string"&&(e=utf8ToBytes$3(e)),bytes(e),e}function concatBytes$2(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];bytes(i),t+=i.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const s=e[r];n.set(s,i),i+=s.length}return n}class Hash{clone(){return this._cloneInto()}}function wrapConstructor(e){const t=r=>e().update(toBytes$1(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function randomBytes$1(e=32){if(crypto&&typeof crypto.getRandomValues=="function")return crypto.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}const SHA3_PI=[],SHA3_ROTL=[],_SHA3_IOTA=[],_0n$4=BigInt(0),_1n$5=BigInt(1),_2n$3=BigInt(2),_7n=BigInt(7),_256n=BigInt(256),_0x71n=BigInt(113);for(let e=0,t=_1n$5,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],SHA3_PI.push(2*(5*r+n)),SHA3_ROTL.push((e+1)*(e+2)/2%64);let i=_0n$4;for(let s=0;s<7;s++)t=(t<<_1n$5^(t>>_7n)*_0x71n)%_256n,t&_2n$3&&(i^=_1n$5<<(_1n$5<<BigInt(s))-_1n$5);_SHA3_IOTA.push(i)}const[SHA3_IOTA_H,SHA3_IOTA_L]=split(_SHA3_IOTA,!0),rotlH=(e,t,n)=>n>32?rotlBH(e,t,n):rotlSH(e,t,n),rotlL=(e,t,n)=>n>32?rotlBL(e,t,n):rotlSL(e,t,n);function keccakP(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let o=0;o<10;o++)n[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,u=(o+2)%10,c=n[u],d=n[u+1],f=rotlH(c,d,1)^n[a],m=rotlL(c,d,1)^n[a+1];for(let h=0;h<50;h+=10)e[o+h]^=f,e[o+h+1]^=m}let i=e[2],s=e[3];for(let o=0;o<24;o++){const a=SHA3_ROTL[o],u=rotlH(i,s,a),c=rotlL(i,s,a),d=SHA3_PI[o];i=e[d],s=e[d+1],e[d]=u,e[d+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=e[o+a];for(let a=0;a<10;a++)e[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=SHA3_IOTA_H[r],e[1]^=SHA3_IOTA_L[r]}n.fill(0)}class Keccak extends Hash{constructor(t,n,r,i=!1,s=24){if(super(),this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,number(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=u32(this.state)}keccak(){isLE||byteSwap32(this.state32),keccakP(this.state32,this.rounds),isLE||byteSwap32(this.state32),this.posOut=0,this.pos=0}update(t){exists(this);const{blockLen:n,state:r}=this;t=toBytes$1(t);const i=t.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=t[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:i}=this;t[r]^=n,n&128&&r===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){exists(this,!1),bytes(t),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=t.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);t.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return number(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(output(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return t||(t=new Keccak(n,r,i,o,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=r,t.outputLen=i,t.enableXOF=o,t.destroyed=this.destroyed,t}}const gen=(e,t,n)=>wrapConstructor(()=>new Keccak(t,e,n)),keccak_256=gen(1,136,256/8);function wrapHash(e){return t=>(assert.bytes(t),e(t))}(()=>{const e=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,t=typeof module<"u"&&typeof module.require=="function"&&module.require.bind(module);return{node:t&&!e?t("crypto"):void 0,web:e}})();const keccak256=(()=>{const e=wrapHash(keccak_256);return e.create=keccak_256.create,e})();var util;(function(e){e.assertEqual=i=>i;function t(i){}e.assertIs=t;function n(i){throw new Error}e.assertNever=n,e.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},e.getValidEnumValues=i=>{const s=e.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return e.objectValues(o)},e.objectValues=i=>e.objectKeys(i).map(function(s){return i[s]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},e.find=(i,s)=>{for(const o of i)if(s(o))return o},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}e.joinValues=r,e.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(util||(util={}));var objectUtil;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(objectUtil||(objectUtil={}));const ZodParsedType=util.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=e=>{switch(typeof e){case"undefined":return ZodParsedType.undefined;case"string":return ZodParsedType.string;case"number":return isNaN(e)?ZodParsedType.nan:ZodParsedType.number;case"boolean":return ZodParsedType.boolean;case"function":return ZodParsedType.function;case"bigint":return ZodParsedType.bigint;case"symbol":return ZodParsedType.symbol;case"object":return Array.isArray(e)?ZodParsedType.array:e===null?ZodParsedType.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ZodParsedType.promise:typeof Map<"u"&&e instanceof Map?ZodParsedType.map:typeof Set<"u"&&e instanceof Set?ZodParsedType.set:typeof Date<"u"&&e instanceof Date?ZodParsedType.date:ZodParsedType.object;default:return ZodParsedType.unknown}},ZodIssueCode=util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),quotelessJson=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class ZodError extends Error{constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const n=t||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,u=0;for(;u<o.path.length;){const c=o.path[u];u===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],u++}}};return i(this),r}static assert(t){if(!(t instanceof ZodError))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,util.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}ZodError.create=e=>new ZodError(e);const errorMap=(e,t)=>{let n;switch(e.code){case ZodIssueCode.invalid_type:e.received===ZodParsedType.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case ZodIssueCode.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,util.jsonStringifyReplacer)}`;break;case ZodIssueCode.unrecognized_keys:n=`Unrecognized key(s) in object: ${util.joinValues(e.keys,", ")}`;break;case ZodIssueCode.invalid_union:n="Invalid input";break;case ZodIssueCode.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${util.joinValues(e.options)}`;break;case ZodIssueCode.invalid_enum_value:n=`Invalid enum value. Expected ${util.joinValues(e.options)}, received '${e.received}'`;break;case ZodIssueCode.invalid_arguments:n="Invalid function arguments";break;case ZodIssueCode.invalid_return_type:n="Invalid function return type";break;case ZodIssueCode.invalid_date:n="Invalid date";break;case ZodIssueCode.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:util.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case ZodIssueCode.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case ZodIssueCode.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case ZodIssueCode.custom:n="Invalid input";break;case ZodIssueCode.invalid_intersection_types:n="Intersection results could not be merged";break;case ZodIssueCode.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case ZodIssueCode.not_finite:n="Number must be finite";break;default:n=t.defaultError,util.assertNever(e)}return{message:n}};let overrideErrorMap=errorMap;function setErrorMap(e){overrideErrorMap=e}function getErrorMap(){return overrideErrorMap}const makeIssue=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,s=[...n,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let a="";const u=r.filter(c=>!!c).slice().reverse();for(const c of u)a=c(o,{data:t,defaultError:a}).message;return{...i,path:s,message:a}},EMPTY_PATH=[];function addIssueToContext(e,t){const n=getErrorMap(),r=makeIssue({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===errorMap?void 0:errorMap].filter(i=>!!i)});e.common.issues.push(r)}class ParseStatus{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const i of n){if(i.status==="aborted")return INVALID;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const i of n){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return ParseStatus.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return INVALID;s.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:t.value,value:r}}}const INVALID=Object.freeze({status:"aborted"}),DIRTY=e=>({status:"dirty",value:e}),OK=e=>({status:"valid",value:e}),isAborted=e=>e.status==="aborted",isDirty=e=>e.status==="dirty",isValid$2=e=>e.status==="valid",isAsync=e=>typeof Promise<"u"&&e instanceof Promise;function __classPrivateFieldGet(e,t,n,r){if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function __classPrivateFieldSet(e,t,n,r,i){if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}typeof SuppressedError=="function"&&SuppressedError;var errorUtil;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(errorUtil||(errorUtil={}));var _ZodEnum_cache,_ZodNativeEnum_cache;class ParseInputLazyPath{constructor(t,n,r,i){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const handleResult=(e,t)=>{if(isValid$2(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new ZodError(e.common.issues);return this._error=n,this._error}}};function processCreateParams(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(o,a)=>{var u,c;const{message:d}=e;return o.code==="invalid_enum_value"?{message:d??a.defaultError}:typeof a.data>"u"?{message:(u=d??r)!==null&&u!==void 0?u:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(c=d??n)!==null&&c!==void 0?c:a.defaultError}},description:i}}class ZodType{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return getParsedType(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:getParsedType(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ParseStatus,ctx:{common:t.parent.common,data:t.data,parsedType:getParsedType(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(isAsync(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:getParsedType(t)},s=this._parseSync({data:t,path:i.path,parent:i});return handleResult(i,s)}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:getParsedType(t)},i=this._parse({data:t,path:r.path,parent:r}),s=await(isAsync(i)?i:Promise.resolve(i));return handleResult(r,s)}refine(t,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=t(i),a=()=>s.addIssue({code:ZodIssueCode.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(t,n){return this._refinement((r,i)=>t(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(t){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this,this._def)}promise(){return ZodPromise.create(this,this._def)}or(t){return ZodUnion.create([this,t],this._def)}and(t){return ZodIntersection.create(this,t,this._def)}transform(t){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:n,typeName:ZodFirstPartyTypeKind.ZodDefault})}brand(){return new ZodBranded({typeName:ZodFirstPartyTypeKind.ZodBranded,type:this,...processCreateParams(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:n,typeName:ZodFirstPartyTypeKind.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return ZodPipeline.create(this,t)}readonly(){return ZodReadonly.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cuidRegex=/^c[^\s-]{8,}$/i,cuid2Regex=/^[0-9a-z]+$/,ulidRegex=/^[0-9A-HJKMNP-TV-Z]{26}$/,uuidRegex=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,nanoidRegex=/^[a-z0-9_-]{21}$/i,durationRegex=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,emailRegex=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_emojiRegex="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let emojiRegex;const ipv4Regex=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv6Regex=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,base64Regex=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,dateRegexSource="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dateRegex=new RegExp(`^${dateRegexSource}$`);function timeRegexSource(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function timeRegex(e){return new RegExp(`^${timeRegexSource(e)}$`)}function datetimeRegex(e){let t=`${dateRegexSource}T${timeRegexSource(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function isValidIP(e,t){return!!((t==="v4"||!t)&&ipv4Regex.test(e)||(t==="v6"||!t)&&ipv6Regex.test(e))}class ZodString extends ZodType{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ZodParsedType.string){const s=this._getOrReturnCtx(t);return addIssueToContext(s,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.string,received:s.parsedType}),INVALID}const r=new ParseStatus;let i;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(i=this._getOrReturnCtx(t,i),addIssueToContext(i,{code:ZodIssueCode.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")t.data.length>s.value&&(i=this._getOrReturnCtx(t,i),addIssueToContext(i,{code:ZodIssueCode.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=t.data.length>s.value,a=t.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(t,i),o?addIssueToContext(i,{code:ZodIssueCode.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&addIssueToContext(i,{code:ZodIssueCode.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")emailRegex.test(t.data)||(i=this._getOrReturnCtx(t,i),addIssueToContext(i,{validation:"email",code:ZodIssueCode.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")emojiRegex||(emojiRegex=new RegExp(_emojiRegex,"u")),emojiRegex.test(t.data)||(i=this._getOrReturnCtx(t,i),addIssueToContext(i,{validation:"emoji",code:ZodIssueCode.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")uuidRegex.test(t.data)||(i=this._getOrReturnCtx(t,i),addIssueToContext(i,{validation:"uuid",code:ZodIssueCode.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")nanoidRegex.test(t.data)||(i=this._getOrReturnCtx(t,i),addIssueToContext(i,{validation:"nanoid",code:ZodIssueCode.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")cuidRegex.test(t.data)||(i=this._getOrReturnCtx(t,i),addIssueToContext(i,{validation:"cuid",code:ZodIssueCode.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")cuid2Regex.test(t.data)||(i=this._getOrReturnCtx(t,i),addIssueToContext(i,{validation:"cuid2",code:ZodIssueCode.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")ulidRegex.test(t.data)||(i=this._getOrReturnCtx(t,i),addIssueToContext(i,{validation:"ulid",code:ZodIssueCode.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),addIssueToContext(i,{validation:"url",code:ZodIssueCode.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),addIssueToContext(i,{validation:"regex",code:ZodIssueCode.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(t,i),addIssueToContext(i,{code:ZodIssueCode.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(i=this._getOrReturnCtx(t,i),addIssueToContext(i,{code:ZodIssueCode.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(i=this._getOrReturnCtx(t,i),addIssueToContext(i,{code:ZodIssueCode.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?datetimeRegex(s).test(t.data)||(i=this._getOrReturnCtx(t,i),addIssueToContext(i,{code:ZodIssueCode.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?dateRegex.test(t.data)||(i=this._getOrReturnCtx(t,i),addIssueToContext(i,{code:ZodIssueCode.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?timeRegex(s).test(t.data)||(i=this._getOrReturnCtx(t,i),addIssueToContext(i,{code:ZodIssueCode.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?durationRegex.test(t.data)||(i=this._getOrReturnCtx(t,i),addIssueToContext(i,{validation:"duration",code:ZodIssueCode.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?isValidIP(t.data,s.version)||(i=this._getOrReturnCtx(t,i),addIssueToContext(i,{validation:"ip",code:ZodIssueCode.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?base64Regex.test(t.data)||(i=this._getOrReturnCtx(t,i),addIssueToContext(i,{validation:"base64",code:ZodIssueCode.invalid_string,message:s.message}),r.dirty()):util.assertNever(s);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(i=>t.test(i),{validation:n,code:ZodIssueCode.invalid_string,...errorUtil.errToObj(r)})}_addCheck(t){return new ZodString({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...errorUtil.errToObj(t)})}url(t){return this._addCheck({kind:"url",...errorUtil.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...errorUtil.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...errorUtil.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...errorUtil.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...errorUtil.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...errorUtil.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...errorUtil.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...errorUtil.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...errorUtil.errToObj(t)})}datetime(t){var n,r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(r=t==null?void 0:t.local)!==null&&r!==void 0?r:!1,...errorUtil.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...errorUtil.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...errorUtil.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...errorUtil.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...errorUtil.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...errorUtil.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...errorUtil.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...errorUtil.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...errorUtil.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...errorUtil.errToObj(n)})}nonempty(t){return this.min(1,errorUtil.errToObj(t))}trim(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}ZodString.create=e=>{var t;return new ZodString({checks:[],typeName:ZodFirstPartyTypeKind.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...processCreateParams(e)})};function floatSafeRemainder(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(e.toFixed(i).replace(".","")),o=parseInt(t.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ZodParsedType.number){const s=this._getOrReturnCtx(t);return addIssueToContext(s,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.number,received:s.parsedType}),INVALID}let r;const i=new ParseStatus;for(const s of this._def.checks)s.kind==="int"?util.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),addIssueToContext(r,{code:ZodIssueCode.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(r=this._getOrReturnCtx(t,r),addIssueToContext(r,{code:ZodIssueCode.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(r=this._getOrReturnCtx(t,r),addIssueToContext(r,{code:ZodIssueCode.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?floatSafeRemainder(t.data,s.value)!==0&&(r=this._getOrReturnCtx(t,r),addIssueToContext(r,{code:ZodIssueCode.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),addIssueToContext(r,{code:ZodIssueCode.not_finite,message:s.message}),i.dirty()):util.assertNever(s);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,errorUtil.toString(n))}gt(t,n){return this.setLimit("min",t,!1,errorUtil.toString(n))}lte(t,n){return this.setLimit("max",t,!0,errorUtil.toString(n))}lt(t,n){return this.setLimit("max",t,!1,errorUtil.toString(n))}setLimit(t,n,r,i){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:errorUtil.toString(i)}]})}_addCheck(t){return new ZodNumber({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:errorUtil.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:errorUtil.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:errorUtil.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:errorUtil.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:errorUtil.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:errorUtil.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:errorUtil.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:errorUtil.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:errorUtil.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&util.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}ZodNumber.create=e=>new ZodNumber({checks:[],typeName:ZodFirstPartyTypeKind.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...processCreateParams(e)});class ZodBigInt extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==ZodParsedType.bigint){const s=this._getOrReturnCtx(t);return addIssueToContext(s,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.bigint,received:s.parsedType}),INVALID}let r;const i=new ParseStatus;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(r=this._getOrReturnCtx(t,r),addIssueToContext(r,{code:ZodIssueCode.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(r=this._getOrReturnCtx(t,r),addIssueToContext(r,{code:ZodIssueCode.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),addIssueToContext(r,{code:ZodIssueCode.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):util.assertNever(s);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,errorUtil.toString(n))}gt(t,n){return this.setLimit("min",t,!1,errorUtil.toString(n))}lte(t,n){return this.setLimit("max",t,!0,errorUtil.toString(n))}lt(t,n){return this.setLimit("max",t,!1,errorUtil.toString(n))}setLimit(t,n,r,i){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:errorUtil.toString(i)}]})}_addCheck(t){return new ZodBigInt({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:errorUtil.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:errorUtil.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:errorUtil.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:errorUtil.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:errorUtil.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}ZodBigInt.create=e=>{var t;return new ZodBigInt({checks:[],typeName:ZodFirstPartyTypeKind.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...processCreateParams(e)})};class ZodBoolean extends ZodType{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ZodParsedType.boolean){const r=this._getOrReturnCtx(t);return addIssueToContext(r,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.boolean,received:r.parsedType}),INVALID}return OK(t.data)}}ZodBoolean.create=e=>new ZodBoolean({typeName:ZodFirstPartyTypeKind.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...processCreateParams(e)});class ZodDate extends ZodType{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ZodParsedType.date){const s=this._getOrReturnCtx(t);return addIssueToContext(s,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.date,received:s.parsedType}),INVALID}if(isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return addIssueToContext(s,{code:ZodIssueCode.invalid_date}),INVALID}const r=new ParseStatus;let i;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(i=this._getOrReturnCtx(t,i),addIssueToContext(i,{code:ZodIssueCode.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(i=this._getOrReturnCtx(t,i),addIssueToContext(i,{code:ZodIssueCode.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):util.assertNever(s);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new ZodDate({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:errorUtil.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:errorUtil.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}ZodDate.create=e=>new ZodDate({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:ZodFirstPartyTypeKind.ZodDate,...processCreateParams(e)});class ZodSymbol extends ZodType{_parse(t){if(this._getType(t)!==ZodParsedType.symbol){const r=this._getOrReturnCtx(t);return addIssueToContext(r,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.symbol,received:r.parsedType}),INVALID}return OK(t.data)}}ZodSymbol.create=e=>new ZodSymbol({typeName:ZodFirstPartyTypeKind.ZodSymbol,...processCreateParams(e)});class ZodUndefined extends ZodType{_parse(t){if(this._getType(t)!==ZodParsedType.undefined){const r=this._getOrReturnCtx(t);return addIssueToContext(r,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.undefined,received:r.parsedType}),INVALID}return OK(t.data)}}ZodUndefined.create=e=>new ZodUndefined({typeName:ZodFirstPartyTypeKind.ZodUndefined,...processCreateParams(e)});class ZodNull extends ZodType{_parse(t){if(this._getType(t)!==ZodParsedType.null){const r=this._getOrReturnCtx(t);return addIssueToContext(r,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.null,received:r.parsedType}),INVALID}return OK(t.data)}}ZodNull.create=e=>new ZodNull({typeName:ZodFirstPartyTypeKind.ZodNull,...processCreateParams(e)});class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(t){return OK(t.data)}}ZodAny.create=e=>new ZodAny({typeName:ZodFirstPartyTypeKind.ZodAny,...processCreateParams(e)});class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(t){return OK(t.data)}}ZodUnknown.create=e=>new ZodUnknown({typeName:ZodFirstPartyTypeKind.ZodUnknown,...processCreateParams(e)});class ZodNever extends ZodType{_parse(t){const n=this._getOrReturnCtx(t);return addIssueToContext(n,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.never,received:n.parsedType}),INVALID}}ZodNever.create=e=>new ZodNever({typeName:ZodFirstPartyTypeKind.ZodNever,...processCreateParams(e)});class ZodVoid extends ZodType{_parse(t){if(this._getType(t)!==ZodParsedType.undefined){const r=this._getOrReturnCtx(t);return addIssueToContext(r,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.void,received:r.parsedType}),INVALID}return OK(t.data)}}ZodVoid.create=e=>new ZodVoid({typeName:ZodFirstPartyTypeKind.ZodVoid,...processCreateParams(e)});class ZodArray extends ZodType{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),i=this._def;if(n.parsedType!==ZodParsedType.array)return addIssueToContext(n,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:n.parsedType}),INVALID;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(addIssueToContext(n,{code:o?ZodIssueCode.too_big:ZodIssueCode.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(addIssueToContext(n,{code:ZodIssueCode.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(addIssueToContext(n,{code:ZodIssueCode.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>i.type._parseAsync(new ParseInputLazyPath(n,o,n.path,a)))).then(o=>ParseStatus.mergeArray(r,o));const s=[...n.data].map((o,a)=>i.type._parseSync(new ParseInputLazyPath(n,o,n.path,a)));return ParseStatus.mergeArray(r,s)}get element(){return this._def.type}min(t,n){return new ZodArray({...this._def,minLength:{value:t,message:errorUtil.toString(n)}})}max(t,n){return new ZodArray({...this._def,maxLength:{value:t,message:errorUtil.toString(n)}})}length(t,n){return new ZodArray({...this._def,exactLength:{value:t,message:errorUtil.toString(n)}})}nonempty(t){return this.min(1,t)}}ZodArray.create=(e,t)=>new ZodArray({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ZodFirstPartyTypeKind.ZodArray,...processCreateParams(t)});function deepPartialify(e){if(e instanceof ZodObject){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=ZodOptional.create(deepPartialify(r))}return new ZodObject({...e._def,shape:()=>t})}else return e instanceof ZodArray?new ZodArray({...e._def,type:deepPartialify(e.element)}):e instanceof ZodOptional?ZodOptional.create(deepPartialify(e.unwrap())):e instanceof ZodNullable?ZodNullable.create(deepPartialify(e.unwrap())):e instanceof ZodTuple?ZodTuple.create(e.items.map(t=>deepPartialify(t))):e}class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=util.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==ZodParsedType.object){const c=this._getOrReturnCtx(t);return addIssueToContext(c,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:c.parsedType}),INVALID}const{status:r,ctx:i}=this._processInputParams(t),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof ZodNever&&this._def.unknownKeys==="strip"))for(const c in i.data)o.includes(c)||a.push(c);const u=[];for(const c of o){const d=s[c],f=i.data[c];u.push({key:{status:"valid",value:c},value:d._parse(new ParseInputLazyPath(i,f,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof ZodNever){const c=this._def.unknownKeys;if(c==="passthrough")for(const d of a)u.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(c==="strict")a.length>0&&(addIssueToContext(i,{code:ZodIssueCode.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const d of a){const f=i.data[d];u.push({key:{status:"valid",value:d},value:c._parse(new ParseInputLazyPath(i,f,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const d of u){const f=await d.key,m=await d.value;c.push({key:f,value:m,alwaysSet:d.alwaysSet})}return c}).then(c=>ParseStatus.mergeObjectSync(r,c)):ParseStatus.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(t){return errorUtil.errToObj,new ZodObject({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var i,s,o,a;const u=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=errorUtil.errToObj(t).message)!==null&&a!==void 0?a:u}:{message:u}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(t){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new ZodObject({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ZodFirstPartyTypeKind.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new ZodObject({...this._def,catchall:t})}pick(t){const n={};return util.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new ZodObject({...this._def,shape:()=>n})}omit(t){const n={};return util.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new ZodObject({...this._def,shape:()=>n})}deepPartial(){return deepPartialify(this)}partial(t){const n={};return util.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];t&&!t[r]?n[r]=i:n[r]=i.optional()}),new ZodObject({...this._def,shape:()=>n})}required(t){const n={};return util.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof ZodOptional;)s=s._def.innerType;n[r]=s}}),new ZodObject({...this._def,shape:()=>n})}keyof(){return createZodEnum(util.objectKeys(this.shape))}}ZodObject.create=(e,t)=>new ZodObject({shape:()=>e,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(t)});ZodObject.strictCreate=(e,t)=>new ZodObject({shape:()=>e,unknownKeys:"strict",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(t)});ZodObject.lazycreate=(e,t)=>new ZodObject({shape:e,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(t)});class ZodUnion extends ZodType{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new ZodError(a.ctx.common.issues));return addIssueToContext(n,{code:ZodIssueCode.invalid_union,unionErrors:o}),INVALID}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const u of r){const c={...n,common:{...n.common,issues:[]},parent:null},d=u._parseSync({data:n.data,path:n.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(u=>new ZodError(u));return addIssueToContext(n,{code:ZodIssueCode.invalid_union,unionErrors:a}),INVALID}}get options(){return this._def.options}}ZodUnion.create=(e,t)=>new ZodUnion({options:e,typeName:ZodFirstPartyTypeKind.ZodUnion,...processCreateParams(t)});const getDiscriminator=e=>e instanceof ZodLazy?getDiscriminator(e.schema):e instanceof ZodEffects?getDiscriminator(e.innerType()):e instanceof ZodLiteral?[e.value]:e instanceof ZodEnum?e.options:e instanceof ZodNativeEnum?util.objectValues(e.enum):e instanceof ZodDefault?getDiscriminator(e._def.innerType):e instanceof ZodUndefined?[void 0]:e instanceof ZodNull?[null]:e instanceof ZodOptional?[void 0,...getDiscriminator(e.unwrap())]:e instanceof ZodNullable?[null,...getDiscriminator(e.unwrap())]:e instanceof ZodBranded||e instanceof ZodReadonly?getDiscriminator(e.unwrap()):e instanceof ZodCatch?getDiscriminator(e._def.innerType):[];class ZodDiscriminatedUnion extends ZodType{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==ZodParsedType.object)return addIssueToContext(n,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:n.parsedType}),INVALID;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(addIssueToContext(n,{code:ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const i=new Map;for(const s of n){const o=getDiscriminator(s.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(a)}`);i.set(a,s)}}return new ZodDiscriminatedUnion({typeName:ZodFirstPartyTypeKind.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:i,...processCreateParams(r)})}}function mergeValues(e,t){const n=getParsedType(e),r=getParsedType(t);if(e===t)return{valid:!0,data:e};if(n===ZodParsedType.object&&r===ZodParsedType.object){const i=util.objectKeys(t),s=util.objectKeys(e).filter(a=>i.indexOf(a)!==-1),o={...e,...t};for(const a of s){const u=mergeValues(e[a],t[a]);if(!u.valid)return{valid:!1};o[a]=u.data}return{valid:!0,data:o}}else if(n===ZodParsedType.array&&r===ZodParsedType.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let s=0;s<e.length;s++){const o=e[s],a=t[s],u=mergeValues(o,a);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return n===ZodParsedType.date&&r===ZodParsedType.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class ZodIntersection extends ZodType{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=(s,o)=>{if(isAborted(s)||isAborted(o))return INVALID;const a=mergeValues(s.value,o.value);return a.valid?((isDirty(s)||isDirty(o))&&n.dirty(),{status:n.value,value:a.data}):(addIssueToContext(r,{code:ZodIssueCode.invalid_intersection_types}),INVALID)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}ZodIntersection.create=(e,t,n)=>new ZodIntersection({left:e,right:t,typeName:ZodFirstPartyTypeKind.ZodIntersection,...processCreateParams(n)});class ZodTuple extends ZodType{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==ZodParsedType.array)return addIssueToContext(r,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:r.parsedType}),INVALID;if(r.data.length<this._def.items.length)return addIssueToContext(r,{code:ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),INVALID;!this._def.rest&&r.data.length>this._def.items.length&&(addIssueToContext(r,{code:ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,a)=>{const u=this._def.items[a]||this._def.rest;return u?u._parse(new ParseInputLazyPath(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>ParseStatus.mergeArray(n,o)):ParseStatus.mergeArray(n,s)}get items(){return this._def.items}rest(t){return new ZodTuple({...this._def,rest:t})}}ZodTuple.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:e,typeName:ZodFirstPartyTypeKind.ZodTuple,rest:null,...processCreateParams(t)})};class ZodRecord extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==ZodParsedType.object)return addIssueToContext(r,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:r.parsedType}),INVALID;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in r.data)i.push({key:s._parse(new ParseInputLazyPath(r,a,r.path,a)),value:o._parse(new ParseInputLazyPath(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?ParseStatus.mergeObjectAsync(n,i):ParseStatus.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof ZodType?new ZodRecord({keyType:t,valueType:n,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(r)}):new ZodRecord({keyType:ZodString.create(),valueType:t,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(n)})}}class ZodMap extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==ZodParsedType.map)return addIssueToContext(r,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.map,received:r.parsedType}),INVALID;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,u],c)=>({key:i._parse(new ParseInputLazyPath(r,a,r.path,[c,"key"])),value:s._parse(new ParseInputLazyPath(r,u,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const u of o){const c=await u.key,d=await u.value;if(c.status==="aborted"||d.status==="aborted")return INVALID;(c.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(c.value,d.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const u of o){const c=u.key,d=u.value;if(c.status==="aborted"||d.status==="aborted")return INVALID;(c.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(c.value,d.value)}return{status:n.value,value:a}}}}ZodMap.create=(e,t,n)=>new ZodMap({valueType:t,keyType:e,typeName:ZodFirstPartyTypeKind.ZodMap,...processCreateParams(n)});class ZodSet extends ZodType{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==ZodParsedType.set)return addIssueToContext(r,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.set,received:r.parsedType}),INVALID;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(addIssueToContext(r,{code:ZodIssueCode.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(addIssueToContext(r,{code:ZodIssueCode.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(u){const c=new Set;for(const d of u){if(d.status==="aborted")return INVALID;d.status==="dirty"&&n.dirty(),c.add(d.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((u,c)=>s._parse(new ParseInputLazyPath(r,u,r.path,c)));return r.common.async?Promise.all(a).then(u=>o(u)):o(a)}min(t,n){return new ZodSet({...this._def,minSize:{value:t,message:errorUtil.toString(n)}})}max(t,n){return new ZodSet({...this._def,maxSize:{value:t,message:errorUtil.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}ZodSet.create=(e,t)=>new ZodSet({valueType:e,minSize:null,maxSize:null,typeName:ZodFirstPartyTypeKind.ZodSet,...processCreateParams(t)});class ZodFunction extends ZodType{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==ZodParsedType.function)return addIssueToContext(n,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.function,received:n.parsedType}),INVALID;function r(a,u){return makeIssue({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,getErrorMap(),errorMap].filter(c=>!!c),issueData:{code:ZodIssueCode.invalid_arguments,argumentsError:u}})}function i(a,u){return makeIssue({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,getErrorMap(),errorMap].filter(c=>!!c),issueData:{code:ZodIssueCode.invalid_return_type,returnTypeError:u}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof ZodPromise){const a=this;return OK(async function(...u){const c=new ZodError([]),d=await a._def.args.parseAsync(u,s).catch(h=>{throw c.addIssue(r(u,h)),c}),f=await Reflect.apply(o,this,d);return await a._def.returns._def.type.parseAsync(f,s).catch(h=>{throw c.addIssue(i(f,h)),c})})}else{const a=this;return OK(function(...u){const c=a._def.args.safeParse(u,s);if(!c.success)throw new ZodError([r(u,c.error)]);const d=Reflect.apply(o,this,c.data),f=a._def.returns.safeParse(d,s);if(!f.success)throw new ZodError([i(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new ZodFunction({...this._def,args:ZodTuple.create(t).rest(ZodUnknown.create())})}returns(t){return new ZodFunction({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new ZodFunction({args:t||ZodTuple.create([]).rest(ZodUnknown.create()),returns:n||ZodUnknown.create(),typeName:ZodFirstPartyTypeKind.ZodFunction,...processCreateParams(r)})}}class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}ZodLazy.create=(e,t)=>new ZodLazy({getter:e,typeName:ZodFirstPartyTypeKind.ZodLazy,...processCreateParams(t)});class ZodLiteral extends ZodType{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return addIssueToContext(n,{received:n.data,code:ZodIssueCode.invalid_literal,expected:this._def.value}),INVALID}return{status:"valid",value:t.data}}get value(){return this._def.value}}ZodLiteral.create=(e,t)=>new ZodLiteral({value:e,typeName:ZodFirstPartyTypeKind.ZodLiteral,...processCreateParams(t)});function createZodEnum(e,t){return new ZodEnum({values:e,typeName:ZodFirstPartyTypeKind.ZodEnum,...processCreateParams(t)})}class ZodEnum extends ZodType{constructor(){super(...arguments),_ZodEnum_cache.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return addIssueToContext(n,{expected:util.joinValues(r),received:n.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(__classPrivateFieldGet(this,_ZodEnum_cache)||__classPrivateFieldSet(this,_ZodEnum_cache,new Set(this._def.values)),!__classPrivateFieldGet(this,_ZodEnum_cache).has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return addIssueToContext(n,{received:n.data,code:ZodIssueCode.invalid_enum_value,options:r}),INVALID}return OK(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return ZodEnum.create(t,{...this._def,...n})}exclude(t,n=this._def){return ZodEnum.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}_ZodEnum_cache=new WeakMap;ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{constructor(){super(...arguments),_ZodNativeEnum_cache.set(this,void 0)}_parse(t){const n=util.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==ZodParsedType.string&&r.parsedType!==ZodParsedType.number){const i=util.objectValues(n);return addIssueToContext(r,{expected:util.joinValues(i),received:r.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(__classPrivateFieldGet(this,_ZodNativeEnum_cache)||__classPrivateFieldSet(this,_ZodNativeEnum_cache,new Set(util.getValidEnumValues(this._def.values))),!__classPrivateFieldGet(this,_ZodNativeEnum_cache).has(t.data)){const i=util.objectValues(n);return addIssueToContext(r,{received:r.data,code:ZodIssueCode.invalid_enum_value,options:i}),INVALID}return OK(t.data)}get enum(){return this._def.values}}_ZodNativeEnum_cache=new WeakMap;ZodNativeEnum.create=(e,t)=>new ZodNativeEnum({values:e,typeName:ZodFirstPartyTypeKind.ZodNativeEnum,...processCreateParams(t)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==ZodParsedType.promise&&n.common.async===!1)return addIssueToContext(n,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.promise,received:n.parsedType}),INVALID;const r=n.parsedType===ZodParsedType.promise?n.data:Promise.resolve(n.data);return OK(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}ZodPromise.create=(e,t)=>new ZodPromise({type:e,typeName:ZodFirstPartyTypeKind.ZodPromise,...processCreateParams(t)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ZodFirstPartyTypeKind.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=this._def.effect||null,s={addIssue:o=>{addIssueToContext(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return INVALID;const u=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return u.status==="aborted"?INVALID:u.status==="dirty"||n.value==="dirty"?DIRTY(u.value):u});{if(n.value==="aborted")return INVALID;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?INVALID:a.status==="dirty"||n.value==="dirty"?DIRTY(a.value):a}}if(i.type==="refinement"){const o=a=>{const u=i.refinement(a,s);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?INVALID:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?INVALID:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!isValid$2(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>isValid$2(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:n.value,value:a})):o);util.assertNever(i)}}ZodEffects.create=(e,t,n)=>new ZodEffects({schema:e,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:t,...processCreateParams(n)});ZodEffects.createWithPreprocess=(e,t,n)=>new ZodEffects({schema:t,effect:{type:"preprocess",transform:e},typeName:ZodFirstPartyTypeKind.ZodEffects,...processCreateParams(n)});class ZodOptional extends ZodType{_parse(t){return this._getType(t)===ZodParsedType.undefined?OK(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ZodOptional.create=(e,t)=>new ZodOptional({innerType:e,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams(t)});class ZodNullable extends ZodType{_parse(t){return this._getType(t)===ZodParsedType.null?OK(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ZodNullable.create=(e,t)=>new ZodNullable({innerType:e,typeName:ZodFirstPartyTypeKind.ZodNullable,...processCreateParams(t)});class ZodDefault extends ZodType{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===ZodParsedType.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}ZodDefault.create=(e,t)=>new ZodDefault({innerType:e,typeName:ZodFirstPartyTypeKind.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...processCreateParams(t)});class ZodCatch extends ZodType{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return isAsync(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ZodError(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ZodError(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}ZodCatch.create=(e,t)=>new ZodCatch({innerType:e,typeName:ZodFirstPartyTypeKind.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...processCreateParams(t)});class ZodNaN extends ZodType{_parse(t){if(this._getType(t)!==ZodParsedType.nan){const r=this._getOrReturnCtx(t);return addIssueToContext(r,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.nan,received:r.parsedType}),INVALID}return{status:"valid",value:t.data}}}ZodNaN.create=e=>new ZodNaN({typeName:ZodFirstPartyTypeKind.ZodNaN,...processCreateParams(e)});const BRAND=Symbol("zod_brand");class ZodBranded extends ZodType{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class ZodPipeline extends ZodType{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?INVALID:s.status==="dirty"?(n.dirty(),DIRTY(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?INVALID:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,n){return new ZodPipeline({in:t,out:n,typeName:ZodFirstPartyTypeKind.ZodPipeline})}}class ZodReadonly extends ZodType{_parse(t){const n=this._def.innerType._parse(t),r=i=>(isValid$2(i)&&(i.value=Object.freeze(i.value)),i);return isAsync(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}ZodReadonly.create=(e,t)=>new ZodReadonly({innerType:e,typeName:ZodFirstPartyTypeKind.ZodReadonly,...processCreateParams(t)});function custom(e,t={},n){return e?ZodAny.create().superRefine((r,i)=>{var s,o;if(!e(r)){const a=typeof t=="function"?t(r):typeof t=="string"?{message:t}:t,u=(o=(s=a.fatal)!==null&&s!==void 0?s:n)!==null&&o!==void 0?o:!0,c=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...c,fatal:u})}}):ZodAny.create()}const late={object:ZodObject.lazycreate};var ZodFirstPartyTypeKind;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={}));const instanceOfType=(e,t={message:`Input not instance of ${e.name}`})=>custom(n=>n instanceof e,t),stringType=ZodString.create,numberType=ZodNumber.create,nanType=ZodNaN.create,bigIntType=ZodBigInt.create,booleanType=ZodBoolean.create,dateType=ZodDate.create,symbolType=ZodSymbol.create,undefinedType=ZodUndefined.create,nullType=ZodNull.create,anyType=ZodAny.create,unknownType=ZodUnknown.create,neverType=ZodNever.create,voidType=ZodVoid.create,arrayType=ZodArray.create,objectType=ZodObject.create,strictObjectType=ZodObject.strictCreate,unionType=ZodUnion.create,discriminatedUnionType=ZodDiscriminatedUnion.create,intersectionType=ZodIntersection.create,tupleType=ZodTuple.create,recordType=ZodRecord.create,mapType=ZodMap.create,setType=ZodSet.create,functionType=ZodFunction.create,lazyType=ZodLazy.create,literalType=ZodLiteral.create,enumType=ZodEnum.create,nativeEnumType=ZodNativeEnum.create,promiseType=ZodPromise.create,effectsType=ZodEffects.create,optionalType=ZodOptional.create,nullableType=ZodNullable.create,preprocessType=ZodEffects.createWithPreprocess,pipelineType=ZodPipeline.create,ostring=()=>stringType().optional(),onumber=()=>numberType().optional(),oboolean=()=>booleanType().optional(),coerce={string:e=>ZodString.create({...e,coerce:!0}),number:e=>ZodNumber.create({...e,coerce:!0}),boolean:e=>ZodBoolean.create({...e,coerce:!0}),bigint:e=>ZodBigInt.create({...e,coerce:!0}),date:e=>ZodDate.create({...e,coerce:!0})},NEVER=INVALID;var z=Object.freeze({__proto__:null,defaultErrorMap:errorMap,setErrorMap,getErrorMap,makeIssue,EMPTY_PATH,addIssueToContext,ParseStatus,INVALID,DIRTY,OK,isAborted,isDirty,isValid:isValid$2,isAsync,get util(){return util},get objectUtil(){return objectUtil},ZodParsedType,getParsedType,ZodType,datetimeRegex,ZodString,ZodNumber,ZodBigInt,ZodBoolean,ZodDate,ZodSymbol,ZodUndefined,ZodNull,ZodAny,ZodUnknown,ZodNever,ZodVoid,ZodArray,ZodObject,ZodUnion,ZodDiscriminatedUnion,ZodIntersection,ZodTuple,ZodRecord,ZodMap,ZodSet,ZodFunction,ZodLazy,ZodLiteral,ZodEnum,ZodNativeEnum,ZodPromise,ZodEffects,ZodTransformer:ZodEffects,ZodOptional,ZodNullable,ZodDefault,ZodCatch,ZodNaN,BRAND,ZodBranded,ZodPipeline,ZodReadonly,custom,Schema:ZodType,ZodSchema:ZodType,late,get ZodFirstPartyTypeKind(){return ZodFirstPartyTypeKind},coerce,any:anyType,array:arrayType,bigint:bigIntType,boolean:booleanType,date:dateType,discriminatedUnion:discriminatedUnionType,effect:effectsType,enum:enumType,function:functionType,instanceof:instanceOfType,intersection:intersectionType,lazy:lazyType,literal:literalType,map:mapType,nan:nanType,nativeEnum:nativeEnumType,never:neverType,null:nullType,nullable:nullableType,number:numberType,object:objectType,oboolean,onumber,optional:optionalType,ostring,pipeline:pipelineType,preprocess:preprocessType,promise:promiseType,record:recordType,set:setType,strictObject:strictObjectType,string:stringType,symbol:symbolType,transformer:effectsType,tuple:tupleType,undefined:undefinedType,union:unionType,unknown:unknownType,void:voidType,NEVER,ZodIssueCode,quotelessJson,ZodError});const errorFormatter=e=>e.message?e.message:"unspecified error";class Web3ValidatorError extends BaseWeb3Error{constructor(t){super(),this.code=ERR_VALIDATION,this.errors=t,super.message=`Web3 validator found ${t.length} error[s]:
${this._compileErrors().join(`
`)}`}_compileErrors(){return this.errors.map(errorFormatter)}}const VALID_ETH_BASE_TYPES=["bool","int","uint","bytes","string","address","tuple"],isAbiParameterSchema=e=>typeof e=="object"&&"type"in e&&"name"in e,isString=e=>typeof e=="string",isHexStrict=e=>typeof e=="string"&&/^((-)?0x[0-9a-f]+|(0x))$/i.test(e),extraTypes=["hex","number","blockNumber","blockNumberOrTag","filter","bloom"],parseBaseType=e=>{let t=e.replace(/ /,""),n,r=!1,i=[];if(e.includes("[")&&(t=t.slice(0,t.indexOf("[")),i=[...e.matchAll(/(?:\[(\d*)\])/g)].map(s=>parseInt(s[1],10)).map(s=>Number.isNaN(s)?-1:s),r=i.length>0),VALID_ETH_BASE_TYPES.includes(t))return{baseType:t,isArray:r,baseTypeSize:n,arraySizes:i};if(t.startsWith("int"))n=parseInt(t.substring(3),10),t="int";else if(t.startsWith("uint"))n=parseInt(e.substring(4),10),t="uint";else if(t.startsWith("bytes"))n=parseInt(t.substring(5),10),t="bytes";else return{baseType:void 0,isArray:!1,baseTypeSize:void 0,arraySizes:i};return{baseType:t,isArray:r,baseTypeSize:n,arraySizes:i}},convertEthType=(e,t={})=>{if(Object.keys(t).includes("type"))throw new Web3ValidatorError([{keyword:"eth",message:'Either "eth" or "type" can be presented in schema',params:{eth:e},instancePath:"",schemaPath:""}]);const{baseType:r,baseTypeSize:i}=parseBaseType(e);if(!r&&!extraTypes.includes(e))throw new Web3ValidatorError([{keyword:"eth",message:`Eth data type "${e}" is not valid`,params:{eth:e},instancePath:"",schemaPath:""}]);if(r){if(r==="tuple")throw new Error('"tuple" type is not implemented directly.');return{format:`${r}${i??""}`,required:!0}}return e?{format:e,required:!0}:{}},abiSchemaToJsonSchema=(e,t="/0")=>{const n={type:"array",items:[],maxItems:e.length,minItems:e.length};for(const[r,i]of e.entries()){let s,o,a=[];isAbiParameterSchema(i)?(s=i.type,o=i.name||`${t}/${r}`,a=i.components):typeof i=="string"?(s=i,o=`${t}/${r}`):Array.isArray(i)&&(i[0]&&typeof i[0]=="string"&&i[0].startsWith("tuple")&&!Array.isArray(i[0])&&i[1]&&Array.isArray(i[1])?(s=i[0],o=`${t}/${r}`,a=i[1]):(s="tuple",o=`${t}/${r}`,a=i));const{baseType:u,isArray:c,arraySizes:d}=parseBaseType(s);let f,m=n;for(let h=d.length-1;h>0;h-=1)f={type:"array",$id:o,items:[],maxItems:d[h],minItems:d[h]},d[h]<0&&(delete f.maxItems,delete f.minItems),Array.isArray(m.items)?m.items.length===0?m.items=[f]:m.items.push(f):m.items=[m.items,f],m=f;if(u==="tuple"&&!c){const h=abiSchemaToJsonSchema(a,o);h.$id=o,m.items.push(h)}else if(u==="tuple"&&c){const h=d[0],_=Object.assign({type:"array",$id:o,items:abiSchemaToJsonSchema(a,o)},h>=0&&{minItems:h,maxItems:h});m.items.push(_)}else if(c){const h=d[0],_=Object.assign({type:"array",$id:o,items:convertEthType(s)},h>=0&&{minItems:h,maxItems:h});m.items.push(_)}else Array.isArray(m.items)?m.items.push(Object.assign({$id:o},convertEthType(s))):m.items.push(Object.assign({$id:o},convertEthType(s)));m=n}return n},ethAbiToJsonSchema=e=>abiSchemaToJsonSchema(e),fetchArrayElement=(e,t)=>t===1?e:fetchArrayElement(e[0],t-1),transformJsonDataToAbiFormat=(e,t,n)=>{const r=[];for(const[i,s]of e.entries()){let o,a,u=[];isAbiParameterSchema(s)?(o=s.type,a=s.name,u=s.components):typeof s=="string"?o=s:Array.isArray(s)&&(s[1]&&Array.isArray(s[1])?(o=s[0],u=s[1]):(o="tuple",u=s));const{baseType:c,isArray:d,arraySizes:f}=parseBaseType(o),m=Array.isArray(t)?t[i]:t[a];if(c==="tuple"&&!d)r.push(transformJsonDataToAbiFormat(u,m,n));else if(c==="tuple"&&d){const h=[];for(const _ of m)if(f.length>1){const y=fetchArrayElement(_,f.length-1),p=[];for(const w of y)p.push(transformJsonDataToAbiFormat(u,w,n));h.push(p)}else h.push(transformJsonDataToAbiFormat(u,_,n));r.push(h)}else r.push(m)}return n=n??[],n.push(...r),n},codePointToInt=e=>{if(e>=48&&e<=57)return e-48;if(e>=65&&e<=70)return e-55;if(e>=97&&e<=102)return e-87;throw new Error(`Invalid code point: ${e}`)},hexToNumber$2=e=>{if(!isHexStrict(e))throw new Error("Invalid hex string");const[t,n]=e.startsWith("-")?[!0,e.slice(1)]:[!1,e],r=BigInt(n);return r>Number.MAX_SAFE_INTEGER?t?-r:r:r<Number.MIN_SAFE_INTEGER?r:t?-1*Number(r):Number(r)},numberToHex$1=e=>{if((typeof e=="number"||typeof e=="bigint")&&e<0)return`-0x${e.toString(16).slice(1)}`;if((typeof e=="number"||typeof e=="bigint")&&e>=0)return`0x${e.toString(16)}`;if(typeof e=="string"&&isHexStrict(e)){const[t,n]=e.startsWith("-")?[!0,e.slice(1)]:[!1,e],r=n.split(/^(-)?0(x|X)/).slice(-1)[0];return`${t?"-":""}0x${r.replace(/^0+/,"").toLowerCase()}`}if(typeof e=="string"&&!isHexStrict(e))return numberToHex$1(BigInt(e));throw new InvalidNumberError(e)},padLeft$1=(e,t,n="0")=>{if(typeof e=="string"&&!isHexStrict(e))return e.padStart(t,n);const r=typeof e=="string"&&isHexStrict(e)?e:numberToHex$1(e),[i,s]=r.startsWith("-")?["-0x",r.slice(3)]:["0x",r.slice(2)];return`${i}${s.padStart(t,n)}`};function uint8ArrayToHexString$1(e){let t="0x";for(const n of e){const r=n.toString(16);t+=r.length===1?`0${r}`:r}return t}const charCodeMap={zero:48,nine:57,A:65,F:70,a:97,f:102};function charCodeToBase16(e){if(e>=charCodeMap.zero&&e<=charCodeMap.nine)return e-charCodeMap.zero;if(e>=charCodeMap.A&&e<=charCodeMap.F)return e-(charCodeMap.A-10);if(e>=charCodeMap.a&&e<=charCodeMap.f)return e-(charCodeMap.a-10)}function hexToUint8Array(e){let t=0;if(e.startsWith("0")&&(e[1]==="x"||e[1]==="X")&&(t=2),e.length%2!==0)throw new InvalidBytesError(`hex string has odd length: ${e}`);const n=(e.length-t)/2,r=new Uint8Array(n);for(let i=0,s=t;i<n;i+=1){const o=charCodeToBase16(e.charCodeAt(s++)),a=charCodeToBase16(e.charCodeAt(s++));if(o===void 0||a===void 0)throw new InvalidBytesError(`Invalid byte sequence ("${e[s-2]}${e[s-1]}" in "${e}").`);r[i]=o*16+a}return r}function ensureIfUint8Array(e){var t;return!(e instanceof Uint8Array)&&((t=e==null?void 0:e.constructor)===null||t===void 0?void 0:t.name)==="Uint8Array"?Uint8Array.from(e):e}const utils=Object.freeze(Object.defineProperty({__proto__:null,abiSchemaToJsonSchema,codePointToInt,ensureIfUint8Array,ethAbiToJsonSchema,fetchArrayElement,hexToNumber:hexToNumber$2,hexToUint8Array,numberToHex:numberToHex$1,padLeft:padLeft$1,parseBaseType,transformJsonDataToAbiFormat,uint8ArrayToHexString:uint8ArrayToHexString$1},Symbol.toStringTag,{value:"Module"})),isUint8Array$1=e=>{var t,n;return e instanceof Uint8Array||((t=e==null?void 0:e.constructor)===null||t===void 0?void 0:t.name)==="Uint8Array"||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="Buffer"},isBytes$1=(e,t={abiType:"bytes"})=>{if(typeof e!="string"&&!Array.isArray(e)&&!isUint8Array$1(e)||typeof e=="string"&&isHexStrict(e)&&e.startsWith("-")||typeof e=="string"&&!isHexStrict(e))return!1;let n;if(typeof e=="string"){if(e.length%2!==0)return!1;n=hexToUint8Array(e)}else if(Array.isArray(e)){if(e.some(r=>r<0||r>255||!Number.isInteger(r)))return!1;n=new Uint8Array(e)}else n=e;if(t!=null&&t.abiType){const{baseTypeSize:r}=parseBaseType(t.abiType);return r?n.length===r:!0}return t!=null&&t.size?n.length===(t==null?void 0:t.size):!0},checkAddressCheckSum=e=>{if(!/^(0x)?[0-9a-f]{40}$/i.test(e))return!1;const t=e.slice(2),n=utf8ToBytes$3(t.toLowerCase()),r=uint8ArrayToHexString$1(keccak256(ensureIfUint8Array(n))).slice(2);for(let i=0;i<40;i+=1)if(parseInt(r[i],16)>7&&t[i].toUpperCase()!==t[i]||parseInt(r[i],16)<=7&&t[i].toLowerCase()!==t[i])return!1;return!0},isAddress=(e,t=!0)=>{if(typeof e!="string"&&!isUint8Array$1(e))return!1;let n;return isUint8Array$1(e)?n=uint8ArrayToHexString$1(e):typeof e=="string"&&!isHexStrict(e)?n=e.toLowerCase().startsWith("0x")?e:`0x${e}`:n=e,/^(0x)?[0-9a-f]{40}$/i.test(n)?/^(0x|0X)?[0-9a-f]{40}$/.test(n)||/^(0x|0X)?[0-9A-F]{40}$/.test(n)?!0:t?checkAddressCheckSum(n):!0:!1},bigintPower=(e,t)=>{if(t===BigInt(0))return BigInt(1);let n=e;for(let r=1;r<t;r+=1)n*=e;return n},isUInt=(e,t={abiType:"uint"})=>{if(!["number","string","bigint"].includes(typeof e)||typeof e=="string"&&e.length===0)return!1;let n;if(t!=null&&t.abiType){const{baseTypeSize:i}=parseBaseType(t.abiType);i&&(n=i)}else t.bitSize&&(n=t.bitSize);const r=bigintPower(BigInt(2),BigInt(n??256))-BigInt(1);try{const i=typeof e=="string"&&isHexStrict(e)?BigInt(hexToNumber$2(e)):BigInt(e);return i>=0&&i<=r}catch{return!1}},isInt=(e,t={abiType:"int"})=>{if(!["number","string","bigint"].includes(typeof e)||typeof e=="number"&&e>Number.MAX_SAFE_INTEGER)return!1;let n;if(t!=null&&t.abiType){const{baseTypeSize:s,baseType:o}=parseBaseType(t.abiType);if(o!=="int")return!1;s&&(n=s)}else t.bitSize&&(n=t.bitSize);const r=bigintPower(BigInt(2),BigInt((n??256)-1)),i=BigInt(-1)*bigintPower(BigInt(2),BigInt((n??256)-1));try{const s=typeof e=="string"&&isHexStrict(e)?BigInt(hexToNumber$2(e)):BigInt(e);return s>=i&&s<=r}catch{return!1}},isNumber=e=>!!(isInt(e)||typeof e=="string"&&/[0-9.]/.test(e)&&e.indexOf(".")===e.lastIndexOf(".")||typeof e=="number"),isBlockNumber=e=>isUInt(e),isBlockTag=e=>Object.values(BlockTags).includes(e),isBlockNumberOrTag=e=>isBlockTag(e)||isBlockNumber(e),isBloom=e=>typeof e!="string"||!/^(0x)?[0-9a-f]{512}$/i.test(e)?!1:!!(/^(0x)?[0-9a-f]{512}$/.test(e)||/^(0x)?[0-9A-F]{512}$/.test(e)),isBoolean=e=>["number","string","boolean"].includes(typeof e)?typeof e=="boolean"?!0:typeof e=="string"&&!isHexStrict(e)?e==="1"||e==="0":typeof e=="string"&&isHexStrict(e)?e==="0x1"||e==="0x0":e===1||e===0:!1,isNullish$1=e=>e==null,isTopic=e=>typeof e!="string"||!/^(0x)?[0-9a-f]{64}$/i.test(e)?!1:!!(/^(0x)?[0-9a-f]{64}$/.test(e)||/^(0x)?[0-9A-F]{64}$/.test(e)),isFilterObject=e=>{const t=["fromBlock","toBlock","address","topics","blockHash"];if(isNullish$1(e)||typeof e!="object"||!Object.keys(e).every(n=>t.includes(n))||!isNullish$1(e.fromBlock)&&!isBlockNumberOrTag(e.fromBlock)||!isNullish$1(e.toBlock)&&!isBlockNumberOrTag(e.toBlock))return!1;if(!isNullish$1(e.address)){if(Array.isArray(e.address)){if(!e.address.every(n=>isAddress(n)))return!1}else if(!isAddress(e.address))return!1}return!(!isNullish$1(e.topics)&&!e.topics.every(n=>isNullish$1(n)?!0:Array.isArray(n)?n.every(r=>isTopic(r)):!!isTopic(n)))},formats={address:e=>isAddress(e),bloom:e=>isBloom(e),blockNumber:e=>isBlockNumber(e),blockTag:e=>isBlockTag(e),blockNumberOrTag:e=>isBlockNumberOrTag(e),bool:e=>isBoolean(e),bytes:e=>isBytes$1(e),filter:e=>isFilterObject(e),hex:e=>isHexStrict(e),uint:e=>isUInt(e),int:e=>isInt(e),number:e=>isNumber(e),string:e=>isString(e)};for(let e=8;e<=256;e+=8)formats[`int${e}`]=t=>isInt(t,{bitSize:e}),formats[`uint${e}`]=t=>isUInt(t,{bitSize:e});for(let e=1;e<=32;e+=1)formats[`bytes${e}`]=t=>isBytes$1(t,{size:e});formats.bytes256=formats.bytes;const convertToZod=e=>{if((!(e!=null&&e.type)||(e==null?void 0:e.type)==="object")&&(e!=null&&e.properties)){const t={};for(const n of Object.keys(e.properties)){const r=convertToZod(e.properties[n]);r&&(t[n]=r)}return Array.isArray(e.required)?z.object(t).partial().required(e.required.reduce((n,r)=>Object.assign(Object.assign({},n),{[r]:!0}),{})):z.object(t).partial()}if((e==null?void 0:e.type)==="array"&&(e!=null&&e.items)){if(Array.isArray(e.items)&&e.items.length>1&&e.maxItems!==void 0&&new Set(e.items.map(r=>r.$id)).size===e.items.length){const r=[];for(const i of e.items){const s=convertToZod(i);s&&r.push(s)}return z.tuple(r)}const t=Array.isArray(e.items)?e.items[0]:e.items;let n=z.array(convertToZod(t));return n=e.minItems!==void 0?n.min(e.minItems):n,n=e.maxItems!==void 0?n.max(e.maxItems):n,n}if(e.oneOf&&Array.isArray(e.oneOf))return z.union(e.oneOf.map(t=>convertToZod(t)));if(e!=null&&e.format){if(!formats[e.format])throw new SchemaFormatError(e.format);return z.any().refine(formats[e.format],t=>({params:{value:t,format:e.format}}))}return e!=null&&e.type&&(e==null?void 0:e.type)!=="object"&&typeof z[String(e.type)]=="function"?z[String(e.type)]():z.object({data:z.any()}).partial()};class Validator{static factory(){return Validator.validatorInstance||(Validator.validatorInstance=new Validator),Validator.validatorInstance}validate(t,n,r){var i,s;const a=convertToZod(t).safeParse(n);if(!a.success){const u=this.convertErrors((s=(i=a.error)===null||i===void 0?void 0:i.issues)!==null&&s!==void 0?s:[]);if(u){if(r!=null&&r.silent)return u;throw new Web3ValidatorError(u)}}}convertErrors(t){if(t&&Array.isArray(t)&&t.length>0)return t.map(n=>{var r;let i,s,o,a;a=n.path.join("/");const u=String(n.path[n.path.length-1]),c=n.path.join("/");if(n.code===ZodIssueCode.too_big)s="maxItems",a=`${c}/maxItems`,o={limit:n.maximum},i=`must NOT have more than ${n.maximum} items`;else if(n.code===ZodIssueCode.too_small)s="minItems",a=`${c}/minItems`,o={limit:n.minimum},i=`must NOT have fewer than ${n.minimum} items`;else if(n.code===ZodIssueCode.custom){const{value:d,format:f}=(r=n.params)!==null&&r!==void 0?r:{};typeof d>"u"?i=`value at "/${a}" is required`:i=`value "${typeof d=="object"?JSON.stringify(d):d}" at "/${a}" must pass "${f}" validation`,o={value:d}}return{keyword:s??u,instancePath:c?`/${c}`:"",schemaPath:a?`#${a}`:"#",params:o??{value:n.message},message:i??n.message}})}}class Web3Validator{constructor(){this._validator=Validator.factory()}validateJSONSchema(t,n,r){return this._validator.validate(t,n,r)}validate(t,n,r={silent:!1}){var i,s;const o=ethAbiToJsonSchema(t);if(!(Array.isArray(o.items)&&((i=o.items)===null||i===void 0?void 0:i.length)===0&&n.length===0)){if(Array.isArray(o.items)&&((s=o.items)===null||s===void 0?void 0:s.length)===0&&n.length!==0)throw new Web3ValidatorError([{instancePath:"/0",schemaPath:"/",keyword:"required",message:"empty schema against data can not be validated",params:n}]);return this._validator.validate(o,n,r)}}}const validator=new Web3Validator;function isUint8Array(e){var t,n;return e instanceof Uint8Array||((t=e==null?void 0:e.constructor)===null||t===void 0?void 0:t.name)==="Uint8Array"||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="Buffer"}BigInt(0),BigInt(1),BigInt(1e3),BigInt(1e3),BigInt(1e3),BigInt(1e3),BigInt(1e6),BigInt(1e6),BigInt(1e6),BigInt(1e6),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e9),BigInt(1e12),BigInt(1e12),BigInt(1e12),BigInt(1e15),BigInt(1e15),BigInt(1e15),BigInt("1000000000000000000"),BigInt("1000000000000000000000"),BigInt("1000000000000000000000"),BigInt("1000000000000000000000000"),BigInt("1000000000000000000000000000"),BigInt("1000000000000000000000000000000");const bytesToUint8Array=e=>{if(validator.validate(["bytes"],[e]),isUint8Array(e))return e;if(Array.isArray(e))return new Uint8Array(e);if(typeof e=="string")return hexToUint8Array(e);throw new InvalidBytesError(e)},{uint8ArrayToHexString}=utils,bytesToHex$2=e=>uint8ArrayToHexString(bytesToUint8Array(e)),hexToBytes$2=e=>typeof e=="string"&&e.slice(0,2).toLowerCase()!=="0x"?bytesToUint8Array(`0x${e}`):bytesToUint8Array(e),hexToNumber$1=e=>(validator.validate(["hex"],[e]),hexToNumber$2(e)),utf8ToBytes$2=utf8ToBytes$3,toChecksumAddress=e=>{if(!isAddress(e,!1))throw new InvalidAddressError(e);const t=e.toLowerCase().replace(/^0x/i,""),n=uint8ArrayToHexString$1(keccak256(ensureIfUint8Array(utf8ToBytes$2(t))));if(isNullish$1(n)||n==="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470")return"";let r="0x";const i=n.replace(/^0x/i,"");for(let s=0;s<t.length;s+=1)parseInt(i[s],16)>7?r+=t[s].toUpperCase():r+=t[s];return r};var eventemitter3={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,c,d){this.fn=u,this.context=c,this.once=d||!1}function s(u,c,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new i(d,f||u,m),_=n?n+c:c;return u._events[_]?u._events[_].fn?u._events[_]=[u._events[_],h]:u._events[_].push(h):(u._events[_]=h,u._eventsCount++),u}function o(u,c){--u._eventsCount===0?u._events=new r:delete u._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)t.call(d,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,h=f.length,_=new Array(h);m<h;m++)_[m]=f[m].fn;return _},a.prototype.listenerCount=function(c){var d=n?n+c:c,f=this._events[d];return f?f.fn?1:f.length:0},a.prototype.emit=function(c,d,f,m,h,_){var y=n?n+c:c;if(!this._events[y])return!1;var p=this._events[y],w=arguments.length,T,E;if(p.fn){switch(p.once&&this.removeListener(c,p.fn,void 0,!0),w){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,d),!0;case 3:return p.fn.call(p.context,d,f),!0;case 4:return p.fn.call(p.context,d,f,m),!0;case 5:return p.fn.call(p.context,d,f,m,h),!0;case 6:return p.fn.call(p.context,d,f,m,h,_),!0}for(E=1,T=new Array(w-1);E<w;E++)T[E-1]=arguments[E];p.fn.apply(p.context,T)}else{var S=p.length,C;for(E=0;E<S;E++)switch(p[E].once&&this.removeListener(c,p[E].fn,void 0,!0),w){case 1:p[E].fn.call(p[E].context);break;case 2:p[E].fn.call(p[E].context,d);break;case 3:p[E].fn.call(p[E].context,d,f);break;case 4:p[E].fn.call(p[E].context,d,f,m);break;default:if(!T)for(C=1,T=new Array(w-1);C<w;C++)T[C-1]=arguments[C];p[E].fn.apply(p[E].context,T)}}return!0},a.prototype.on=function(c,d,f){return s(this,c,d,f,!1)},a.prototype.once=function(c,d,f){return s(this,c,d,f,!0)},a.prototype.removeListener=function(c,d,f,m){var h=n?n+c:c;if(!this._events[h])return this;if(!d)return o(this,h),this;var _=this._events[h];if(_.fn)_.fn===d&&(!m||_.once)&&(!f||_.context===f)&&o(this,h);else{for(var y=0,p=[],w=_.length;y<w;y++)(_[y].fn!==d||m&&!_[y].once||f&&_[y].context!==f)&&p.push(_[y]);p.length?this._events[h]=p.length===1?p[0]:p:o(this,h)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(eventemitter3);var eventemitter3Exports=eventemitter3.exports;const EventEmitter$1=getDefaultExportFromCjs(eventemitter3Exports),isNullish=isNullish$1,padLeft=(e,t,n="0")=>typeof e=="string"?isHexStrict(e)?padLeft$1(e,t,n):e.padStart(t,n):(validator.validate(["int"],[e]),padLeft$1(e,t,n)),leftPad=padLeft;function getRandomBytesSync(e){return randomBytes$1(e)}const randomBytes=e=>getRandomBytesSync(e),uuidV4=()=>{const e=randomBytes(16);e[6]=e[6]&15|64,e[8]=e[8]&63|128;const t=bytesToHex$2(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")},isResponseWithResult=e=>!Array.isArray(e)&&!!e&&e.jsonrpc==="2.0"&&"result"in e&&isNullish$1(e.error)&&(typeof e.id=="number"||typeof e.id=="string"),isResponseWithError=e=>!Array.isArray(e)&&e.jsonrpc==="2.0"&&!!e&&isNullish$1(e.result)&&"error"in e&&(typeof e.id=="number"||typeof e.id=="string"),isResponseWithNotification=e=>!Array.isArray(e)&&!!e&&e.jsonrpc==="2.0"&&!isNullish$1(e.params)&&!isNullish$1(e.method),validateResponse=e=>isResponseWithResult(e)||isResponseWithError(e),isValidResponse=e=>Array.isArray(e)?e.every(validateResponse):validateResponse(e),isBatchResponse=e=>Array.isArray(e)&&e.length>0&&isValidResponse(e);let requestIdSeed;const toPayload=e=>{var t,n,r,i;return{jsonrpc:(t=e.jsonrpc)!==null&&t!==void 0?t:"2.0",id:(r=(n=e.id)!==null&&n!==void 0?n:requestIdSeed)!==null&&r!==void 0?r:uuidV4(),method:e.method,params:(i=e.params)!==null&&i!==void 0?i:void 0}},isBatchRequest=e=>Array.isArray(e)&&e.length>0;var __awaiter$5=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function u(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,u)}c((r=r.apply(e,t||[])).next())})},_a$1;class Web3DeferredPromise{constructor({timeout:t,eagerStart:n,timeoutMessage:r}={timeout:0,eagerStart:!1,timeoutMessage:"DeferredPromise timed out"}){this[_a$1]="Promise",this._state="pending",this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s}),this._timeoutMessage=r,this._timeoutInterval=t,n&&this.startTimer()}get state(){return this._state}then(t,n){return __awaiter$5(this,void 0,void 0,function*(){return this._promise.then(t,n)})}catch(t){return __awaiter$5(this,void 0,void 0,function*(){return this._promise.catch(t)})}finally(t){return __awaiter$5(this,void 0,void 0,function*(){return this._promise.finally(t)})}resolve(t){this._resolve(t),this._state="fulfilled",this._clearTimeout()}reject(t){this._reject(t),this._state="rejected",this._clearTimeout()}startTimer(){this._timeoutInterval&&this._timeoutInterval>0&&(this._timeoutId=setTimeout(this._checkTimeout.bind(this),this._timeoutInterval))}_checkTimeout(){this._state==="pending"&&this._timeoutId&&this.reject(new OperationTimeoutError(this._timeoutMessage))}_clearTimeout(){this._timeoutId&&clearTimeout(this._timeoutId)}}_a$1=Symbol.toStringTag;class ChunkResponseParser{constructor(t,n){this.eventEmitter=t,this.autoReconnect=n,this.chunkTimeout=1e3*15}clearQueues(){typeof this._clearQueues=="function"&&this._clearQueues()}onError(t){this._clearQueues=t}parseResponse(t){const n=[];return t.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|").forEach(i=>{let s=i;this.lastChunk&&(s=this.lastChunk+s);let o;try{o=JSON.parse(s)}catch{this.lastChunk=s,this.lastChunkTimeout&&clearTimeout(this.lastChunkTimeout),this.lastChunkTimeout=setTimeout(()=>{this.autoReconnect||(this.clearQueues(),this.eventEmitter.emit("error",new InvalidResponseError({id:1,jsonrpc:"2.0",error:{code:2,message:"Chunk timeout"}})))},this.chunkTimeout);return}clearTimeout(this.lastChunkTimeout),this.lastChunk=void 0,o&&n.push(o)}),n}}var __awaiter$4=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function u(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};class Eip1193Provider extends Web3BaseProvider{constructor(){super(...arguments),this._eventEmitter=new EventEmitter$1,this._chainId="",this._accounts=[]}_getChainId(){var t;return __awaiter$4(this,void 0,void 0,function*(){const n=yield this.request(toPayload({method:"eth_chainId",params:[]}));return(t=n==null?void 0:n.result)!==null&&t!==void 0?t:""})}_getAccounts(){var t;return __awaiter$4(this,void 0,void 0,function*(){const n=yield this.request(toPayload({method:"eth_accounts",params:[]}));return(t=n==null?void 0:n.result)!==null&&t!==void 0?t:[]})}_onConnect(){Promise.all([this._getChainId().then(t=>{t!==this._chainId&&(this._chainId=t,this._eventEmitter.emit("chainChanged",this._chainId))}).catch(t=>{console.error(t)}),this._getAccounts().then(t=>{this._accounts.length===t.length&&t.every(n=>t.includes(n))||(this._accounts=t,this._onAccountsChanged())}).catch(t=>{console.error(t)})]).then(()=>this._eventEmitter.emit("connect",{chainId:this._chainId})).catch(t=>{console.error(t)})}_onDisconnect(t,n){this._eventEmitter.emit("disconnect",new EIP1193ProviderRpcError(t,n))}_onAccountsChanged(){this._eventEmitter.emit("accountsChanged",this._accounts)}}var __awaiter$3=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function u(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};const DEFAULT_RECONNECTION_OPTIONS={autoReconnect:!0,delay:5e3,maxAttempts:5},NORMAL_CLOSE_CODE=1e3;class SocketProvider extends Eip1193Provider{constructor(t,n,r){if(super(),this._connectionStatus="connecting",this._onMessageHandler=this._onMessage.bind(this),this._onOpenHandler=this._onConnect.bind(this),this._onCloseHandler=this._onCloseEvent.bind(this),this._onErrorHandler=this._onError.bind(this),!this._validateProviderPath(t))throw new InvalidClientError(t);this._socketPath=t,this._socketOptions=n,this._reconnectOptions=Object.assign(Object.assign({},DEFAULT_RECONNECTION_OPTIONS),r??{}),this._pendingRequestsQueue=new Map,this._sentRequestsQueue=new Map,this._init(),this.connect(),this.chunkResponseParser=new ChunkResponseParser(this._eventEmitter,this._reconnectOptions.autoReconnect),this.chunkResponseParser.onError(()=>{this._clearQueues()}),this.isReconnecting=!1}get SocketConnection(){return this._socketConnection}_init(){this._reconnectAttempts=0}connect(){try{this._openSocketConnection(),this._connectionStatus="connecting",this._addSocketListeners()}catch(t){if(this.isReconnecting)setImmediate(()=>{this._reconnect()});else throw this._connectionStatus="disconnected",t&&t.message?new ConnectionError(`Error while connecting to ${this._socketPath}. Reason: ${t.message}`):new InvalidClientError(this._socketPath)}}_validateProviderPath(t){return!!t}getPendingRequestQueueSize(){return this._pendingRequestsQueue.size}getSentRequestsQueueSize(){return this._sentRequestsQueue.size}supportsSubscriptions(){return!0}on(t,n){this._eventEmitter.on(t,n)}once(t,n){this._eventEmitter.once(t,n)}removeListener(t,n){this._eventEmitter.removeListener(t,n)}_onDisconnect(t,n){this._connectionStatus="disconnected",super._onDisconnect(t,n)}disconnect(t,n){const r=t??NORMAL_CLOSE_CODE;this._removeSocketListeners(),this.getStatus()!=="disconnected"&&this._closeSocketConnection(r,n),this._onDisconnect(r,n)}safeDisconnect(t,n,r=!1,i=1e3){return __awaiter$3(this,void 0,void 0,function*(){let s=0;yield __awaiter$3(this,void 0,void 0,function*(){return new Promise(a=>{const u=setInterval(()=>{r&&s>=5&&this.clearQueues(),this.getPendingRequestQueueSize()===0&&this.getSentRequestsQueueSize()===0&&(clearInterval(u),a(!0)),s+=1},i)})}),this.disconnect(t,n)})}removeAllListeners(t){this._eventEmitter.removeAllListeners(t)}_onError(t){this.isReconnecting?this._reconnect():this._eventEmitter.emit("error",t)}reset(){this._sentRequestsQueue.clear(),this._pendingRequestsQueue.clear(),this._init(),this._removeSocketListeners(),this._addSocketListeners()}_reconnect(){this.isReconnecting||(this.isReconnecting=!0,this._sentRequestsQueue.size>0&&this._sentRequestsQueue.forEach((t,n)=>{t.deferredPromise.reject(new PendingRequestsOnReconnectingError),this._sentRequestsQueue.delete(n)}),this._reconnectAttempts<this._reconnectOptions.maxAttempts?(this._reconnectAttempts+=1,setTimeout(()=>{this._removeSocketListeners(),this.connect(),this.isReconnecting=!1},this._reconnectOptions.delay)):(this.isReconnecting=!1,this._clearQueues(),this._removeSocketListeners(),this._eventEmitter.emit("error",new MaxAttemptsReachedOnReconnectingError(this._reconnectOptions.maxAttempts))))}request(t){return __awaiter$3(this,void 0,void 0,function*(){if(isNullish(this._socketConnection))throw new Error("Connection is undefined");this.getStatus()==="disconnected"&&this.connect();const n=isBatchRequest(t)?t[0].id:t.id;if(!n)throw new Web3WSProviderError("Request Id not defined");if(this._sentRequestsQueue.has(n))throw new RequestAlreadySentError(n);const r=new Web3DeferredPromise;r.catch(s=>{this._eventEmitter.emit("error",s)});const i={payload:t,deferredPromise:r};if(this.getStatus()==="connecting")return this._pendingRequestsQueue.set(n,i),i.deferredPromise;this._sentRequestsQueue.set(n,i);try{this._sendToSocket(i.payload)}catch(s){this._sentRequestsQueue.delete(n),this._eventEmitter.emit("error",s)}return r})}_onConnect(){this._connectionStatus="connected",this._reconnectAttempts=0,super._onConnect(),this._sendPendingRequests()}_sendPendingRequests(){for(const[t,n]of this._pendingRequestsQueue.entries())try{this._sendToSocket(n.payload),this._pendingRequestsQueue.delete(t),this._sentRequestsQueue.set(t,n)}catch(r){this._pendingRequestsQueue.delete(t),this._eventEmitter.emit("error",r)}}_onMessage(t){const n=this._parseResponses(t);if(!(isNullish(n)||n.length===0))for(const r of n){if(isResponseWithNotification(r)&&r.method.endsWith("_subscription")){this._eventEmitter.emit("message",r);return}const i=isBatchResponse(r)?r[0].id:r.id,s=this._sentRequestsQueue.get(i);if(!s)return;(isBatchResponse(r)||isResponseWithResult(r)||isResponseWithError(r))&&(this._eventEmitter.emit("message",r),s.deferredPromise.resolve(r)),this._sentRequestsQueue.delete(i)}}clearQueues(t){this._clearQueues(t)}_clearQueues(t){this._pendingRequestsQueue.size>0&&this._pendingRequestsQueue.forEach((n,r)=>{n.deferredPromise.reject(new ConnectionNotOpenError(t)),this._pendingRequestsQueue.delete(r)}),this._sentRequestsQueue.size>0&&this._sentRequestsQueue.forEach((n,r)=>{n.deferredPromise.reject(new ConnectionNotOpenError(t)),this._sentRequestsQueue.delete(r)}),this._removeSocketListeners()}}var Web3ConfigEvent;(function(e){e.CONFIG_CHANGE="CONFIG_CHANGE"})(Web3ConfigEvent||(Web3ConfigEvent={}));var browserPonyfill={exports:{}};(function(e,t){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof commonjsGlobal$1<"u"&&commonjsGlobal$1,r=function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s}();(function(s){(function(o){var a=typeof s<"u"&&s||typeof self<"u"&&self||typeof a<"u"&&a,u={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function c(l){return l&&DataView.prototype.isPrototypeOf(l)}if(u.arrayBuffer)var d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(l){return l&&d.indexOf(Object.prototype.toString.call(l))>-1};function m(l){if(typeof l!="string"&&(l=String(l)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(l)||l==="")throw new TypeError('Invalid character in header field name: "'+l+'"');return l.toLowerCase()}function h(l){return typeof l!="string"&&(l=String(l)),l}function _(l){var b={next:function(){var $=l.shift();return{done:$===void 0,value:$}}};return u.iterable&&(b[Symbol.iterator]=function(){return b}),b}function y(l){this.map={},l instanceof y?l.forEach(function(b,$){this.append($,b)},this):Array.isArray(l)?l.forEach(function(b){this.append(b[0],b[1])},this):l&&Object.getOwnPropertyNames(l).forEach(function(b){this.append(b,l[b])},this)}y.prototype.append=function(l,b){l=m(l),b=h(b);var $=this.map[l];this.map[l]=$?$+", "+b:b},y.prototype.delete=function(l){delete this.map[m(l)]},y.prototype.get=function(l){return l=m(l),this.has(l)?this.map[l]:null},y.prototype.has=function(l){return this.map.hasOwnProperty(m(l))},y.prototype.set=function(l,b){this.map[m(l)]=h(b)},y.prototype.forEach=function(l,b){for(var $ in this.map)this.map.hasOwnProperty($)&&l.call(b,this.map[$],$,this)},y.prototype.keys=function(){var l=[];return this.forEach(function(b,$){l.push($)}),_(l)},y.prototype.values=function(){var l=[];return this.forEach(function(b){l.push(b)}),_(l)},y.prototype.entries=function(){var l=[];return this.forEach(function(b,$){l.push([$,b])}),_(l)},u.iterable&&(y.prototype[Symbol.iterator]=y.prototype.entries);function p(l){if(l.bodyUsed)return Promise.reject(new TypeError("Already read"));l.bodyUsed=!0}function w(l){return new Promise(function(b,$){l.onload=function(){b(l.result)},l.onerror=function(){$(l.error)}})}function T(l){var b=new FileReader,$=w(b);return b.readAsArrayBuffer(l),$}function E(l){var b=new FileReader,$=w(b);return b.readAsText(l),$}function S(l){for(var b=new Uint8Array(l),$=new Array(b.length),B=0;B<b.length;B++)$[B]=String.fromCharCode(b[B]);return $.join("")}function C(l){if(l.slice)return l.slice(0);var b=new Uint8Array(l.byteLength);return b.set(new Uint8Array(l)),b.buffer}function N(){return this.bodyUsed=!1,this._initBody=function(l){this.bodyUsed=this.bodyUsed,this._bodyInit=l,l?typeof l=="string"?this._bodyText=l:u.blob&&Blob.prototype.isPrototypeOf(l)?this._bodyBlob=l:u.formData&&FormData.prototype.isPrototypeOf(l)?this._bodyFormData=l:u.searchParams&&URLSearchParams.prototype.isPrototypeOf(l)?this._bodyText=l.toString():u.arrayBuffer&&u.blob&&c(l)?(this._bodyArrayBuffer=C(l.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(l)||f(l))?this._bodyArrayBuffer=C(l):this._bodyText=l=Object.prototype.toString.call(l):this._bodyText="",this.headers.get("content-type")||(typeof l=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u.searchParams&&URLSearchParams.prototype.isPrototypeOf(l)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u.blob&&(this.blob=function(){var l=p(this);if(l)return l;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var l=p(this);return l||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(T)}),this.text=function(){var l=p(this);if(l)return l;if(this._bodyBlob)return E(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(S(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},u.formData&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}var A=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function x(l){var b=l.toUpperCase();return A.indexOf(b)>-1?b:l}function L(l,b){if(!(this instanceof L))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');b=b||{};var $=b.body;if(l instanceof L){if(l.bodyUsed)throw new TypeError("Already read");this.url=l.url,this.credentials=l.credentials,b.headers||(this.headers=new y(l.headers)),this.method=l.method,this.mode=l.mode,this.signal=l.signal,!$&&l._bodyInit!=null&&($=l._bodyInit,l.bodyUsed=!0)}else this.url=String(l);if(this.credentials=b.credentials||this.credentials||"same-origin",(b.headers||!this.headers)&&(this.headers=new y(b.headers)),this.method=x(b.method||this.method||"GET"),this.mode=b.mode||this.mode||null,this.signal=b.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&$)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody($),(this.method==="GET"||this.method==="HEAD")&&(b.cache==="no-store"||b.cache==="no-cache")){var B=/([?&])_=[^&]*/;if(B.test(this.url))this.url=this.url.replace(B,"$1_="+new Date().getTime());else{var k=/\?/;this.url+=(k.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}L.prototype.clone=function(){return new L(this,{body:this._bodyInit})};function v(l){var b=new FormData;return l.trim().split("&").forEach(function($){if($){var B=$.split("="),k=B.shift().replace(/\+/g," "),P=B.join("=").replace(/\+/g," ");b.append(decodeURIComponent(k),decodeURIComponent(P))}}),b}function I(l){var b=new y,$=l.replace(/\r?\n[\t ]+/g," ");return $.split("\r").map(function(B){return B.indexOf(`
`)===0?B.substr(1,B.length):B}).forEach(function(B){var k=B.split(":"),P=k.shift().trim();if(P){var D=k.join(":").trim();b.append(P,D)}}),b}N.call(L.prototype);function R(l,b){if(!(this instanceof R))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');b||(b={}),this.type="default",this.status=b.status===void 0?200:b.status,this.ok=this.status>=200&&this.status<300,this.statusText=b.statusText===void 0?"":""+b.statusText,this.headers=new y(b.headers),this.url=b.url||"",this._initBody(l)}N.call(R.prototype),R.prototype.clone=function(){return new R(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},R.error=function(){var l=new R(null,{status:0,statusText:""});return l.type="error",l};var O=[301,302,303,307,308];R.redirect=function(l,b){if(O.indexOf(b)===-1)throw new RangeError("Invalid status code");return new R(null,{status:b,headers:{location:l}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(b,$){this.message=b,this.name=$;var B=Error(b);this.stack=B.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function g(l,b){return new Promise(function($,B){var k=new L(l,b);if(k.signal&&k.signal.aborted)return B(new o.DOMException("Aborted","AbortError"));var P=new XMLHttpRequest;function D(){P.abort()}P.onload=function(){var Z={status:P.status,statusText:P.statusText,headers:I(P.getAllResponseHeaders()||"")};Z.url="responseURL"in P?P.responseURL:Z.headers.get("X-Request-URL");var U="response"in P?P.response:P.responseText;setTimeout(function(){$(new R(U,Z))},0)},P.onerror=function(){setTimeout(function(){B(new TypeError("Network request failed"))},0)},P.ontimeout=function(){setTimeout(function(){B(new TypeError("Network request failed"))},0)},P.onabort=function(){setTimeout(function(){B(new o.DOMException("Aborted","AbortError"))},0)};function M(Z){try{return Z===""&&a.location.href?a.location.href:Z}catch{return Z}}P.open(k.method,M(k.url),!0),k.credentials==="include"?P.withCredentials=!0:k.credentials==="omit"&&(P.withCredentials=!1),"responseType"in P&&(u.blob?P.responseType="blob":u.arrayBuffer&&k.headers.get("Content-Type")&&k.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(P.responseType="arraybuffer")),b&&typeof b.headers=="object"&&!(b.headers instanceof y)?Object.getOwnPropertyNames(b.headers).forEach(function(Z){P.setRequestHeader(Z,h(b.headers[Z]))}):k.headers.forEach(function(Z,U){P.setRequestHeader(U,Z)}),k.signal&&(k.signal.addEventListener("abort",D),P.onreadystatechange=function(){P.readyState===4&&k.signal.removeEventListener("abort",D)}),P.send(typeof k._bodyInit>"u"?null:k._bodyInit)})}return g.polyfill=!0,a.fetch||(a.fetch=g,a.Headers=y,a.Request=L,a.Response=R),o.Headers=y,o.Request=L,o.Response=R,o.fetch=g,o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;t=i.fetch,t.default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t})(browserPonyfill,browserPonyfill.exports);var browserPonyfillExports=browserPonyfill.exports;const fetch$1=getDefaultExportFromCjs(browserPonyfillExports);var __awaiter$2=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function u(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};class HttpProvider extends Web3BaseProvider{constructor(t,n){if(super(),!HttpProvider.validateClientUrl(t))throw new InvalidClientError(t);this.clientUrl=t,this.httpProviderOptions=n}static validateClientUrl(t){return typeof t=="string"?/^http(s)?:\/\//i.test(t):!1}getStatus(){throw new MethodNotImplementedError}supportsSubscriptions(){return!1}request(t,n){var r;return __awaiter$2(this,void 0,void 0,function*(){const i=Object.assign(Object.assign({},(r=this.httpProviderOptions)===null||r===void 0?void 0:r.providerOptions),n),s=yield fetch$1(this.clientUrl,Object.assign(Object.assign({},i),{method:"POST",headers:Object.assign(Object.assign({},i.headers),{"Content-Type":"application/json"}),body:JSON.stringify(t)}));if(!s.ok)throw new ResponseError(yield s.json(),void 0,void 0,s.status);return yield s.json()})}on(){throw new MethodNotImplementedError}removeListener(){throw new MethodNotImplementedError}once(){throw new MethodNotImplementedError}removeAllListeners(){throw new MethodNotImplementedError}connect(){throw new MethodNotImplementedError}disconnect(){throw new MethodNotImplementedError}reset(){throw new MethodNotImplementedError}reconnect(){throw new MethodNotImplementedError}}var ws=null;typeof WebSocket<"u"?ws=WebSocket:typeof MozWebSocket<"u"?ws=MozWebSocket:typeof _global$1<"u"?ws=_global$1.WebSocket||_global$1.MozWebSocket:typeof window<"u"?ws=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(ws=self.WebSocket||self.MozWebSocket);const WebSocket$1=ws;class WebSocketProvider extends SocketProvider{constructor(t,n,r){super(t,n,r)}_validateProviderPath(t){return typeof t=="string"?/^ws(s)?:\/\//i.test(t):!1}getStatus(){if(this._socketConnection&&!isNullish(this._socketConnection))switch(this._socketConnection.readyState){case this._socketConnection.CONNECTING:return"connecting";case this._socketConnection.OPEN:return"connected";default:return"disconnected"}return"disconnected"}_openSocketConnection(){this._socketConnection=new WebSocket$1(this._socketPath,void 0,this._socketOptions&&Object.keys(this._socketOptions).length===0?void 0:this._socketOptions)}_closeSocketConnection(t,n){var r;(r=this._socketConnection)===null||r===void 0||r.close(t,n)}_sendToSocket(t){var n;if(this.getStatus()==="disconnected")throw new ConnectionNotOpenError;(n=this._socketConnection)===null||n===void 0||n.send(JSON.stringify(t))}_parseResponses(t){return this.chunkResponseParser.parseResponse(t.data)}_addSocketListeners(){var t,n,r,i;(t=this._socketConnection)===null||t===void 0||t.addEventListener("open",this._onOpenHandler),(n=this._socketConnection)===null||n===void 0||n.addEventListener("message",this._onMessageHandler),(r=this._socketConnection)===null||r===void 0||r.addEventListener("close",s=>this._onCloseHandler(s)),(i=this._socketConnection)===null||i===void 0||i.addEventListener("error",this._onErrorHandler)}_removeSocketListeners(){var t,n,r;(t=this._socketConnection)===null||t===void 0||t.removeEventListener("message",this._onMessageHandler),(n=this._socketConnection)===null||n===void 0||n.removeEventListener("open",this._onOpenHandler),(r=this._socketConnection)===null||r===void 0||r.removeEventListener("close",this._onCloseHandler)}_onCloseEvent(t){var n;if(this._reconnectOptions.autoReconnect&&(![1e3,1001].includes(t.code)||!t.wasClean)){this._reconnect();return}this._clearQueues(t),this._removeSocketListeners(),this._onDisconnect(t.code,t.reason),(n=this._socketConnection)===null||n===void 0||n.removeEventListener("error",this._onErrorHandler)}}var Web3RequestManagerEvent;(function(e){e.PROVIDER_CHANGED="PROVIDER_CHANGED",e.BEFORE_PROVIDER_CHANGE="BEFORE_PROVIDER_CHANGE"})(Web3RequestManagerEvent||(Web3RequestManagerEvent={}));class HMAC extends Hash{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,hash(t);const r=toBytes$1(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?t.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=t.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(t){return exists(this),this.iHash.update(t),this}digestInto(t){exists(this),bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=s,t.blockLen=o,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hmac=(e,t,n)=>new HMAC(e,t).update(n).digest();hmac.create=(e,t)=>new HMAC(e,t);function setBigUint64(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),u=r?4:0,c=r?0:4;e.setUint32(t+u,o,r),e.setUint32(t+c,a,r)}const Chi=(e,t,n)=>e&t^~e&n,Maj=(e,t,n)=>e&t^e&n^t&n;class HashMD extends Hash{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=createView(this.buffer)}update(t){exists(this);const{view:n,buffer:r,blockLen:i}=this;t=toBytes$1(t);const s=t.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const u=createView(t);for(;i<=s-o;o+=i)this.process(u,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){exists(this),output(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let f=o;f<i;f++)n[f]=0;setBigUint64(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=createView(t),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=u/4,d=this.get();if(c>d.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,d[f],s)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return t.length=i,t.pos=a,t.finished=s,t.destroyed=o,i%n&&t.buffer.set(r),t}}const SHA256_K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),SHA256_IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W=new Uint32Array(64);class SHA256 extends HashMD{constructor(){super(64,32,8,!1),this.A=SHA256_IV[0]|0,this.B=SHA256_IV[1]|0,this.C=SHA256_IV[2]|0,this.D=SHA256_IV[3]|0,this.E=SHA256_IV[4]|0,this.F=SHA256_IV[5]|0,this.G=SHA256_IV[6]|0,this.H=SHA256_IV[7]|0}get(){const{A:t,B:n,C:r,D:i,E:s,F:o,G:a,H:u}=this;return[t,n,r,i,s,o,a,u]}set(t,n,r,i,s,o,a,u){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=u|0}process(t,n){for(let f=0;f<16;f++,n+=4)SHA256_W[f]=t.getUint32(n,!1);for(let f=16;f<64;f++){const m=SHA256_W[f-15],h=SHA256_W[f-2],_=rotr(m,7)^rotr(m,18)^m>>>3,y=rotr(h,17)^rotr(h,19)^h>>>10;SHA256_W[f]=y+SHA256_W[f-7]+_+SHA256_W[f-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:u,G:c,H:d}=this;for(let f=0;f<64;f++){const m=rotr(a,6)^rotr(a,11)^rotr(a,25),h=d+m+Chi(a,u,c)+SHA256_K[f]+SHA256_W[f]|0,y=(rotr(r,2)^rotr(r,13)^rotr(r,22))+Maj(r,i,s)|0;d=c,c=u,u=a,a=o+h|0,o=s,s=i,i=r,r=h+y|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,u=u+this.F|0,c=c+this.G|0,d=d+this.H|0,this.set(r,i,s,o,a,u,c,d)}roundClean(){SHA256_W.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const sha256=wrapConstructor(()=>new SHA256);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$3=BigInt(0),_1n$4=BigInt(1),_2n$2=BigInt(2);function isBytes(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function abytes(e){if(!isBytes(e))throw new Error("Uint8Array expected")}const hexes=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function bytesToHex$1(e){abytes(e);let t="";for(let n=0;n<e.length;n++)t+=hexes[e[n]];return t}function numberToHexUnpadded(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function hexToNumber(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}const asciis={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function asciiToBase16(e){if(e>=asciis._0&&e<=asciis._9)return e-asciis._0;if(e>=asciis._A&&e<=asciis._F)return e-(asciis._A-10);if(e>=asciis._a&&e<=asciis._f)return e-(asciis._a-10)}function hexToBytes$1(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=asciiToBase16(e.charCodeAt(s)),a=asciiToBase16(e.charCodeAt(s+1));if(o===void 0||a===void 0){const u=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+s)}r[i]=o*16+a}return r}function bytesToNumberBE(e){return hexToNumber(bytesToHex$1(e))}function bytesToNumberLE(e){return abytes(e),hexToNumber(bytesToHex$1(Uint8Array.from(e).reverse()))}function numberToBytesBE(e,t){return hexToBytes$1(e.toString(16).padStart(t*2,"0"))}function numberToBytesLE(e,t){return numberToBytesBE(e,t).reverse()}function numberToVarBytesBE(e){return hexToBytes$1(numberToHexUnpadded(e))}function ensureBytes(e,t,n){let r;if(typeof t=="string")try{r=hexToBytes$1(t)}catch(s){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${s}`)}else if(isBytes(t))r=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${e} expected ${n} bytes, got ${i}`);return r}function concatBytes$1(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];abytes(i),t+=i.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const s=e[r];n.set(s,i),i+=s.length}return n}function equalBytes(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}function utf8ToBytes$1(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function bitLen(e){let t;for(t=0;e>_0n$3;e>>=_1n$4,t+=1);return t}function bitGet(e,t){return e>>BigInt(t)&_1n$4}function bitSet(e,t,n){return e|(n?_1n$4:_0n$3)<<BigInt(t)}const bitMask=e=>(_2n$2<<BigInt(e-1))-_1n$4,u8n=e=>new Uint8Array(e),u8fr=e=>Uint8Array.from(e);function createHmacDrbg(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=u8n(e),i=u8n(e),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...f)=>n(i,r,...f),u=(f=u8n())=>{i=a(u8fr([0]),f),r=a(),f.length!==0&&(i=a(u8fr([1]),f),r=a())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const m=[];for(;f<t;){r=a();const h=r.slice();m.push(h),f+=r.length}return concatBytes$1(...m)};return(f,m)=>{o(),u(f);let h;for(;!(h=m(c()));)u();return o(),h}}const validatorFns={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||isBytes(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function validateObject(e,t,n={}){const r=(i,s,o)=>{const a=validatorFns[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const u=e[i];if(!(o&&u===void 0)&&!a(u,e))throw new Error(`Invalid param ${String(i)}=${u} (${typeof u}), expected ${s}`)};for(const[i,s]of Object.entries(t))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return e}const ut=Object.freeze(Object.defineProperty({__proto__:null,abytes,bitGet,bitLen,bitMask,bitSet,bytesToHex:bytesToHex$1,bytesToNumberBE,bytesToNumberLE,concatBytes:concatBytes$1,createHmacDrbg,ensureBytes,equalBytes,hexToBytes:hexToBytes$1,hexToNumber,isBytes,numberToBytesBE,numberToBytesLE,numberToHexUnpadded,numberToVarBytesBE,utf8ToBytes:utf8ToBytes$1,validateObject},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$2=BigInt(0),_1n$3=BigInt(1),_2n$1=BigInt(2),_3n$1=BigInt(3),_4n=BigInt(4),_5n=BigInt(5),_8n=BigInt(8);BigInt(9);BigInt(16);function mod(e,t){const n=e%t;return n>=_0n$2?n:t+n}function pow(e,t,n){if(n<=_0n$2||t<_0n$2)throw new Error("Expected power/modulo > 0");if(n===_1n$3)return _0n$2;let r=_1n$3;for(;t>_0n$2;)t&_1n$3&&(r=r*e%n),e=e*e%n,t>>=_1n$3;return r}function pow2(e,t,n){let r=e;for(;t-- >_0n$2;)r*=r,r%=n;return r}function invert(e,t){if(e===_0n$2||t<=_0n$2)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=mod(e,t),r=t,i=_0n$2,s=_1n$3;for(;n!==_0n$2;){const a=r/n,u=r%n,c=i-s*a;r=n,n=u,i=s,s=c}if(r!==_1n$3)throw new Error("invert: does not exist");return mod(i,t)}function tonelliShanks(e){const t=(e-_1n$3)/_2n$1;let n,r,i;for(n=e-_1n$3,r=0;n%_2n$1===_0n$2;n/=_2n$1,r++);for(i=_2n$1;i<e&&pow(i,t,e)!==e-_1n$3;i++);if(r===1){const o=(e+_1n$3)/_4n;return function(u,c){const d=u.pow(c,o);if(!u.eql(u.sqr(d),c))throw new Error("Cannot find square root");return d}}const s=(n+_1n$3)/_2n$1;return function(a,u){if(a.pow(u,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=r,d=a.pow(a.mul(a.ONE,i),n),f=a.pow(u,s),m=a.pow(u,n);for(;!a.eql(m,a.ONE);){if(a.eql(m,a.ZERO))return a.ZERO;let h=1;for(let y=a.sqr(m);h<c&&!a.eql(y,a.ONE);h++)y=a.sqr(y);const _=a.pow(d,_1n$3<<BigInt(c-h-1));d=a.sqr(_),f=a.mul(f,_),m=a.mul(m,d),c=h}return f}}function FpSqrt(e){if(e%_4n===_3n$1){const t=(e+_1n$3)/_4n;return function(r,i){const s=r.pow(i,t);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(e%_8n===_5n){const t=(e-_5n)/_8n;return function(r,i){const s=r.mul(i,_2n$1),o=r.pow(s,t),a=r.mul(i,o),u=r.mul(r.mul(a,_2n$1),o),c=r.mul(a,r.sub(u,r.ONE));if(!r.eql(r.sqr(c),i))throw new Error("Cannot find square root");return c}}return tonelliShanks(e)}const FIELD_FIELDS=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=FIELD_FIELDS.reduce((r,i)=>(r[i]="function",r),t);return validateObject(e,n)}function FpPow(e,t,n){if(n<_0n$2)throw new Error("Expected power > 0");if(n===_0n$2)return e.ONE;if(n===_1n$3)return t;let r=e.ONE,i=t;for(;n>_0n$2;)n&_1n$3&&(r=e.mul(r,i)),i=e.sqr(i),n>>=_1n$3;return r}function FpInvertBatch(e,t){const n=new Array(t.length),r=t.reduce((s,o,a)=>e.is0(o)?s:(n[a]=s,e.mul(s,o)),e.ONE),i=e.inv(r);return t.reduceRight((s,o,a)=>e.is0(o)?s:(n[a]=e.mul(s,n[a]),e.mul(s,o)),i),n}function nLength(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Field(e,t,n=!1,r={}){if(e<=_0n$2)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:s}=nLength(e,t);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=FpSqrt(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:s,MASK:bitMask(i),ZERO:_0n$2,ONE:_1n$3,create:u=>mod(u,e),isValid:u=>{if(typeof u!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof u}`);return _0n$2<=u&&u<e},is0:u=>u===_0n$2,isOdd:u=>(u&_1n$3)===_1n$3,neg:u=>mod(-u,e),eql:(u,c)=>u===c,sqr:u=>mod(u*u,e),add:(u,c)=>mod(u+c,e),sub:(u,c)=>mod(u-c,e),mul:(u,c)=>mod(u*c,e),pow:(u,c)=>FpPow(a,u,c),div:(u,c)=>mod(u*invert(c,e),e),sqrN:u=>u*u,addN:(u,c)=>u+c,subN:(u,c)=>u-c,mulN:(u,c)=>u*c,inv:u=>invert(u,e),sqrt:r.sqrt||(u=>o(a,u)),invertBatch:u=>FpInvertBatch(a,u),cmov:(u,c,d)=>d?c:u,toBytes:u=>n?numberToBytesLE(u,s):numberToBytesBE(u,s),fromBytes:u=>{if(u.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${u.length}`);return n?bytesToNumberLE(u):bytesToNumberBE(u)}});return Object.freeze(a)}function getFieldBytesLength(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function getMinHashLength(e){const t=getFieldBytesLength(e);return t+Math.ceil(t/2)}function mapHashToField(e,t,n=!1){const r=e.length,i=getFieldBytesLength(t),s=getMinHashLength(t);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);const o=n?bytesToNumberBE(e):bytesToNumberLE(e),a=mod(o,t-_1n$3)+_1n$3;return n?numberToBytesLE(a,i):numberToBytesBE(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$1=BigInt(0),_1n$2=BigInt(1);function wNAF(e,t){const n=(i,s)=>{const o=s.negate();return i?o:s},r=i=>{const s=Math.ceil(t/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:n,unsafeLadder(i,s){let o=e.ZERO,a=i;for(;s>_0n$1;)s&_1n$2&&(o=o.add(a)),a=a.double(),s>>=_1n$2;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=r(s),u=[];let c=i,d=c;for(let f=0;f<o;f++){d=c,u.push(d);for(let m=1;m<a;m++)d=d.add(c),u.push(d);c=d.double()}return u},wNAF(i,s,o){const{windows:a,windowSize:u}=r(i);let c=e.ZERO,d=e.BASE;const f=BigInt(2**i-1),m=2**i,h=BigInt(i);for(let _=0;_<a;_++){const y=_*u;let p=Number(o&f);o>>=h,p>u&&(p-=m,o+=_1n$2);const w=y,T=y+Math.abs(p)-1,E=_%2!==0,S=p<0;p===0?d=d.add(n(E,s[w])):c=c.add(n(S,s[T]))}return{p:c,f:d}},wNAFCached(i,s,o,a){const u=i._WINDOW_SIZE||1;let c=s.get(i);return c||(c=this.precomputeWindow(i,u),u!==1&&s.set(i,a(c))),this.wNAF(u,c,o)}}}function validateBasic(e){return validateField(e.Fp),validateObject(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function validatePointOpts(e){const t=validateBasic(e);validateObject(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:b2n,hexToBytes:h2b}=ut,DER={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){const{Err:t}=DER;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(r[0]&128)throw new t("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:b2n(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=DER,n=typeof e=="string"?h2b(e):e;abytes(n);let r=n.length;if(r<2||n[0]!=48)throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:i,l:s}=DER._parseInt(n.subarray(2)),{d:o,l:a}=DER._parseInt(s);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(e){const t=c=>Number.parseInt(c[0],16)&8?"00"+c:c,n=c=>{const d=c.toString(16);return d.length&1?`0${d}`:d},r=t(n(e.s)),i=t(n(e.r)),s=r.length/2,o=i.length/2,a=n(s),u=n(o);return`30${n(o+s+4)}02${u}${i}02${a}${r}`}},_0n=BigInt(0),_1n$1=BigInt(1);BigInt(2);const _3n=BigInt(3);BigInt(4);function weierstrassPoints(e){const t=validatePointOpts(e),{Fp:n}=t,r=t.toBytes||((_,y,p)=>{const w=y.toAffine();return concatBytes$1(Uint8Array.from([4]),n.toBytes(w.x),n.toBytes(w.y))}),i=t.fromBytes||(_=>{const y=_.subarray(1),p=n.fromBytes(y.subarray(0,n.BYTES)),w=n.fromBytes(y.subarray(n.BYTES,2*n.BYTES));return{x:p,y:w}});function s(_){const{a:y,b:p}=t,w=n.sqr(_),T=n.mul(w,_);return n.add(n.add(T,n.mul(_,y)),p)}if(!n.eql(n.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function o(_){return typeof _=="bigint"&&_0n<_&&_<t.n}function a(_){if(!o(_))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function u(_){const{allowedPrivateKeyLengths:y,nByteLength:p,wrapPrivateKey:w,n:T}=t;if(y&&typeof _!="bigint"){if(isBytes(_)&&(_=bytesToHex$1(_)),typeof _!="string"||!y.includes(_.length))throw new Error("Invalid key");_=_.padStart(p*2,"0")}let E;try{E=typeof _=="bigint"?_:bytesToNumberBE(ensureBytes("private key",_,p))}catch{throw new Error(`private key must be ${p} bytes, hex or bigint, not ${typeof _}`)}return w&&(E=mod(E,T)),a(E),E}const c=new Map;function d(_){if(!(_ instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(y,p,w){if(this.px=y,this.py=p,this.pz=w,y==null||!n.isValid(y))throw new Error("x required");if(p==null||!n.isValid(p))throw new Error("y required");if(w==null||!n.isValid(w))throw new Error("z required")}static fromAffine(y){const{x:p,y:w}=y||{};if(!y||!n.isValid(p)||!n.isValid(w))throw new Error("invalid affine point");if(y instanceof f)throw new Error("projective point not allowed");const T=E=>n.eql(E,n.ZERO);return T(p)&&T(w)?f.ZERO:new f(p,w,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){const p=n.invertBatch(y.map(w=>w.pz));return y.map((w,T)=>w.toAffine(p[T])).map(f.fromAffine)}static fromHex(y){const p=f.fromAffine(i(ensureBytes("pointHex",y)));return p.assertValidity(),p}static fromPrivateKey(y){return f.BASE.multiply(u(y))}_setWindowSize(y){this._WINDOW_SIZE=y,c.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:y,y:p}=this.toAffine();if(!n.isValid(y)||!n.isValid(p))throw new Error("bad point: x or y not FE");const w=n.sqr(p),T=s(y);if(!n.eql(w,T))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y}=this.toAffine();if(n.isOdd)return!n.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){d(y);const{px:p,py:w,pz:T}=this,{px:E,py:S,pz:C}=y,N=n.eql(n.mul(p,C),n.mul(E,T)),A=n.eql(n.mul(w,C),n.mul(S,T));return N&&A}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){const{a:y,b:p}=t,w=n.mul(p,_3n),{px:T,py:E,pz:S}=this;let C=n.ZERO,N=n.ZERO,A=n.ZERO,x=n.mul(T,T),L=n.mul(E,E),v=n.mul(S,S),I=n.mul(T,E);return I=n.add(I,I),A=n.mul(T,S),A=n.add(A,A),C=n.mul(y,A),N=n.mul(w,v),N=n.add(C,N),C=n.sub(L,N),N=n.add(L,N),N=n.mul(C,N),C=n.mul(I,C),A=n.mul(w,A),v=n.mul(y,v),I=n.sub(x,v),I=n.mul(y,I),I=n.add(I,A),A=n.add(x,x),x=n.add(A,x),x=n.add(x,v),x=n.mul(x,I),N=n.add(N,x),v=n.mul(E,S),v=n.add(v,v),x=n.mul(v,I),C=n.sub(C,x),A=n.mul(v,L),A=n.add(A,A),A=n.add(A,A),new f(C,N,A)}add(y){d(y);const{px:p,py:w,pz:T}=this,{px:E,py:S,pz:C}=y;let N=n.ZERO,A=n.ZERO,x=n.ZERO;const L=t.a,v=n.mul(t.b,_3n);let I=n.mul(p,E),R=n.mul(w,S),O=n.mul(T,C),g=n.add(p,w),l=n.add(E,S);g=n.mul(g,l),l=n.add(I,R),g=n.sub(g,l),l=n.add(p,T);let b=n.add(E,C);return l=n.mul(l,b),b=n.add(I,O),l=n.sub(l,b),b=n.add(w,T),N=n.add(S,C),b=n.mul(b,N),N=n.add(R,O),b=n.sub(b,N),x=n.mul(L,l),N=n.mul(v,O),x=n.add(N,x),N=n.sub(R,x),x=n.add(R,x),A=n.mul(N,x),R=n.add(I,I),R=n.add(R,I),O=n.mul(L,O),l=n.mul(v,l),R=n.add(R,O),O=n.sub(I,O),O=n.mul(L,O),l=n.add(l,O),I=n.mul(R,l),A=n.add(A,I),I=n.mul(b,l),N=n.mul(g,N),N=n.sub(N,I),I=n.mul(g,R),x=n.mul(b,x),x=n.add(x,I),new f(N,A,x)}subtract(y){return this.add(y.negate())}is0(){return this.equals(f.ZERO)}wNAF(y){return h.wNAFCached(this,c,y,p=>{const w=n.invertBatch(p.map(T=>T.pz));return p.map((T,E)=>T.toAffine(w[E])).map(f.fromAffine)})}multiplyUnsafe(y){const p=f.ZERO;if(y===_0n)return p;if(a(y),y===_1n$1)return this;const{endo:w}=t;if(!w)return h.unsafeLadder(this,y);let{k1neg:T,k1:E,k2neg:S,k2:C}=w.splitScalar(y),N=p,A=p,x=this;for(;E>_0n||C>_0n;)E&_1n$1&&(N=N.add(x)),C&_1n$1&&(A=A.add(x)),x=x.double(),E>>=_1n$1,C>>=_1n$1;return T&&(N=N.negate()),S&&(A=A.negate()),A=new f(n.mul(A.px,w.beta),A.py,A.pz),N.add(A)}multiply(y){a(y);let p=y,w,T;const{endo:E}=t;if(E){const{k1neg:S,k1:C,k2neg:N,k2:A}=E.splitScalar(p);let{p:x,f:L}=this.wNAF(C),{p:v,f:I}=this.wNAF(A);x=h.constTimeNegate(S,x),v=h.constTimeNegate(N,v),v=new f(n.mul(v.px,E.beta),v.py,v.pz),w=x.add(v),T=L.add(I)}else{const{p:S,f:C}=this.wNAF(p);w=S,T=C}return f.normalizeZ([w,T])[0]}multiplyAndAddUnsafe(y,p,w){const T=f.BASE,E=(C,N)=>N===_0n||N===_1n$1||!C.equals(T)?C.multiplyUnsafe(N):C.multiply(N),S=E(this,p).add(E(y,w));return S.is0()?void 0:S}toAffine(y){const{px:p,py:w,pz:T}=this,E=this.is0();y==null&&(y=E?n.ONE:n.inv(T));const S=n.mul(p,y),C=n.mul(w,y),N=n.mul(T,y);if(E)return{x:n.ZERO,y:n.ZERO};if(!n.eql(N,n.ONE))throw new Error("invZ was invalid");return{x:S,y:C}}isTorsionFree(){const{h:y,isTorsionFree:p}=t;if(y===_1n$1)return!0;if(p)return p(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:y,clearCofactor:p}=t;return y===_1n$1?this:p?p(f,this):this.multiplyUnsafe(t.h)}toRawBytes(y=!0){return this.assertValidity(),r(f,this,y)}toHex(y=!0){return bytesToHex$1(this.toRawBytes(y))}}f.BASE=new f(t.Gx,t.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);const m=t.nBitLength,h=wNAF(f,t.endo?Math.ceil(m/2):m);return{CURVE:t,ProjectivePoint:f,normPrivateKeyToScalar:u,weierstrassEquation:s,isWithinCurveOrder:o}}function validateOpts(e){const t=validateBasic(e);return validateObject(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function weierstrass(e){const t=validateOpts(e),{Fp:n,n:r}=t,i=n.BYTES+1,s=2*n.BYTES+1;function o(l){return _0n<l&&l<n.ORDER}function a(l){return mod(l,r)}function u(l){return invert(l,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:d,weierstrassEquation:f,isWithinCurveOrder:m}=weierstrassPoints({...t,toBytes(l,b,$){const B=b.toAffine(),k=n.toBytes(B.x),P=concatBytes$1;return $?P(Uint8Array.from([b.hasEvenY()?2:3]),k):P(Uint8Array.from([4]),k,n.toBytes(B.y))},fromBytes(l){const b=l.length,$=l[0],B=l.subarray(1);if(b===i&&($===2||$===3)){const k=bytesToNumberBE(B);if(!o(k))throw new Error("Point is not on curve");const P=f(k);let D;try{D=n.sqrt(P)}catch(U){const F=U instanceof Error?": "+U.message:"";throw new Error("Point is not on curve"+F)}const M=(D&_1n$1)===_1n$1;return($&1)===1!==M&&(D=n.neg(D)),{x:k,y:D}}else if(b===s&&$===4){const k=n.fromBytes(B.subarray(0,n.BYTES)),P=n.fromBytes(B.subarray(n.BYTES,2*n.BYTES));return{x:k,y:P}}else throw new Error(`Point of length ${b} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),h=l=>bytesToHex$1(numberToBytesBE(l,t.nByteLength));function _(l){const b=r>>_1n$1;return l>b}function y(l){return _(l)?a(-l):l}const p=(l,b,$)=>bytesToNumberBE(l.slice(b,$));class w{constructor(b,$,B){this.r=b,this.s=$,this.recovery=B,this.assertValidity()}static fromCompact(b){const $=t.nByteLength;return b=ensureBytes("compactSignature",b,$*2),new w(p(b,0,$),p(b,$,2*$))}static fromDER(b){const{r:$,s:B}=DER.toSig(ensureBytes("DER",b));return new w($,B)}assertValidity(){if(!m(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!m(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(b){return new w(this.r,this.s,b)}recoverPublicKey(b){const{r:$,s:B,recovery:k}=this,P=A(ensureBytes("msgHash",b));if(k==null||![0,1,2,3].includes(k))throw new Error("recovery id invalid");const D=k===2||k===3?$+t.n:$;if(D>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const M=k&1?"03":"02",Z=c.fromHex(M+h(D)),U=u(D),F=a(-P*U),X=a(B*U),j=c.BASE.multiplyAndAddUnsafe(Z,F,X);if(!j)throw new Error("point at infinify");return j.assertValidity(),j}hasHighS(){return _(this.s)}normalizeS(){return this.hasHighS()?new w(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return hexToBytes$1(this.toDERHex())}toDERHex(){return DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return hexToBytes$1(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const T={isValidPrivateKey(l){try{return d(l),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const l=getMinHashLength(t.n);return mapHashToField(t.randomBytes(l),t.n)},precompute(l=8,b=c.BASE){return b._setWindowSize(l),b.multiply(BigInt(3)),b}};function E(l,b=!0){return c.fromPrivateKey(l).toRawBytes(b)}function S(l){const b=isBytes(l),$=typeof l=="string",B=(b||$)&&l.length;return b?B===i||B===s:$?B===2*i||B===2*s:l instanceof c}function C(l,b,$=!0){if(S(l))throw new Error("first arg must be private key");if(!S(b))throw new Error("second arg must be public key");return c.fromHex(b).multiply(d(l)).toRawBytes($)}const N=t.bits2int||function(l){const b=bytesToNumberBE(l),$=l.length*8-t.nBitLength;return $>0?b>>BigInt($):b},A=t.bits2int_modN||function(l){return a(N(l))},x=bitMask(t.nBitLength);function L(l){if(typeof l!="bigint")throw new Error("bigint expected");if(!(_0n<=l&&l<x))throw new Error(`bigint expected < 2^${t.nBitLength}`);return numberToBytesBE(l,t.nByteLength)}function v(l,b,$=I){if(["recovered","canonical"].some(V=>V in $))throw new Error("sign() legacy options not supported");const{hash:B,randomBytes:k}=t;let{lowS:P,prehash:D,extraEntropy:M}=$;P==null&&(P=!0),l=ensureBytes("msgHash",l),D&&(l=ensureBytes("prehashed msgHash",B(l)));const Z=A(l),U=d(b),F=[L(U),L(Z)];if(M!=null&&M!==!1){const V=M===!0?k(n.BYTES):M;F.push(ensureBytes("extraEntropy",V))}const X=concatBytes$1(...F),j=Z;function J(V){const q=N(V);if(!m(q))return;const Q=u(q),G=c.BASE.multiply(q).toAffine(),H=a(G.x);if(H===_0n)return;const Y=a(Q*a(j+H*U));if(Y===_0n)return;let ee=(G.x===H?0:2)|Number(G.y&_1n$1),te=Y;return P&&_(Y)&&(te=y(Y),ee^=1),new w(H,te,ee)}return{seed:X,k2sig:J}}const I={lowS:t.lowS,prehash:!1},R={lowS:t.lowS,prehash:!1};function O(l,b,$=I){const{seed:B,k2sig:k}=v(l,b,$),P=t;return createHmacDrbg(P.hash.outputLen,P.nByteLength,P.hmac)(B,k)}c.BASE._setWindowSize(8);function g(l,b,$,B=R){var G;const k=l;if(b=ensureBytes("msgHash",b),$=ensureBytes("publicKey",$),"strict"in B)throw new Error("options.strict was renamed to lowS");const{lowS:P,prehash:D}=B;let M,Z;try{if(typeof k=="string"||isBytes(k))try{M=w.fromDER(k)}catch(H){if(!(H instanceof DER.Err))throw H;M=w.fromCompact(k)}else if(typeof k=="object"&&typeof k.r=="bigint"&&typeof k.s=="bigint"){const{r:H,s:Y}=k;M=new w(H,Y)}else throw new Error("PARSE");Z=c.fromHex($)}catch(H){if(H.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(P&&M.hasHighS())return!1;D&&(b=t.hash(b));const{r:U,s:F}=M,X=A(b),j=u(F),J=a(X*j),V=a(U*j),q=(G=c.BASE.multiplyAndAddUnsafe(Z,J,V))==null?void 0:G.toAffine();return q?a(q.x)===U:!1}return{CURVE:t,getPublicKey:E,getSharedSecret:C,sign:O,verify:g,ProjectivePoint:c,Signature:w,utils:T}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function getHash(e){return{hash:e,hmac:(t,...n)=>hmac(e,t,concatBytes$2(...n)),randomBytes:randomBytes$1}}function createCurve(e,t){const n=r=>weierstrass({...e,...getHash(r)});return Object.freeze({...n(t),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const secp256k1P=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),secp256k1N=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_1n=BigInt(1),_2n=BigInt(2),divNearest=(e,t)=>(e+t/_2n)/t;function sqrtMod(e){const t=secp256k1P,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),u=BigInt(88),c=e*e*e%t,d=c*c*e%t,f=pow2(d,n,t)*d%t,m=pow2(f,n,t)*d%t,h=pow2(m,_2n,t)*c%t,_=pow2(h,i,t)*h%t,y=pow2(_,s,t)*_%t,p=pow2(y,a,t)*y%t,w=pow2(p,u,t)*p%t,T=pow2(w,a,t)*y%t,E=pow2(T,n,t)*d%t,S=pow2(E,o,t)*_%t,C=pow2(S,r,t)*c%t,N=pow2(C,_2n,t);if(!Fp.eql(Fp.sqr(N),e))throw new Error("Cannot find square root");return N}const Fp=Field(secp256k1P,void 0,void 0,{sqrt:sqrtMod}),secp256k1$1=createCurve({a:BigInt(0),b:BigInt(7),Fp,n:secp256k1N,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=secp256k1N,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-_1n*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=divNearest(s*e,t),u=divNearest(-r*e,t);let c=mod(e-a*n-u*i,t),d=mod(-a*r-u*s,t);const f=c>o,m=d>o;if(f&&(c=t-c),m&&(d=t-d),c>o||d>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:c,k2neg:m,k2:d}}}},sha256);BigInt(0);secp256k1$1.ProjectivePoint;const ethereumCryptography=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:secp256k1$1},Symbol.toStringTag,{value:"Module"}));var _a;const secp256k1=(_a=secp256k1$1)!==null&&_a!==void 0?_a:ethereumCryptography;BigInt("0xffffffffffffffff");BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const SECP256K1_ORDER=secp256k1.CURVE.n;SECP256K1_ORDER/BigInt(2);var Chain;(function(e){e[e.Mainnet=1]="Mainnet",e[e.Goerli=5]="Goerli",e[e.Sepolia=11155111]="Sepolia"})(Chain||(Chain={}));var Hardfork;(function(e){e.Chainstart="chainstart",e.Homestead="homestead",e.Dao="dao",e.TangerineWhistle="tangerineWhistle",e.SpuriousDragon="spuriousDragon",e.Byzantium="byzantium",e.Constantinople="constantinople",e.Petersburg="petersburg",e.Istanbul="istanbul",e.MuirGlacier="muirGlacier",e.Berlin="berlin",e.London="london",e.ArrowGlacier="arrowGlacier",e.GrayGlacier="grayGlacier",e.MergeForkIdTransition="mergeForkIdTransition",e.Merge="merge",e.Shanghai="shanghai",e.ShardingForkDev="shardingFork"})(Hardfork||(Hardfork={}));var ConsensusType;(function(e){e.ProofOfStake="pos",e.ProofOfWork="pow",e.ProofOfAuthority="poa"})(ConsensusType||(ConsensusType={}));var ConsensusAlgorithm;(function(e){e.Ethash="ethash",e.Clique="clique",e.Casper="casper"})(ConsensusAlgorithm||(ConsensusAlgorithm={}));var CustomChain;(function(e){e.PolygonMainnet="polygon-mainnet",e.PolygonMumbai="polygon-mumbai",e.ArbitrumRinkebyTestnet="arbitrum-rinkeby-testnet",e.ArbitrumOne="arbitrum-one",e.xDaiChain="x-dai-chain",e.OptimisticKovan="optimistic-kovan",e.OptimisticEthereum="optimistic-ethereum"})(CustomChain||(CustomChain={}));var TypeOutput;(function(e){e[e.Number=0]="Number",e[e.BigInt=1]="BigInt",e[e.Uint8Array=2]="Uint8Array",e[e.PrefixedHexString=3]="PrefixedHexString"})(TypeOutput||(TypeOutput={}));var dist={};Object.defineProperty(dist,"__esModule",{value:!0});dist.RLP=dist.utils=dist.decode=dist.encode=void 0;function encode(e){if(Array.isArray(e)){const n=[];let r=0;for(let i=0;i<e.length;i++){const s=encode(e[i]);n.push(s),r+=s.length}return concatBytes(encodeLength(r,192),...n)}const t=toBytes(e);return t.length===1&&t[0]<128?t:concatBytes(encodeLength(t.length,128),t)}dist.encode=encode;function safeSlice(e,t,n){if(n>e.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return e.slice(t,n)}function decodeLength(e){if(e[0]===0)throw new Error("invalid RLP: extra zeros");return parseHexByte(bytesToHex(e))}function encodeLength(e,t){if(e<56)return Uint8Array.from([e+t]);const n=numberToHex(e),r=n.length/2,i=numberToHex(t+55+r);return Uint8Array.from(hexToBytes(i+n))}function decode(e,t=!1){if(typeof e>"u"||e===null||e.length===0)return Uint8Array.from([]);const n=toBytes(e),r=_decode(n);if(t)return r;if(r.remainder.length!==0)throw new Error("invalid RLP: remainder must be zero");return r.data}dist.decode=decode;function _decode(e){let t,n,r,i,s;const o=[],a=e[0];if(a<=127)return{data:e.slice(0,1),remainder:e.slice(1)};if(a<=183){if(t=a-127,a===128?r=Uint8Array.from([]):r=safeSlice(e,1,t),t===2&&r[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:r,remainder:e.slice(t)}}else if(a<=191){if(n=a-182,e.length-1<n)throw new Error("invalid RLP: not enough bytes for string length");if(t=decodeLength(safeSlice(e,1,n)),t<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return r=safeSlice(e,n,t+n),{data:r,remainder:e.slice(t+n)}}else if(a<=247){for(t=a-191,i=safeSlice(e,1,t);i.length;)s=_decode(i),o.push(s.data),i=s.remainder;return{data:o,remainder:e.slice(t)}}else{if(n=a-246,t=decodeLength(safeSlice(e,1,n)),t<56)throw new Error("invalid RLP: encoded list too short");const u=n+t;if(u>e.length)throw new Error("invalid RLP: total length is larger than the data");for(i=safeSlice(e,n,u);i.length;)s=_decode(i),o.push(s.data),i=s.remainder;return{data:o,remainder:e.slice(u)}}}const cachedHexes=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function bytesToHex(e){let t="";for(let n=0;n<e.length;n++)t+=cachedHexes[e[n]];return t}function parseHexByte(e){const t=Number.parseInt(e,16);if(Number.isNaN(t))throw new Error("Invalid byte sequence");return t}function hexToBytes(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=n*2;t[n]=parseHexByte(e.slice(r,r+2))}return t}function concatBytes(...e){if(e.length===1)return e[0];const t=e.reduce((r,i)=>r+i.length,0),n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const s=e[r];n.set(s,i),i+=s.length}return n}function utf8ToBytes(e){return new TextEncoder().encode(e)}function numberToHex(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");const t=e.toString(16);return t.length%2?`0${t}`:t}function padToEven(e){return e.length%2?`0${e}`:e}function isHexPrefixed(e){return e.length>=2&&e[0]==="0"&&e[1]==="x"}function stripHexPrefix(e){return typeof e!="string"?e:isHexPrefixed(e)?e.slice(2):e}function toBytes(e){if(e instanceof Uint8Array)return e;if(typeof e=="string")return isHexPrefixed(e)?hexToBytes(padToEven(stripHexPrefix(e))):utf8ToBytes(e);if(typeof e=="number"||typeof e=="bigint")return e?hexToBytes(numberToHex(e)):Uint8Array.from([]);if(e==null)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof e)}dist.utils={bytesToHex,concatBytes,hexToBytes,utf8ToBytes};dist.RLP={encode,decode};var crc32={};/*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com */(function(e){(function(t){t(typeof DO_NOT_EXPORT_CRC>"u"?e:{})})(function(t){t.version="1.2.2";function n(){for(var x=0,L=new Array(256),v=0;v!=256;++v)x=v,x=x&1?-306674912^x>>>1:x>>>1,x=x&1?-306674912^x>>>1:x>>>1,x=x&1?-306674912^x>>>1:x>>>1,x=x&1?-306674912^x>>>1:x>>>1,x=x&1?-306674912^x>>>1:x>>>1,x=x&1?-306674912^x>>>1:x>>>1,x=x&1?-306674912^x>>>1:x>>>1,x=x&1?-306674912^x>>>1:x>>>1,L[v]=x;return typeof Int32Array<"u"?new Int32Array(L):L}var r=n();function i(x){var L=0,v=0,I=0,R=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(I=0;I!=256;++I)R[I]=x[I];for(I=0;I!=256;++I)for(v=x[I],L=256+I;L<4096;L+=256)v=R[L]=v>>>8^x[v&255];var O=[];for(I=1;I!=16;++I)O[I-1]=typeof Int32Array<"u"?R.subarray(I*256,I*256+256):R.slice(I*256,I*256+256);return O}var s=i(r),o=s[0],a=s[1],u=s[2],c=s[3],d=s[4],f=s[5],m=s[6],h=s[7],_=s[8],y=s[9],p=s[10],w=s[11],T=s[12],E=s[13],S=s[14];function C(x,L){for(var v=L^-1,I=0,R=x.length;I<R;)v=v>>>8^r[(v^x.charCodeAt(I++))&255];return~v}function N(x,L){for(var v=L^-1,I=x.length-15,R=0;R<I;)v=S[x[R++]^v&255]^E[x[R++]^v>>8&255]^T[x[R++]^v>>16&255]^w[x[R++]^v>>>24]^p[x[R++]]^y[x[R++]]^_[x[R++]]^h[x[R++]]^m[x[R++]]^f[x[R++]]^d[x[R++]]^c[x[R++]]^u[x[R++]]^a[x[R++]]^o[x[R++]]^r[x[R++]];for(I+=15;R<I;)v=v>>>8^r[(v^x[R++])&255];return~v}function A(x,L){for(var v=L^-1,I=0,R=x.length,O=0,g=0;I<R;)O=x.charCodeAt(I++),O<128?v=v>>>8^r[(v^O)&255]:O<2048?(v=v>>>8^r[(v^(192|O>>6&31))&255],v=v>>>8^r[(v^(128|O&63))&255]):O>=55296&&O<57344?(O=(O&1023)+64,g=x.charCodeAt(I++)&1023,v=v>>>8^r[(v^(240|O>>8&7))&255],v=v>>>8^r[(v^(128|O>>2&63))&255],v=v>>>8^r[(v^(128|g>>6&15|(O&3)<<4))&255],v=v>>>8^r[(v^(128|g&63))&255]):(v=v>>>8^r[(v^(224|O>>12&15))&255],v=v>>>8^r[(v^(128|O>>6&63))&255],v=v>>>8^r[(v^(128|O&63))&255]);return~v}t.table=r,t.bstr=C,t.buf=N,t.str=A})})(crc32);var Capability;(function(e){e[e.EIP155ReplayProtection=155]="EIP155ReplayProtection",e[e.EIP1559FeeMarket=1559]="EIP1559FeeMarket",e[e.EIP2718TypedTransaction=2718]="EIP2718TypedTransaction",e[e.EIP2930AccessLists=2930]="EIP2930AccessLists"})(Capability||(Capability={}));const TRANSACTION_TYPE$1=2;hexToBytes$2(TRANSACTION_TYPE$1.toString(16).padStart(2,"0"));const TRANSACTION_TYPE=1;hexToBytes$2(TRANSACTION_TYPE.toString(16).padStart(2,"0"));class Iban{constructor(t){if(this.toAddress=()=>{if(this.isDirect()){const n=this._iban.slice(4),r=Iban._parseInt(n,36),i=leftPad(r,40);return toChecksumAddress(i)}throw new Error("Iban is indirect and cannot be converted. Must be length of 34 or 35")},Iban.isIndirect(t)||Iban.isDirect(t))this._iban=t;else throw new Error("Invalid IBAN was provided")}static isDirect(t){return t.length===34||t.length===35}isDirect(){return Iban.isDirect(this._iban)}static isIndirect(t){return t.length===20}isIndirect(){return Iban.isIndirect(this._iban)}static isValid(t){return/^XE[0-9]{2}(ETH[0-9A-Z]{13}|[0-9A-Z]{30,31})$/.test(t)&&Iban._mod9710(Iban._iso13616Prepare(t))===1}isValid(){return Iban.isValid(this._iban)}static fromBban(t){const n="XE",i=`0${(98-this._mod9710(this._iso13616Prepare(`${n}00${t}`))).toString()}`.slice(-2);return new Iban(`${n}${i}${t}`)}static createIndirect(t){return Iban.fromBban(`ETH${t.institution}${t.identifier}`)}static fromAddress(t){if(!isAddress(t))throw new InvalidAddressError(t);const r=BigInt(hexToNumber$1(t)).toString(36),i=leftPad(r,15);return Iban.fromBban(i.toUpperCase())}static toIban(t){return Iban.fromAddress(t).toString()}client(){return this.isIndirect()?this._iban.slice(11):""}checksum(){return this._iban.slice(2,4)}institution(){return this.isIndirect()?this._iban.slice(7,11):""}toString(){return this._iban}}Iban._iso13616Prepare=e=>{const r=e.toUpperCase();return`${r.slice(4)}${r.slice(0,4)}`.split("").map(s=>{const o=s.charCodeAt(0);return o>=65&&o<=90?o-65+10:s}).join("")};Iban._parseInt=(e,t)=>[...e].reduce((n,r)=>BigInt(parseInt(r,t))+BigInt(t)*n,BigInt(0));Iban._mod9710=e=>{let t=e,n;for(;t.length>2;)n=t.slice(0,9),t=`${(parseInt(n,10)%97).toString()}${t.slice(n.length)}`;return parseInt(t,10)%97};Iban.toAddress=e=>new Iban(e).toAddress();(function(e,t){if(e.setImmediate)return;var n=1,r={},i=!1,s=e.document,o;function a(T){typeof T!="function"&&(T=new Function(""+T));for(var E=new Array(arguments.length-1),S=0;S<E.length;S++)E[S]=arguments[S+1];var C={callback:T,args:E};return r[n]=C,o(n),n++}function u(T){delete r[T]}function c(T){var E=T.callback,S=T.args;switch(S.length){case 0:E();break;case 1:E(S[0]);break;case 2:E(S[0],S[1]);break;case 3:E(S[0],S[1],S[2]);break;default:E.apply(t,S);break}}function d(T){if(i)setTimeout(d,0,T);else{var E=r[T];if(E){i=!0;try{c(E)}finally{u(T),i=!1}}}}function f(){o=function(T){process.nextTick(function(){d(T)})}}function m(){if(e.postMessage&&!e.importScripts){var T=!0,E=e.onmessage;return e.onmessage=function(){T=!1},e.postMessage("","*"),e.onmessage=E,T}}function h(){var T="setImmediate$"+Math.random()+"$",E=function(S){S.source===e&&typeof S.data=="string"&&S.data.indexOf(T)===0&&d(+S.data.slice(T.length))};e.addEventListener?e.addEventListener("message",E,!1):e.attachEvent("onmessage",E),o=function(S){e.postMessage(T+S,"*")}}function _(){var T=new MessageChannel;T.port1.onmessage=function(E){var S=E.data;d(S)},o=function(E){T.port2.postMessage(E)}}function y(){var T=s.documentElement;o=function(E){var S=s.createElement("script");S.onreadystatechange=function(){d(E),S.onreadystatechange=null,T.removeChild(S),S=null},T.appendChild(S)}}function p(){o=function(T){setTimeout(d,0,T)}}var w=Object.getPrototypeOf&&Object.getPrototypeOf(e);w=w&&w.setTimeout?w:e,{}.toString.call(globalThis.process)==="[object process]"?f():m()?h():e.MessageChannel?_():s&&"onreadystatechange"in s.createElement("script")?y():p(),w.setImmediate=a,w.clearImmediate=u})(typeof self>"u"?typeof commonjsGlobal$1>"u"?commonjsGlobal$1:commonjsGlobal$1:self);const accessListItemSchema={type:"object",properties:{address:{format:"address"},storageKeys:{type:"array",items:{format:"bytes32"}}}},accessListSchema={type:"array",items:Object.assign({},accessListItemSchema)};Object.assign({},accessListSchema);const chainSchema={type:"string",enum:["goerli","kovan","mainnet","rinkeby","ropsten","sepolia"]},hardforkSchema={type:"string",enum:["arrowGlacier","berlin","byzantium","chainstart","constantinople","dao","homestead","istanbul","london","merge","muirGlacier","petersburg","shanghai","spuriousDragon","tangerineWhistle"]},customChainSchema={type:"object",properties:{name:{format:"string"},networkId:{format:"uint"},chainId:{format:"uint"}}},transactionSchema={type:"object",properties:{from:{format:"address"},to:{oneOf:[{format:"address"},{type:"null"}]},value:{format:"uint"},gas:{format:"uint"},gasPrice:{format:"uint"},effectiveGasPrice:{format:"uint"},type:{format:"uint"},maxFeePerGas:{format:"uint"},maxPriorityFeePerGas:{format:"uint"},accessList:Object.assign({},accessListSchema),data:{format:"bytes"},input:{format:"bytes"},nonce:{format:"uint"},chain:Object.assign({},chainSchema),hardfork:Object.assign({},hardforkSchema),chainId:{format:"uint"},networkId:{format:"uint"},common:{type:"object",properties:{customChain:Object.assign({},customChainSchema),baseChain:Object.assign({},chainSchema),hardfork:Object.assign({},hardforkSchema)}},gasLimit:{format:"uint"},v:{format:"uint"},r:{format:"bytes32"},s:{format:"bytes32"}}},transactionInfoSchema={type:"object",properties:Object.assign(Object.assign({},transactionSchema.properties),{blockHash:{format:"bytes32"},blockNumber:{format:"uint"},hash:{format:"bytes32"},transactionIndex:{format:"uint"},from:{format:"address"},to:{oneOf:[{format:"address"},{type:"null"}]},value:{format:"uint"},gas:{format:"uint"},gasPrice:{format:"uint"},effectiveGasPrice:{format:"uint"},type:{format:"uint"},maxFeePerGas:{format:"uint"},maxPriorityFeePerGas:{format:"uint"},accessList:Object.assign({},accessListSchema),data:{format:"bytes"},input:{format:"bytes"},nonce:{format:"uint"},gasLimit:{format:"uint"},v:{format:"uint"},r:{format:"bytes32"},s:{format:"bytes32"}})},withdrawalsSchema={type:"object",properties:{index:{format:"uint"},validatorIndex:{format:"uint"},address:{format:"address"},amount:{format:"uint"}}};Object.assign({},transactionInfoSchema),Object.assign({},withdrawalsSchema);Object.assign({},withdrawalsSchema);const logSchema={type:"object",properties:{removed:{format:"bool"},logIndex:{format:"uint"},transactionIndex:{format:"uint"},transactionHash:{format:"bytes32"},blockHash:{format:"bytes32"},blockNumber:{format:"uint"},address:{format:"address"},data:{format:"bytes"},topics:{type:"array",items:{format:"bytes32"}}}};Object.assign({},logSchema);const storageProofSchema={type:"object",properties:{key:{format:"bytes32"},value:{format:"uint"},proof:{type:"array",items:{format:"bytes32"}}}};Object.assign({},storageProofSchema);FMT_BYTES.HEX,FMT_NUMBER.NUMBER;const numberLimits=new Map;let base=BigInt(256);for(let e=8;e<=256;e+=8)numberLimits.set(`uint${e}`,{min:BigInt(0),max:base-BigInt(1)}),numberLimits.set(`int${e}`,{min:-base/BigInt(2),max:base/BigInt(2)-BigInt(1)}),base*=BigInt(256);numberLimits.set("int",numberLimits.get("int256"));numberLimits.set("uint",numberLimits.get("uint256"));BigInt(1)<<BigInt(256);Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));var Transport;(function(e){e.HTTPS="https",e.WebSocket="wss"})(Transport||(Transport={}));var Network;(function(e){e.ETH_MAINNET="eth_mainnet",e.ETH_SEPOLIA="eth_sepolia",e.ETH_HOLESKY="eth_holesky",e.POLYGON_MAINNET="polygon_mainnet",e.POLYGON_AMOY="polygon_amoy",e.AVALANCHE_C_MAINNET="avalanche_c_mainnet",e.AVALANCHE_P_MAINNET="avalanche_p_mainnet",e.AVALANCHE_X_MAINNET="avalanche_x_mainnet",e.ARBITRUM_MAINNET="arbitrum_mainnet",e.ARBITRUM_SEPOLIA="arbitrum_sepolia",e.BASE_MAINNET="base_mainnet",e.BASE_SEPOLIA="base_sepolia",e.OPTIMISM_MAINNET="optimism_mainnet",e.OPTIMISM_SEPOLIA="optimism_sepolia",e.FANTOM_MAINNET="fantom_mainnet",e.FANTOM_TESTNET="fantom_testnet",e.DYMENSION_MAINNET="dymension_mainnet",e.DYMENSION_TESTNET="dymension_testnet",e.BNB_MAINNET="bnb_mainnet",e.BNB_TESTNET="bnb_testnet",e.BSC_MAINNET="bsc_mainnet",e.BSC_TESTNET="bsc_testnet",e.ARBITRUM_ONE="arbitrum_one",e.ARBITRUM_NOVA="arbitrum_nova",e.AVALANCHE_FUJI_C="avalanche_fuji_c",e.AVALANCHE_FUJI_P="avalanche_fuji_p",e.AVALANCHE_FUJI_X="avalanche_fuji_x",e.BLAST_MAINNET="blast_mainnet",e.OPBNB_MAINNET="opbnb_mainnet",e.OPBNB_TESTNET="opbnb_testnet",e.GNOSIS_MAINNET="gnosis_mainnet",e.GNOSIS_CHIADO="gnosis_chiado",e.PULSECHAIN_MAINNET="pulsechain_mainnet",e.PULSECHAIN_TESTNET="pulsechain_testnet",e.KAVA_MAINNET="kava_mainnet",e.CRONOS_MAINNET="cronos_mainnet",e.MANTLE_MAINNET="mantle_mainnet",e.CHILIZ_MAINNET="chiliz_mainnet",e.CHILIZ_SPICY="chiliz_spicy",e.MOONBEAM_MAINNET="moonbeam_mainnet",e.TAIKO_MAINNET="taiko_mainnet",e.TAIKO_HEKLA="taiko_hekla",e.LINEA_MAINNET="linea_mainnet",e.LINEA_SEPOLIA="linea_sepolia",e.BAHAMUT_MAINNET="bahamut_mainnet",e.SCROLL_MAINNET="scroll_mainnet",e.SCROLL_SEPOLIA="scroll_sepolia",e.TRON_MAINNET="tron_mainnet",e.SYSCOIN_MAINNET="syscoin_mainnet",e.SYSCOIN_TANENBAUM="syscoin_tanenbaum",e.MOONRIVER_MAINNET="moonriver_mainnet",e.HAQQ_MAINNET="haqq_mainnet",e.EVMOS_MAINNET="evmos_mainnet",e.EVMOS_TESTNET="evmos_testnet",e.BERACHAIN_TESTNET="berachain_testnet"})(Network||(Network={}));const ERR_QUICK_NODE_RATE_LIMIT=1300;class QuickNodeRateLimitError extends BaseWeb3Error{constructor(t){super("You've reach the rate limit of free RPC calls from our Partner Quick Nodes. There are two options you can either create a paid Quick Nodes account and get 20% off for 2 months using WEB3JS referral code, or use Free public RPC endpoint.",t),this.code=ERR_QUICK_NODE_RATE_LIMIT}}const ERR_PROVIDER_CONFIG_OPTIONS=1301;class ProviderConfigOptionsError extends BaseWeb3Error{constructor(t){super(`Invalid provider config options given for ${t}`),this.code=ERR_PROVIDER_CONFIG_OPTIONS}}var __awaiter$1=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function u(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};class Web3ExternalProvider extends Eip1193Provider{constructor(t,n,r,i,s){if(super(),s!==void 0&&n===Transport.HTTPS&&!("providerOptions"in s))throw new ProviderConfigOptionsError("HTTP Provider");if(s!==void 0&&n===Transport.WebSocket&&!("socketOptions"in s||"reconnectOptions"in s))throw new ProviderConfigOptionsError("Websocket Provider");this.transport=n,n===Transport.HTTPS?this.provider=new HttpProvider(this.getRPCURL(t,n,r,i),s):n===Transport.WebSocket&&(this.provider=new WebSocketProvider(this.getRPCURL(t,n,r,i),s==null?void 0:s.socketOptions,s==null?void 0:s.reconnectOptions))}request(t,n){return __awaiter$1(this,void 0,void 0,function*(){return this.transport===Transport.HTTPS?yield this.provider.request(t,n):this.provider.request(t)})}getStatus(){return this.provider.getStatus()}supportsSubscriptions(){return this.provider.supportsSubscriptions()}once(t,n){var r;!((r=this.provider)===null||r===void 0)&&r.once&&this.provider.once(t,n)}removeAllListeners(t){var n;!((n=this.provider)===null||n===void 0)&&n.removeAllListeners&&this.provider.removeAllListeners(t)}connect(){var t;!((t=this.provider)===null||t===void 0)&&t.connect&&this.provider.connect()}disconnect(t,n){var r;!((r=this.provider)===null||r===void 0)&&r.disconnect&&this.provider.disconnect(t,n)}reset(){var t;!((t=this.provider)===null||t===void 0)&&t.reset&&this.provider.reset()}on(t,n){this.provider&&this.provider.on(t,n)}removeListener(t,n){this.provider&&this.provider.removeListener(t,n)}}var __awaiter=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function u(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};const isValid$1=e=>e!==void 0&&e.trim().length>0;class QuickNodeProvider extends Web3ExternalProvider{constructor(t=Network.ETH_MAINNET,n=Transport.HTTPS,r="",i="",s){super(t,n,r,i,s)}request(t,n){const r=Object.create(null,{request:{get:()=>super.request}});return __awaiter(this,void 0,void 0,function*(){try{return yield r.request.call(this,t,n)}catch(i){throw i instanceof ResponseError&&i.statusCode===429?new QuickNodeRateLimitError(i):i}})}getRPCURL(t,n,r,i){let s="",o="";switch(t){case Network.ETH_MAINNET:s=isValid$1(i)?i:"powerful-holy-bush.quiknode.pro",o=isValid$1(r)?r:"3240624a343867035925ff7561eb60dfdba2a668";break;case Network.ETH_SEPOLIA:s=isValid$1(i)?i:"dimensional-fabled-glitter.ethereum-sepolia.quiknode.pro",o=isValid$1(r)?r:"382a3b5a4b938f2d6e8686c19af4b22921fde2cd";break;case Network.ETH_HOLESKY:s=isValid$1(i)?i:"yolo-morning-card.ethereum-holesky.quiknode.pro",o=isValid$1(r)?r:"481ebe70638c4dcf176af617a16d02ab866b9af9";break;case Network.ARBITRUM_MAINNET:s=isValid$1(i)?i:"autumn-divine-dinghy.arbitrum-mainnet.quiknode.pro",o=isValid$1(r)?r:"a5d7bfbf60b5ae9ce3628e53d69ef50d529e9a8c";break;case Network.ARBITRUM_SEPOLIA:s=isValid$1(i)?i:"few-patient-pond.arbitrum-sepolia.quiknode.pro",o=isValid$1(r)?r:"3be985450970628c860b959c65cd2642dcafe53c";break;case Network.BNB_MAINNET:s=isValid$1(i)?i:"purple-empty-reel.bsc.quiknode.pro",o=isValid$1(r)?r:"ebf6c532961e21f092ff2facce1ec4c89c540158";break;case Network.BNB_TESTNET:s=isValid$1(i)?i:"floral-rough-scion.bsc-testnet.quiknode.pro",o=isValid$1(r)?r:"5b297e5acff5f81f4c37ebf6f235f7299b6f9d28";break;case Network.POLYGON_MAINNET:s=isValid$1(i)?i:"small-chaotic-moon.matic.quiknode.pro",o=isValid$1(r)?r:"847569f8a017e84d985e10d0f44365d965a951f1";break;case Network.POLYGON_AMOY:s=isValid$1(i)?i:"prettiest-side-shape.matic-amoy.quiknode.pro",o=isValid$1(r)?r:"79a9476eea661d4f82de614db1d8a895b14b881c";break;default:throw new Error("Network info not avalible.")}return`${n}://${s}/${o}`}}const isValid=e=>e!==void 0&&e.trim().length>0,websocketExclusions=[Network.DYMENSION_MAINNET,Network.DYMENSION_TESTNET,Network.KAVA_MAINNET,Network.CRONOS_MAINNET,Network.POLYGON_MAINNET];class PublicNodeProvider extends Web3ExternalProvider{constructor(t=Network.ETH_MAINNET,n=Transport.HTTPS,r="",i){super(t,n,"",r,i)}getRPCURL(t,n,r,i){if(!PublicNodeProvider.networkHostMap[t])throw new Error("Network info not avalible.");const s=`${PublicNodeProvider.networkHostMap[t]}.publicnode.com`,o=isValid(i)?i:s;return websocketExclusions.includes(t)&&n===Transport.WebSocket?`${n}://${o}/websocket`:`${n}://${o}`}}PublicNodeProvider.networkHostMap={[Network.POLYGON_AMOY]:"polygon-amoy-bor-rpc",[Network.DYMENSION_MAINNET]:"dymension-evm-rpc",[Network.DYMENSION_TESTNET]:"dymension-testnet-evm-rpc",[Network.BLAST_MAINNET]:"blast-rpc",[Network.GNOSIS_MAINNET]:"gnosis-rpc",[Network.PULSECHAIN_MAINNET]:"pulsechain-rpc",[Network.PULSECHAIN_TESTNET]:"pulsechain-testnet-rpc",[Network.KAVA_MAINNET]:"kava-evm-rpc",[Network.CRONOS_MAINNET]:"cronos-evm-rpc",[Network.MANTLE_MAINNET]:"mantle-rpc",[Network.TAIKO_MAINNET]:"taiko-rpc",[Network.TAIKO_HEKLA]:"taiko-hekla-rpc",[Network.LINEA_MAINNET]:"linea-rpc",[Network.LINEA_SEPOLIA]:"linea-sepolia-rpc",[Network.SCROLL_MAINNET]:"scroll-rpc",[Network.SCROLL_SEPOLIA]:"scroll-sepolia-rpc",[Network.SYSCOIN_MAINNET]:"syscoin-evm-rpc",[Network.SYSCOIN_TANENBAUM]:"syscoin-tanenbaum-evm-rpc",[Network.HAQQ_MAINNET]:"haqq-evm-rpc",[Network.EVMOS_MAINNET]:"evmos-evm-rpc",[Network.EVMOS_TESTNET]:"evmos-testnet-evm-rpc",[Network.BERACHAIN_TESTNET]:"berachain-testnet-evm-rpc",[Network.ETH_MAINNET]:"ethereum-rpc",[Network.ETH_SEPOLIA]:"ethereum-sepolia-rpc",[Network.ETH_HOLESKY]:"ethereum-holesky-rpc",[Network.BSC_MAINNET]:"bsc-rpc",[Network.BSC_TESTNET]:"bsc-testnet-rpc",[Network.POLYGON_MAINNET]:"polygon-bor-rpc",[Network.BASE_MAINNET]:"base-rpc",[Network.BASE_SEPOLIA]:"base-sepolia-rpc",[Network.ARBITRUM_ONE]:"arbitrum-one-rpc",[Network.ARBITRUM_NOVA]:"arbitrum-nova-rpc",[Network.ARBITRUM_SEPOLIA]:"arbitrum-sepolia-rpc",[Network.AVALANCHE_C_MAINNET]:"avalanche-c-chain-rpc",[Network.AVALANCHE_P_MAINNET]:"avalanche-p-chain-rpc",[Network.AVALANCHE_X_MAINNET]:"avalanche-x-chain-rpc",[Network.AVALANCHE_FUJI_C]:"avalanche-fuji-c-chain-rpc",[Network.AVALANCHE_FUJI_P]:"avalanche-fuji-p-chain-rpc",[Network.AVALANCHE_FUJI_X]:"avalanche-fuji-x-chain-rpc",[Network.OPTIMISM_MAINNET]:"optimism-rpc",[Network.OPTIMISM_SEPOLIA]:"optimism-sepolia-rpc",[Network.FANTOM_MAINNET]:"fantom-rpc",[Network.FANTOM_TESTNET]:"fantom-testnet-rpc",[Network.OPBNB_MAINNET]:"opbnb-rpc",[Network.OPBNB_TESTNET]:"opbnb-testnet-rpc",[Network.GNOSIS_CHIADO]:"gnosis-chiado-rpc",[Network.CHILIZ_MAINNET]:"chiliz-rpc",[Network.CHILIZ_SPICY]:"chiliz-spicy-rpc",[Network.MOONBEAM_MAINNET]:"moonbeam-rpc",[Network.BAHAMUT_MAINNET]:"bahamut-rpc",[Network.TRON_MAINNET]:"tron-evm-rpc",[Network.MOONRIVER_MAINNET]:"moonriver-rpc"};new QuickNodeProvider;var Eip6963EventName;(function(e){e.eip6963announceProvider="eip6963:announceProvider",e.eip6963requestProvider="eip6963:requestProvider"})(Eip6963EventName||(Eip6963EventName={}));new WalletStrategy(Wallet.Keplr,CHAIN_ID);const DECIMALS={usdt:"6",lux:{[ContractsPlane.EVM]:"18",[ContractsPlane.WASM]:"18",[ContractsPlane.COSMOS]:"18",[ContractsPlane.SVM]:"9"},btc:"8",eth:{[ContractsPlane.EVM]:"18",[ContractsPlane.WASM]:"18",[ContractsPlane.COSMOS]:"18",[ContractsPlane.SVM]:"9"},sol:"9"},getDecimals=(e,t)=>{try{return typeof DECIMALS[e]=="string"?DECIMALS[e]:DECIMALS[e][t]}catch{return"0"}},DEFAULT_SVM_DENOM={"3oCSq77hqRsj1s4J5cYSzNQ3csFhqZ2pKiE1pjgPAAHe":{dst_addr:"SOL-USDT LP",src_decimals:"9"},D2TmVKR1M3o84yM3cidUq269oozD8NE4SB4D1aoenoBW:{dst_addr:"ETH-USDT LP",src_decimals:"9"},CcKMK7sZ6BieryoMB4EjyvGfDWgVyA2PioArdZEub5wJ:{dst_addr:"BTC-USDT LP",src_decimals:"9"}},getDenom=async(e,t)=>{let n,r=e;switch(t){case ContractsPlane.WASM:r=getEthereumAddress(e).split("0x")[1],n=await getDenomLink({srcPlane:t,dstPlane:ContractsPlane.COSMOS,denom:r});break;case ContractsPlane.SVM:DEFAULT_SVM_DENOM[r]?n=DEFAULT_SVM_DENOM[r]:(r=buffer.Buffer.from(new PublicKey$1(e).toBuffer()).toString("hex"),n=await getDenomLink({srcPlane:t,dstPlane:ContractsPlane.COSMOS,denom:r}));break;case ContractsPlane.EVM:n=await getDenomLink({srcPlane:t,dstPlane:ContractsPlane.COSMOS,denom:e})}return{denom:(n==null?void 0:n.dst_addr)||e,decimals:(n==null?void 0:n.src_decimals)||getDecimals(e,t)}},pushAssets=async(e,t)=>{const n=useWalletStore();if(e.contract=e.denom,e.denom_metadata)e.name=e.denom_metadata.name,e.logo=e.denom_metadata.logo,e.decimals=e.denom_metadata.decimals,e.symbol=e.denom_metadata.symbol;else{try{const{denom:r,decimals:i}=await getDenom(e.denom,t);e.denom=r,e.decimals=i}catch{}e.name=e.denom}e.amount=bigNumberWeiToBase(e.amount,Number(e.decimals)),n.pushAssets([{...e}],t)},handleAssetBalances=e=>{e==null||e.forEach(async t=>{const n=planeToJSON(t.plane);switch(t.plane=n,n){case ContractsPlane.COSMOS:await pushAssets(t,ContractsPlane.COSMOS);break;case ContractsPlane.EVM:await pushAssets(t,ContractsPlane.EVM);break;case ContractsPlane.WASM:await pushAssets(t,ContractsPlane.WASM);break;case ContractsPlane.SVM:await pushAssets(t,ContractsPlane.SVM);break}})},toHex=e=>buffer.Buffer.from(e).toString("hex"),FISQueryToJSON=e=>({plane:planeToJSON(e.plane),action:queryActionToJSON(e.action),address:toHex(e.address),input:e.input.map(t=>buffer.Buffer.from(t).toString())}),getStrategyById=async e=>{const{indexerExplorerQueryClient:t}=getClients(),{strategy:n}=await t.getStrategyById(e);if(!n)throw new Error("Strategy not found");return parseStrategy(n)},listStrategies=async e=>{const{indexerExplorerQueryClient:t}=getClients(),n=await t.listStrategiesByOwner({...e,type:{value:StrategyType.STRATEGY}}),{strategies:r,...i}=n;return{...i,strategies:r==null?void 0:r.map(s=>parseStrategy(s))}},listIntentSolver=async e=>{const{indexerExplorerQueryClient:t}=getClients(),n=await t.listStrategies({...e,type:{value:StrategyType.INTENT_SOLVER}}),{strategies:r,...i}=n;return{...i,strategies:r==null?void 0:r.map(s=>parseStrategy(s))}},listCron=async e=>{const{indexerExplorerQueryClient:t}=getClients(),n=await t.listStrategiesByOwner({...e,type:{value:StrategyType.CRON}}),{strategies:r,...i}=n;return{...i,strategies:r==null?void 0:r.map(s=>parseStrategy(s))}},parseStrategy=e=>({...e,metadata:{...e.metadata,supported_apps:e.metadata.supported_apps.map(t=>({...t,plane:planeToJSON(t.plane)}))},id:toHex(e.id),query:{instructions:e.query.instructions.map(t=>FISQueryToJSON(t))}}),isCronLogSuccess=e=>e.success,parseStrategyLog=e=>{var i;const t=Number(e.time)/1e9,n=new Date(t*1e3);let r=buffer.Buffer.from(e.instructions).toString();try{r=JSON.parse(r)}catch{r={instructions:[]}}return r=(i=r==null?void 0:r.instructions)==null?void 0:i.map(s=>({...s,msg:JSON.parse(buffer.Buffer.from(s.msg).toString())})),{...e,time:n,fis_transaction_output:buffer.Buffer.from(e.fis_transaction_output).toString("hex"),id:buffer.Buffer.from(e.id).toString("hex"),instructions:r}},useStreamManagerStore=defineStore("streamManagerStore",()=>{const e=ref({});return{store:e,set:(a,u,c)=>{if(e.value[u]){if(!c)return null;e.value[u].unsubscribe()}e.value[u]=a},get:a=>e.value[a]?e.value[a]:null,cancelAll:()=>{Object.keys(e.value).forEach(a=>{e.value[a].unsubscribe()})},cancel:a=>{if(!e.value[a])return null;e.value[a].unsubscribe(),delete e.value[a]},cancelIfExists:a=>{e.value[a]&&(e.value[a].unsubscribe(),delete e.value[a])},generateStreamKey:a=>{let u="";return a.page&&(u+=a.page),a.class_id&&(u+=a.class_id),a.id&&(u+="-"+a.id),a.project_id&&(u+="-"+a.project_id),a.owner&&(u+="-owner="+a.owner),a.address&&(u+="-address="+a.address),a.status&&(u+="-status="+a.status),a.height&&(u+="-height="+a.height),a.modules&&(u+="-modules="+a.modules.join(",")),u}}});function useWallet(){const e="stream-balances",t=useWalletStore(),n=useStreamManagerStore(),r=computed(()=>t.store.address),i=computed(()=>t.store.balance),s=computed(()=>t.store.isConnected),o=computed(()=>t.store.walletName),a=computed(()=>t.store.assets),u=computed(()=>t.store.isFetching),c=computed(()=>t.store.isOpenModalWallets),d=computed(()=>t.store.isOpenModalWarningKeplrWallet),f=computed(()=>t.store.EVM.assets),m=computed(()=>t.store.COSMOS.assets),h=computed(()=>t.store.WASM.assets),_=computed(()=>t.store.SVM.assets),y=computed(()=>t.store.svmAccountLink),p=S=>S===ContractsPlane.SVM&&o.value===Wallet.Metamask,w=async()=>{try{const S=await getAccountLink(r.value);S!=null&&S.link&&t.setStore({svmAccountLink:getSvmAddress(S.link.svm_addr).toBase58()})}catch{t.setStore({svmAccountLink:null})}},T=async()=>{if(!r.value)return;const{indexerExplorerQueryClient:S}=getClients(),C=await S.streamBalances({address:r.value,pagination:void 0},N=>{handleAssetBalances(N.balances)});n.set(C,e,!0)},E=()=>{n.cancel(e)};return{address:r,balance:i,isConnected:s,walletName:o,assets:a,isOpenModalWallets:c,isOpenModalWarningKeplrWallet:d,EVMAssets:f,COSMOSAssets:m,WASMAssets:h,SVMAssets:_,isFetching:u,pushAssets:t.pushAssets,toggleModalWallets:t.toggleModalWallets,toggleModalWarningKeplrWallet:t.toggleModalWarningKeplrWallet,isShowWarningKeplrWallet:p,streamBalances:T,onCancelStream:E,fetchSVMAccountLink:w,svmAccountLink:y}}function useStrategy(){const{address:e}=useWallet(),t=useStrategyStore(),n=computed(()=>t.store.strategies),r=computed(()=>t.store.isFetching),i=computed(()=>t.store.isFetched),s=async()=>{try{if(!e.value)throw new Error("Please connect wallet");t.store.isFetched||t.setStore({isFetching:!0});const{strategies:a}=await listStrategies({owner:e.value});t.setStore({strategies:a,isFetching:!1,isFetched:!0})}catch{t.setStore({isFetching:!1})}},o=async a=>{if(e.value)try{await delay(1e3);const u=await getStrategyById(a),c=t.store.strategies.findIndex(f=>f.id===a);let d=t.store.strategies;c!==-1&&(d[c]=u),t.setStore({strategies:d})}catch{t.setStore({isFetching:!1})}};return{strategies:n,isFetching:r,isFetched:i,store:t.store,setStore:t.setStore,resetStore:t.resetStore,getStrategy:s,getStrategyById:o}}const initStore$1=()=>deepClone({data:[],isFetched:!1,isFetching:!1}),useCronStore=defineStore("cronStore",()=>{const e=ref(initStore$1());return{setStore:r=>{Object.keys(r).forEach(s=>{e.value={...e.value,[s]:r[s]}})},store:e,resetStore:()=>{e.value=initStore$1()}}}),CRON_STATUS_MAP_VALUE={ALL:void 0,SUCCESS:!0,FAILED:!1},STREAM_CRON_KEY="stream-cron-service",PAGE_RANGE=10,initState=()=>deepClone({data:[],isFetching:!1,isFetched:!1,pagination:{total:"0",page:1}});function useCronService(){const{address:e}=useWallet(),t=useStreamManagerStore(),n=reactive({ALL:initState(),SUCCESS:initState(),FAILED:initState()}),r=ref("ALL"),i=ref(),s=useCronStore(),o=computed(()=>s.store.data),a=computed(()=>s.store.isFetching),u=computed(()=>s.store.isFetched),c=async()=>{if(e.value)try{s.store.isFetched||s.setStore({isFetching:!0});const{strategies:N}=await listCron({owner:e.value});s.setStore({data:N,isFetching:!1,isFetched:!0})}catch{s.setStore({isFetching:!1})}},d=async N=>{if(e.value)try{const A=await getStrategyById(N),x=s.store.data.findIndex(v=>v.id===N);let L=s.store.data;x!==-1&&(L[x]=A),s.setStore({strategies:L})}catch{s.setStore({isFetching:!1})}},f=(N,A)=>{const x=parseStrategyLog(N);n[A].data.some(L=>L.height===x.height)||(n[A].data=[x,...n[A].data].slice(0,PAGE_RANGE))},m=(N,A=1)=>{n[N].pagination.total=(parseInt(n[N].pagination.total)+A).toString()},h=N=>n[N].pagination.page===1,_=async N=>{const{indexerExplorerQueryClient:A}=getClients(),x=`cron-${N}`,L=await A.streamStrategyTriggers([N],v=>{v.triggers.forEach(I=>{i.value=I,h("ALL")&&f(I,"ALL"),isCronLogSuccess(I)&&h("SUCCESS")&&f(I,"SUCCESS"),!isCronLogSuccess(I)&&h("FAILED")&&f(I,"FAILED"),m("ALL",1),isCronLogSuccess(I)?m("SUCCESS",1):m("FAILED",1)})});t.set(L,x,!0)},y=async()=>{if(!e.value)return;const{indexerExplorerQueryClient:N}=getClients(),A=STREAM_CRON_KEY,x=await N.streamStrategies({owner:e.value,type:{value:StrategyType.CRON},tags:[],supported_app:void 0},L=>{const v=L.strategies.map(R=>parseStrategy(R)),I=deepClone(s.store.data);v.forEach(R=>{const O=I.findIndex(g=>g.id===R.id);O!==-1?I[O]=R:I.unshift(R)}),s.setStore({data:I})});t.set(x,A,!0)},p=()=>{t.cancelIfExists(STREAM_CRON_KEY)},w=async N=>{T(N,"SUCCESS"),T(N,"FAILED"),T(N,"ALL")},T=async(N,A)=>{var x;try{const{indexerExplorerQueryClient:L}=getClients();n[A].isFetching=!0;const v=await L.listStrategyTriggersById({id:N,success:CRON_STATUS_MAP_VALUE[A],pagination:{limit:PAGE_RANGE.toString(),offset:((n[A].pagination.page-1)*PAGE_RANGE).toString()}});n[A].data=v.triggers.map(I=>parseStrategyLog(I)),h(A)&&(n[A].pagination.total=(x=v.pagination)==null?void 0:x.total),A==="ALL"&&h("SUCCESS")&&(i.value=v.triggers[0])}catch{}n[A].isFetching=!1},E=N=>{const A=`cron-${N}`;t.cancelIfExists(A)},S=N=>{r.value=N},C=()=>{n.ALL=initState(),n.SUCCESS=initState(),n.FAILED=initState()};return{data:o,isFetching:a,isFetched:u,cronLogs:n,lastestLog:i,pageRange:PAGE_RANGE,store:s.store,activeStatus:r,setStore:s.setStore,resetStore:s.resetStore,getCrons:c,getCronById:d,onStreamCron:_,onCancelStreamCron:E,getCronLogs:T,getAllStatusLogs:w,changeStatus:S,clearLogs:C,onStreamCrons:y,onCancelStreamCrons:p}}const initStore=()=>deepClone({data:[],isFetched:!1,isFetching:!1}),useIntentSolverStore=defineStore("intentSolverStore",()=>{const e=ref(initStore());return{setStore:r=>{Object.keys(r).forEach(s=>{e.value={...e.value,[s]:r[s]}})},store:e,resetStore:()=>{e.value=initStore()}}});function useIntentSolver(){const{address:e}=useWallet(),t=useIntentSolverStore(),n=computed(()=>t.store.data),r=computed(()=>t.store.isFetching),i=computed(()=>t.store.isFetched),s=async()=>{try{t.store.isFetched||t.setStore({isFetching:!0});const{strategies:a}=await listIntentSolver({});a.sort((u,c)=>{var m,h,_,y;const d=((h=(m=u.metadata.supported_apps)==null?void 0:m.filter(p=>p.verified))==null?void 0:h.length)||0;return(((y=(_=c.metadata.supported_apps)==null?void 0:_.filter(p=>p.verified))==null?void 0:y.length)||0)-d}),t.setStore({data:a,isFetching:!1,isFetched:!0})}catch{t.setStore({isFetching:!1})}},o=async a=>{if(e.value)try{const u=await getStrategyById(a),c=t.store.data.findIndex(f=>f.id===a);let d=t.store.data;c!==-1&&(d[c]=u),t.setStore({data:d})}catch{t.setStore({isFetching:!1})}};return{data:n,isFetching:r,isFetched:i,store:t.store,setStore:t.setStore,resetStore:t.resetStore,getIntentSolver:s,getIntentSolverById:o}}function useWatchAddressChange(e){const{address:t}=useWallet();watch([()=>t.value],([n],[r])=>{if(n&&n!==r)try{e&&e(n)}catch(i){console.log(i)}})}function useWatchNetworkChange(e){const t=useNetworkStore();watch([()=>t.store.network,()=>t.store.connected],([n,r],[i,s])=>{n&&r&&(n!==i||!s&&r)&&e&&e()})}const _hoisted_1={class:"flex-1 flex flex-col"},_hoisted_2={class:"w-full overflow-auto pb-2 mt-2"},_sfc_main=defineComponent({__name:"nexus-bots",setup(e){const t=y=>Object.keys(NEXUS_BOTS_ROUTER_MAP_TAB).includes(y),{getStrategy:n}=useStrategy(),{getCrons:r,onStreamCrons:i,onCancelStreamCrons:s}=useCronService(),{getIntentSolver:o}=useIntentSolver(),a=useRouter(),u=useRoute();useWallet();const c=TabsManager.getTab(TabKeys.NEXUS_BOTS),d=u.path.split("/")[2],f=t(d)?NEXUS_BOTS_ROUTER_MAP_TAB[d]:c??0,m=ref(f),h=["Strategy","Intent Solver","Cron Service"],_=async()=>{n(),o(),r()};return useWatchAddressChange(()=>{_(),i()}),useWatchNetworkChange(()=>{_(),i()}),onMounted(()=>{f!==c&&TabsManager.setTab(TabKeys.NEXUS_BOTS,f),_(),i()}),onUnmounted(()=>{s()}),watch(m,y=>{TabsManager.setTab(TabKeys.NEXUS_BOTS,y),a.replace("/nexus-bots/"+TAB_MAP_NEXUS_BOTS_ROUTER[y])}),(y,p)=>{const w=__nuxt_component_0;return openBlock(),createElementBlock("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,[createVNode(w,{items:h,modelValue:unref(m),"onUpdate:modelValue":p[0]||(p[0]=T=>isRef(m)?m.value=T:null),class:"border-b border-blueGray-light-300"},null,8,["modelValue"])]),renderSlot(y.$slots,"default")])}}});export{_sfc_main as default};
